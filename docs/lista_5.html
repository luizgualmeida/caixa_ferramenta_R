<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.3.353">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">


<title>Técnicas e Métodos de Pesquisa no R - 5&nbsp; Lista 5 - Generalized Linear Model Aula Prática</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
/* CSS for syntax highlighting */
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
  }
pre.numberSource { margin-left: 3em;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
</style>


<script src="site_libs/quarto-nav/quarto-nav.js"></script>
<script src="site_libs/quarto-nav/headroom.min.js"></script>
<script src="site_libs/clipboard/clipboard.min.js"></script>
<script src="site_libs/quarto-search/autocomplete.umd.js"></script>
<script src="site_libs/quarto-search/fuse.min.js"></script>
<script src="site_libs/quarto-search/quarto-search.js"></script>
<meta name="quarto:offset" content="./">
<link href="./survival.html" rel="next">
<link href="./lista_4.html" rel="prev">
<script src="site_libs/quarto-html/quarto.js"></script>
<script src="site_libs/quarto-html/popper.min.js"></script>
<script src="site_libs/quarto-html/tippy.umd.min.js"></script>
<script src="site_libs/quarto-html/anchor.min.js"></script>
<link href="site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="site_libs/quarto-html/quarto-syntax-highlighting.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="site_libs/bootstrap/bootstrap.min.js"></script>
<link href="site_libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="site_libs/bootstrap/bootstrap.min.css" rel="stylesheet" id="quarto-bootstrap" data-mode="light">
<script id="quarto-search-options" type="application/json">{
  "location": "sidebar",
  "copy-button": false,
  "collapse-after": 3,
  "panel-placement": "start",
  "type": "textbox",
  "limit": 20,
  "language": {
    "search-no-results-text": "No results",
    "search-matching-documents-text": "matching documents",
    "search-copy-link-title": "Copy link to search",
    "search-hide-matches-text": "Hide additional matches",
    "search-more-match-text": "more match in this document",
    "search-more-matches-text": "more matches in this document",
    "search-clear-button-title": "Clear",
    "search-detached-cancel-button-title": "Cancel",
    "search-submit-button-title": "Submit"
  }
}</script>

  <script src="https://polyfill.io/v3/polyfill.min.js?features=es6"></script>
  <script src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-chtml-full.js" type="text/javascript"></script>

</head>

<body class="nav-sidebar floating">

<div id="quarto-search-results"></div>
  <header id="quarto-header" class="headroom fixed-top">
  <nav class="quarto-secondary-nav">
    <div class="container-fluid d-flex">
      <button type="button" class="quarto-btn-toggle btn" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar,#quarto-sidebar-glass" aria-controls="quarto-sidebar" aria-expanded="false" aria-label="Toggle sidebar navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
        <i class="bi bi-layout-text-sidebar-reverse"></i>
      </button>
      <nav class="quarto-page-breadcrumbs" aria-label="breadcrumb"><ol class="breadcrumb"><li class="breadcrumb-item"><a href="./lms.html">GLM, GEE, GMM, GzLM</a></li><li class="breadcrumb-item"><a href="./lista_5.html"><span class="chapter-number">5</span>&nbsp; <span class="chapter-title">Lista 5 - Generalized Linear Model Aula Prática</span></a></li></ol></nav>
      <a class="flex-grow-1" role="button" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar,#quarto-sidebar-glass" aria-controls="quarto-sidebar" aria-expanded="false" aria-label="Toggle sidebar navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">      
      </a>
      <button type="button" class="btn quarto-search-button" aria-label="Search" onclick="window.quartoOpenSearch();">
        <i class="bi bi-search"></i>
      </button>
    </div>
  </nav>
</header>
<!-- content -->
<div id="quarto-content" class="quarto-container page-columns page-rows-contents page-layout-article">
<!-- sidebar -->
  <nav id="quarto-sidebar" class="sidebar collapse collapse-horizontal sidebar-navigation floating overflow-auto">
    <div class="pt-lg-2 mt-2 text-left sidebar-header">
    <div class="sidebar-title mb-0 py-0">
      <a href="./">Técnicas e Métodos de Pesquisa no R</a> 
        <div class="sidebar-tools-main">
  <a href="" class="quarto-reader-toggle quarto-navigation-tool px-1" onclick="window.quartoToggleReader(); return false;" title="Toggle reader mode">
  <div class="quarto-reader-toggle-btn">
  <i class="bi"></i>
  </div>
</a>
</div>
    </div>
      </div>
        <div class="mt-2 flex-shrink-0 align-items-center">
        <div class="sidebar-search">
        <div id="quarto-search" class="" title="Search"></div>
        </div>
        </div>
    <div class="sidebar-menu-container"> 
    <ul class="list-unstyled mt-1">
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./index.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Introdução</span></a>
  </div>
</li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a href="./lms.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">GLM, GEE, GMM, GzLM</span></a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-1" aria-expanded="true" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-1" class="collapse list-unstyled sidebar-section depth1 show">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./lista_1.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">1</span>&nbsp; <span class="chapter-title">Lista 1 - GLM, GEE e GMM</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./lista_2.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">2</span>&nbsp; <span class="chapter-title">Lista 2 - GEE</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./lista_3.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">3</span>&nbsp; <span class="chapter-title">Lista 3 - Matriz de Covariância</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./lista_4.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">4</span>&nbsp; <span class="chapter-title">Lista 4 - GMM e ICC</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./lista_5.html" class="sidebar-item-text sidebar-link active">
 <span class="menu-text"><span class="chapter-number">5</span>&nbsp; <span class="chapter-title">Lista 5 - Generalized Linear Model Aula Prática</span></span></a>
  </div>
</li>
      </ul>
  </li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a href="./survival.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">SURVIVAL</span></a>
          <a class="sidebar-item-toggle text-start collapsed" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-2" aria-expanded="false" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-2" class="collapse list-unstyled sidebar-section depth1 ">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./lista_6.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">6</span>&nbsp; <span class="chapter-title">Lista 6 - Kaplan-Meier e Cox Regression</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./lista_6_1.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">7</span>&nbsp; <span class="chapter-title">Lista 6.1 - Cox tempo dependente</span></span></a>
  </div>
</li>
      </ul>
  </li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a href="./ARIMA.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">ARIMA</span></a>
          <a class="sidebar-item-toggle text-start collapsed" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-3" aria-expanded="false" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-3" class="collapse list-unstyled sidebar-section depth1 ">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./lista_7.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">8</span>&nbsp; <span class="chapter-title">Lista 7 - Séries Temporais (ARIMA)</span></span></a>
  </div>
</li>
      </ul>
  </li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a href="./SEM.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">SEM</span></a>
          <a class="sidebar-item-toggle text-start collapsed" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-4" aria-expanded="false" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-4" class="collapse list-unstyled sidebar-section depth1 ">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./lista_8.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">9</span>&nbsp; <span class="chapter-title">Lista 8 - CFA e Path Analysis</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./lista_8_1.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">10</span>&nbsp; <span class="chapter-title">Lista 8.1 - Moderação e Mediação</span></span></a>
  </div>
</li>
      </ul>
  </li>
    </ul>
    </div>
</nav>
<div id="quarto-sidebar-glass" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar,#quarto-sidebar-glass"></div>
<!-- margin-sidebar -->
    <div id="quarto-margin-sidebar" class="sidebar margin-sidebar">
        <nav id="TOC" role="doc-toc" class="toc-active">
    <h2 id="toc-title">Table of contents</h2>
   
  <ul>
  <li><a href="#carregando-os-dados-e-modificando-o-tipo-de-variável" id="toc-carregando-os-dados-e-modificando-o-tipo-de-variável" class="nav-link active" data-scroll-target="#carregando-os-dados-e-modificando-o-tipo-de-variável"><span class="header-section-number">5.1</span> Carregando os dados e modificando o tipo de variável</a></li>
  <li><a href="#boas-práticas" id="toc-boas-práticas" class="nav-link" data-scroll-target="#boas-práticas"><span class="header-section-number">5.2</span> Boas práticas</a></li>
  <li><a href="#verificando-a-representatividade-dos-dados" id="toc-verificando-a-representatividade-dos-dados" class="nav-link" data-scroll-target="#verificando-a-representatividade-dos-dados"><span class="header-section-number">5.3</span> Verificando a representatividade dos dados</a></li>
  <li><a href="#a-e-b-glzm---praticar-ou-não-esportes" id="toc-a-e-b-glzm---praticar-ou-não-esportes" class="nav-link" data-scroll-target="#a-e-b-glzm---praticar-ou-não-esportes"><span class="header-section-number">5.4</span> a) e b) GLzM - Praticar ou não esportes</a></li>
  <li><a href="#criando-o-modelo" id="toc-criando-o-modelo" class="nav-link" data-scroll-target="#criando-o-modelo"><span class="header-section-number">5.5</span> Criando o modelo</a></li>
  <li><a href="#resultados-do-modelo" id="toc-resultados-do-modelo" class="nav-link" data-scroll-target="#resultados-do-modelo"><span class="header-section-number">5.6</span> Resultados do modelo</a></li>
  <li><a href="#c-comparando-modelos" id="toc-c-comparando-modelos" class="nav-link" data-scroll-target="#c-comparando-modelos"><span class="header-section-number">5.7</span> c) Comparando modelos</a></li>
  <li><a href="#d-e-e-número-de-filhos-vd" id="toc-d-e-e-número-de-filhos-vd" class="nav-link" data-scroll-target="#d-e-e-número-de-filhos-vd"><span class="header-section-number">5.8</span> d) e e) Número de filhos (VD)</a>
  <ul class="collapse">
  <li><a href="#modelo-glm" id="toc-modelo-glm" class="nav-link" data-scroll-target="#modelo-glm">Modelo GLM</a></li>
  <li><a href="#modelo-poisson" id="toc-modelo-poisson" class="nav-link" data-scroll-target="#modelo-poisson">Modelo Poisson</a></li>
  <li><a href="#comparando-aic-os-modelos" id="toc-comparando-aic-os-modelos" class="nav-link" data-scroll-target="#comparando-aic-os-modelos">Comparando AIC os modelos</a></li>
  <li><a href="#resultados" id="toc-resultados" class="nav-link" data-scroll-target="#resultados">Resultados</a></li>
  </ul></li>
  <li><a href="#lista-5-resolvida-no-spss" id="toc-lista-5-resolvida-no-spss" class="nav-link" data-scroll-target="#lista-5-resolvida-no-spss"><span class="header-section-number">5.9</span> Lista 5 resolvida no SPSS</a></li>
  <li><a href="#sec-extrasV" id="toc-sec-extrasV" class="nav-link" data-scroll-target="#sec-extrasV"><span class="header-section-number">5.10</span> Extras!</a>
  <ul class="collapse">
  <li><a href="#resultados-dos-modelos-na-unha" id="toc-resultados-dos-modelos-na-unha" class="nav-link" data-scroll-target="#resultados-dos-modelos-na-unha">Resultados dos modelos na unha</a></li>
  <li><a href="#pressupostos-dos-modelos-poisson" id="toc-pressupostos-dos-modelos-poisson" class="nav-link" data-scroll-target="#pressupostos-dos-modelos-poisson">Pressupostos dos modelos Poisson</a></li>
  <li><a href="#pseudo-r²" id="toc-pseudo-r²" class="nav-link" data-scroll-target="#pseudo-r²">Pseudo R²</a></li>
  <li><a href="#diferenças-principais-entre-r²-e-pseudo-r²" id="toc-diferenças-principais-entre-r²-e-pseudo-r²" class="nav-link" data-scroll-target="#diferenças-principais-entre-r²-e-pseudo-r²">Diferenças principais entre R² e Pseudo R²:</a></li>
  <li><a href="#quando-usar-poisson-e-bin-negativa" id="toc-quando-usar-poisson-e-bin-negativa" class="nav-link" data-scroll-target="#quando-usar-poisson-e-bin-negativa">Quando usar poisson e bin negativa?</a></li>
  </ul></li>
  <li><a href="#referências" id="toc-referências" class="nav-link" data-scroll-target="#referências"><span class="header-section-number">5.11</span> Referências</a></li>
  <li><a href="#versões-dos-pacotes" id="toc-versões-dos-pacotes" class="nav-link" data-scroll-target="#versões-dos-pacotes"><span class="header-section-number">5.12</span> Versões dos pacotes</a></li>
  </ul>
</nav>
    </div>
<!-- main -->
<main class="content" id="quarto-document-content">

<header id="title-block-header" class="quarto-title-block default">
<div class="quarto-title">
<h1 class="title"><span class="chapter-number">5</span>&nbsp; <span class="chapter-title">Lista 5 - Generalized Linear Model Aula Prática</span></h1>
</div>



<div class="quarto-title-meta">

    
  
    
  </div>
  

</header>

<p>Esta é uma lista focada em GLzM independente. Vamos realizar testes baseados no banco de dados Dados Amostra.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb1"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb1-1"><a href="#cb1-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(emmeans)</span>
<span id="cb1-2"><a href="#cb1-2" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(tidyverse)</span>
<span id="cb1-3"><a href="#cb1-3" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(lme4)</span>
<span id="cb1-4"><a href="#cb1-4" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(nlme)</span>
<span id="cb1-5"><a href="#cb1-5" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(flexplot)</span>
<span id="cb1-6"><a href="#cb1-6" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(foreign)</span>
<span id="cb1-7"><a href="#cb1-7" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(dplyr)</span>
<span id="cb1-8"><a href="#cb1-8" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(multcomp)</span>
<span id="cb1-9"><a href="#cb1-9" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(effects)</span>
<span id="cb1-10"><a href="#cb1-10" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(sjstats)</span>
<span id="cb1-11"><a href="#cb1-11" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(sjPlot)</span>
<span id="cb1-12"><a href="#cb1-12" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(tm)</span>
<span id="cb1-13"><a href="#cb1-13" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(report)</span>
<span id="cb1-14"><a href="#cb1-14" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(ggplot2)</span>
<span id="cb1-15"><a href="#cb1-15" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(forcats)</span>
<span id="cb1-16"><a href="#cb1-16" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(performance)</span>
<span id="cb1-17"><a href="#cb1-17" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(rempsyc)</span>
<span id="cb1-18"><a href="#cb1-18" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(easystats)</span>
<span id="cb1-19"><a href="#cb1-19" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(kableExtra)</span>
<span id="cb1-20"><a href="#cb1-20" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(fitdistrplus)</span>
<span id="cb1-21"><a href="#cb1-21" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(AER)</span>
<span id="cb1-22"><a href="#cb1-22" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(gtsummary)</span>
<span id="cb1-23"><a href="#cb1-23" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(broom)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<section id="carregando-os-dados-e-modificando-o-tipo-de-variável" class="level2" data-number="5.1">
<h2 data-number="5.1" class="anchored" data-anchor-id="carregando-os-dados-e-modificando-o-tipo-de-variável"><span class="header-section-number">5.1</span> Carregando os dados e modificando o tipo de variável</h2>
<div class="cell">
<div class="sourceCode cell-code" id="cb2"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb2-1"><a href="#cb2-1" aria-hidden="true" tabindex="-1"></a>original <span class="ot">=</span> <span class="fu">read.spss</span>(<span class="st">"Dados Amostra.sav"</span>, <span class="at">to.data.frame=</span><span class="cn">TRUE</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
<section id="boas-práticas" class="level2" data-number="5.2">
<h2 data-number="5.2" class="anchored" data-anchor-id="boas-práticas"><span class="header-section-number">5.2</span> Boas práticas</h2>
<p>Ter um clone do banco de dados e manter ele no formato original. Podemos ir comparando todas as mudanças de maneira ágil. Vamos também já verificar os tipos de variáveis que temos no banco de dados e realizar mudanças, caso necessário.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb3"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb3-1"><a href="#cb3-1" aria-hidden="true" tabindex="-1"></a>db <span class="ot">=</span> original</span>
<span id="cb3-2"><a href="#cb3-2" aria-hidden="true" tabindex="-1"></a><span class="fu">kable</span>(<span class="fu">head</span>(db))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<table data-quarto-postprocess="true" class="table table-sm table-striped small">
<thead>
<tr class="header">
<th style="text-align: right;" data-quarto-table-cell-role="th">id</th>
<th style="text-align: left;" data-quarto-table-cell-role="th">childs</th>
<th style="text-align: left;" data-quarto-table-cell-role="th">age</th>
<th style="text-align: left;" data-quarto-table-cell-role="th">educ</th>
<th style="text-align: left;" data-quarto-table-cell-role="th">sex</th>
<th style="text-align: left;" data-quarto-table-cell-role="th">life</th>
<th style="text-align: left;" data-quarto-table-cell-role="th">tvhours</th>
<th style="text-align: left;" data-quarto-table-cell-role="th">attsprts</th>
<th style="text-align: right;" data-quarto-table-cell-role="th">tempo_obs</th>
<th style="text-align: left;" data-quarto-table-cell-role="th">aderencia</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: right;">188</td>
<td style="text-align: left;">2</td>
<td style="text-align: left;">76</td>
<td style="text-align: left;">14</td>
<td style="text-align: left;">Female</td>
<td style="text-align: left;">Routine</td>
<td style="text-align: left;">5</td>
<td style="text-align: left;">NA</td>
<td style="text-align: right;">123</td>
<td style="text-align: left;">SIM</td>
</tr>
<tr class="even">
<td style="text-align: right;">730</td>
<td style="text-align: left;">2</td>
<td style="text-align: left;">48</td>
<td style="text-align: left;">12</td>
<td style="text-align: left;">Female</td>
<td style="text-align: left;">Routine</td>
<td style="text-align: left;">1</td>
<td style="text-align: left;">NA</td>
<td style="text-align: right;">424</td>
<td style="text-align: left;">SIM</td>
</tr>
<tr class="odd">
<td style="text-align: right;">855</td>
<td style="text-align: left;">0</td>
<td style="text-align: left;">19</td>
<td style="text-align: left;">13</td>
<td style="text-align: left;">Male</td>
<td style="text-align: left;">Exciting</td>
<td style="text-align: left;">1</td>
<td style="text-align: left;">NA</td>
<td style="text-align: right;">124</td>
<td style="text-align: left;">SIM</td>
</tr>
<tr class="even">
<td style="text-align: right;">866</td>
<td style="text-align: left;">0</td>
<td style="text-align: left;">38</td>
<td style="text-align: left;">16</td>
<td style="text-align: left;">Female</td>
<td style="text-align: left;">Exciting</td>
<td style="text-align: left;">NA</td>
<td style="text-align: left;">NA</td>
<td style="text-align: right;">500</td>
<td style="text-align: left;">SIM</td>
</tr>
<tr class="odd">
<td style="text-align: right;">1165</td>
<td style="text-align: left;">3</td>
<td style="text-align: left;">54</td>
<td style="text-align: left;">16</td>
<td style="text-align: left;">Female</td>
<td style="text-align: left;">NA</td>
<td style="text-align: left;">3</td>
<td style="text-align: left;">NA</td>
<td style="text-align: right;">500</td>
<td style="text-align: left;">SIM</td>
</tr>
<tr class="even">
<td style="text-align: right;">1225</td>
<td style="text-align: left;">2</td>
<td style="text-align: left;">53</td>
<td style="text-align: left;">NA</td>
<td style="text-align: left;">Female</td>
<td style="text-align: left;">Dull</td>
<td style="text-align: left;">4</td>
<td style="text-align: left;">NA</td>
<td style="text-align: right;">500</td>
<td style="text-align: left;">SIM</td>
</tr>
</tbody>
</table>


</div>
</div>
<p>Não queremos que o número de filhos (childs), idade (age), nível escolaridade (educ) e horas de TV (tvhours) sejam categóricas. Vamos alterar para que sejam numéricas com a função <code>as.numeric()</code>.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb4"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb4-1"><a href="#cb4-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Modificando o tipo das variáveis. Apenas Life, Sex, attsprts e aderencia devem ser categóricas.</span></span>
<span id="cb4-2"><a href="#cb4-2" aria-hidden="true" tabindex="-1"></a>db<span class="sc">$</span>childs <span class="ot">=</span> <span class="fu">as.integer</span>(db<span class="sc">$</span>childs)</span>
<span id="cb4-3"><a href="#cb4-3" aria-hidden="true" tabindex="-1"></a>db<span class="sc">$</span>age <span class="ot">=</span> <span class="fu">as.numeric</span>(db<span class="sc">$</span>age)</span>
<span id="cb4-4"><a href="#cb4-4" aria-hidden="true" tabindex="-1"></a>db<span class="sc">$</span>educ <span class="ot">=</span> <span class="fu">as.numeric</span>(db<span class="sc">$</span>educ)</span>
<span id="cb4-5"><a href="#cb4-5" aria-hidden="true" tabindex="-1"></a>db<span class="sc">$</span>tvhours <span class="ot">=</span> <span class="fu">as.numeric</span>(db<span class="sc">$</span>tvhours)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>Observando como elas estão agora, podemos também utilizar a função <code>glimpse()</code>.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb5"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb5-1"><a href="#cb5-1" aria-hidden="true" tabindex="-1"></a><span class="fu">glimpse</span>(db)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>Rows: 1,500
Columns: 10
$ id        &lt;dbl&gt; 188, 730, 855, 866, 1165, 1225, 1294, 1339, 1343, 168, 1390,…
$ childs    &lt;int&gt; 3, 3, 1, 1, 4, 3, 4, NA, NA, 1, 3, 2, 1, 1, 1, 3, 1, 2, 5, 4…
$ age       &lt;dbl&gt; 59, 31, 2, 21, 37, 36, 48, 35, 55, 65, 38, 26, 27, 26, 28, 6…
$ educ      &lt;dbl&gt; 13, 11, 12, 15, 15, NA, 11, 11, 8, 14, 11, 10, 15, 15, 14, 1…
$ sex       &lt;fct&gt; Female, Female, Male, Female, Female, Female, Male, Female, …
$ life      &lt;fct&gt; Routine, Routine, Exciting, Exciting, NA, Dull, NA, NA, NA, …
$ tvhours   &lt;dbl&gt; 6, 2, 2, NA, 4, 5, 2, NA, NA, 3, 3, 5, 6, 3, 5, 5, 5, 4, 7, …
$ attsprts  &lt;fct&gt; NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, No, No, No, No, …
$ tempo_obs &lt;dbl&gt; 123.0000, 424.0000, 124.0000, 500.0000, 500.0000, 500.0000, …
$ aderencia &lt;fct&gt; SIM, SIM, SIM, SIM, SIM, SIM, SIM, SIM, SIM, SIM, SIM, SIM, …</code></pre>
</div>
</div>
</section>
<section id="verificando-a-representatividade-dos-dados" class="level2" data-number="5.3">
<h2 data-number="5.3" class="anchored" data-anchor-id="verificando-a-representatividade-dos-dados"><span class="header-section-number">5.3</span> Verificando a representatividade dos dados</h2>
<div class="cell">
<div class="sourceCode cell-code" id="cb7"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb7-1"><a href="#cb7-1" aria-hidden="true" tabindex="-1"></a><span class="fu">xtabs</span>(<span class="sc">~</span> attsprts <span class="sc">+</span> sex, <span class="at">data =</span> db)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>        sex
attsprts Male Female
     Yes  384    407
     No   254    444</code></pre>
</div>
<div class="sourceCode cell-code" id="cb9"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb9-1"><a href="#cb9-1" aria-hidden="true" tabindex="-1"></a><span class="fu">xtabs</span>(<span class="sc">~</span> attsprts <span class="sc">+</span> life, <span class="at">data =</span> db)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>        life
attsprts Dull Routine Exciting
     Yes   16     226      281
     No    48     230      190</code></pre>
</div>
<div class="sourceCode cell-code" id="cb11"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb11-1"><a href="#cb11-1" aria-hidden="true" tabindex="-1"></a><span class="fu">xtabs</span>(<span class="sc">~</span> attsprts <span class="sc">+</span> aderencia , <span class="at">data =</span> db)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>        aderencia
attsprts Não SIM
     Yes 750  41
     No    0 698</code></pre>
</div>
</div>
</section>
<section id="a-e-b-glzm---praticar-ou-não-esportes" class="level2" data-number="5.4">
<h2 data-number="5.4" class="anchored" data-anchor-id="a-e-b-glzm---praticar-ou-não-esportes"><span class="header-section-number">5.4</span> a) e b) GLzM - Praticar ou não esportes</h2>
<div class="callout callout-style-default callout-note callout-titled">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Exercício
</div>
</div>
<div class="callout-body-container callout-body">
<p>Verifique qual o efeito do sexo, o que as pessoas acham da vida (life), número de filhos, idade, anos de escolaridade e horas de tv sobre o fato dela praticar ou não esportes (Attsports). Faça um GLzM e descreva os resultados adequadamente.</p>
</div>
</div>
<p>Verificando quais os níveis de referência.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb13"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb13-1"><a href="#cb13-1" aria-hidden="true" tabindex="-1"></a><span class="fu">levels</span>(db<span class="sc">$</span>attsprts)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] "Yes" "No" </code></pre>
</div>
<div class="sourceCode cell-code" id="cb15"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb15-1"><a href="#cb15-1" aria-hidden="true" tabindex="-1"></a><span class="fu">levels</span>(db<span class="sc">$</span>sex)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] "Male"   "Female"</code></pre>
</div>
<div class="sourceCode cell-code" id="cb17"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb17-1"><a href="#cb17-1" aria-hidden="true" tabindex="-1"></a><span class="fu">levels</span>(db<span class="sc">$</span>life)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] "Dull"     "Routine"  "Exciting"</code></pre>
</div>
<div class="sourceCode cell-code" id="cb19"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb19-1"><a href="#cb19-1" aria-hidden="true" tabindex="-1"></a><span class="fu">levels</span>(db<span class="sc">$</span>aderencia)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] "Não" "SIM"</code></pre>
</div>
</div>
<p>Para os resultados ficarem similares aos da aula prática, vamos modificar o nível de referência da variável attsprts para “No”</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb21"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb21-1"><a href="#cb21-1" aria-hidden="true" tabindex="-1"></a>db<span class="sc">$</span>attsprts <span class="ot">=</span>  <span class="fu">relevel</span>(db<span class="sc">$</span>attsprts, <span class="at">ref =</span> <span class="st">"No"</span>)</span>
<span id="cb21-2"><a href="#cb21-2" aria-hidden="true" tabindex="-1"></a><span class="fu">levels</span>(db<span class="sc">$</span>attsprts)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] "No"  "Yes"</code></pre>
</div>
</div>
</section>
<section id="criando-o-modelo" class="level2" data-number="5.5">
<h2 data-number="5.5" class="anchored" data-anchor-id="criando-o-modelo"><span class="header-section-number">5.5</span> Criando o modelo</h2>
<div class="cell">
<div class="sourceCode cell-code" id="cb23"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb23-1"><a href="#cb23-1" aria-hidden="true" tabindex="-1"></a>modelo_1 <span class="ot">&lt;-</span> <span class="fu">glm</span>(attsprts <span class="sc">~</span> <span class="dv">1</span> <span class="sc">+</span> sex <span class="sc">+</span> life <span class="sc">+</span> childs <span class="sc">+</span> educ <span class="sc">+</span> tvhours <span class="sc">+</span>  age,</span>
<span id="cb23-2"><a href="#cb23-2" aria-hidden="true" tabindex="-1"></a>                <span class="at">data =</span> db,</span>
<span id="cb23-3"><a href="#cb23-3" aria-hidden="true" tabindex="-1"></a>                <span class="at">family =</span> <span class="st">"binomial"</span>)</span>
<span id="cb23-4"><a href="#cb23-4" aria-hidden="true" tabindex="-1"></a>                <span class="co">#na.action = na.exclude -&gt; para remover os NAs</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
<section id="resultados-do-modelo" class="level2" data-number="5.6">
<h2 data-number="5.6" class="anchored" data-anchor-id="resultados-do-modelo"><span class="header-section-number">5.6</span> Resultados do modelo</h2>
<p>Vamos começar mais uma vez vendo o resultado que a função <code>summary()</code> nos oferece.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb24"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb24-1"><a href="#cb24-1" aria-hidden="true" tabindex="-1"></a><span class="fu">summary</span>(modelo_1)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>
Call:
glm(formula = attsprts ~ 1 + sex + life + childs + educ + tvhours + 
    age, family = "binomial", data = db)

Coefficients:
              Estimate Std. Error z value Pr(&gt;|z|)    
(Intercept)  -1.625849   0.560416  -2.901  0.00372 ** 
sexFemale    -0.452288   0.145961  -3.099  0.00194 ** 
lifeRoutine   0.649746   0.333770   1.947  0.05157 .  
lifeExciting  0.787760   0.336597   2.340  0.01926 *  
childs        0.121782   0.049603   2.455  0.01408 *  
educ          0.200783   0.029138   6.891 5.55e-12 ***
tvhours      -0.097926   0.039787  -2.461  0.01384 *  
age          -0.036856   0.004969  -7.417 1.20e-13 ***
---
Signif. codes:  0 '***' 0.001 '**' 0.01 '*' 0.05 '.' 0.1 ' ' 1

(Dispersion parameter for binomial family taken to be 1)

    Null deviance: 1352.4  on 977  degrees of freedom
Residual deviance: 1143.6  on 970  degrees of freedom
  (522 observations deleted due to missingness)
AIC: 1159.6

Number of Fisher Scoring iterations: 4</code></pre>
</div>
</div>
<p>Novamente não é o melhor dos mundos mas temos os valores de p e podemos observar quais variáveis deram resultados significativos.</p>
<p>Para melhorar a visualização e trazer os resultados em Odds Ratio podemos utilizar a função <code>tab_model()</code> do pacote <code>sjPlot</code>.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb26"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb26-1"><a href="#cb26-1" aria-hidden="true" tabindex="-1"></a><span class="fu">tab_model</span>(modelo_1, </span>
<span id="cb26-2"><a href="#cb26-2" aria-hidden="true" tabindex="-1"></a>          <span class="at">show.se =</span> <span class="cn">TRUE</span>,</span>
<span id="cb26-3"><a href="#cb26-3" aria-hidden="true" tabindex="-1"></a>          <span class="at">show.aic =</span> <span class="cn">TRUE</span>, </span>
<span id="cb26-4"><a href="#cb26-4" aria-hidden="true" tabindex="-1"></a>          <span class="at">show.loglik=</span><span class="cn">TRUE</span>,</span>
<span id="cb26-5"><a href="#cb26-5" aria-hidden="true" tabindex="-1"></a>          <span class="at">show.ci =</span> <span class="cn">FALSE</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<table data-quarto-postprocess="true" class="table table-sm table-striped small">
<tbody>
<tr class="odd">
<td data-quarto-table-cell-role="th" style="text-align: center; border-top: double; font-style: normal; font-weight: bold; padding: 0.2cm;">&nbsp;</td>
<td colspan="3" data-quarto-table-cell-role="th" style="text-align: center; border-top: double; font-style: normal; font-weight: bold; padding: 0.2cm;">attsprts</td>
</tr>
<tr class="even">
<td style="text-align: center; border-bottom: 1px solid; font-style: italic; font-weight: normal;">Predictors</td>
<td style="text-align: center; border-bottom: 1px solid; font-style: italic; font-weight: normal;">Odds Ratios</td>
<td style="text-align: center; border-bottom: 1px solid; font-style: italic; font-weight: normal;">std. Error</td>
<td style="text-align: center; border-bottom: 1px solid; font-style: italic; font-weight: normal;">p</td>
</tr>
<tr class="odd">
<td style="text-align: left; padding: 0.2cm; vertical-align: top;">(Intercept)</td>
<td style="text-align: left; padding: 0.2cm; vertical-align: top;">0.20</td>
<td style="text-align: left; padding: 0.2cm; vertical-align: top;">0.11</td>
<td style="text-align: left; padding: 0.2cm; vertical-align: top;"><strong>0.004</strong></td>
</tr>
<tr class="even">
<td style="text-align: left; padding: 0.2cm; vertical-align: top;">sex [Female]</td>
<td style="text-align: left; padding: 0.2cm; vertical-align: top;">0.64</td>
<td style="text-align: left; padding: 0.2cm; vertical-align: top;">0.09</td>
<td style="text-align: left; padding: 0.2cm; vertical-align: top;"><strong>0.002</strong></td>
</tr>
<tr class="odd">
<td style="text-align: left; padding: 0.2cm; vertical-align: top;">life [Routine]</td>
<td style="text-align: left; padding: 0.2cm; vertical-align: top;">1.92</td>
<td style="text-align: left; padding: 0.2cm; vertical-align: top;">0.64</td>
<td style="text-align: left; padding: 0.2cm; vertical-align: top;">0.052</td>
</tr>
<tr class="even">
<td style="text-align: left; padding: 0.2cm; vertical-align: top;">life [Exciting]</td>
<td style="text-align: left; padding: 0.2cm; vertical-align: top;">2.20</td>
<td style="text-align: left; padding: 0.2cm; vertical-align: top;">0.74</td>
<td style="text-align: left; padding: 0.2cm; vertical-align: top;"><strong>0.019</strong></td>
</tr>
<tr class="odd">
<td style="text-align: left; padding: 0.2cm; vertical-align: top;">childs</td>
<td style="text-align: left; padding: 0.2cm; vertical-align: top;">1.13</td>
<td style="text-align: left; padding: 0.2cm; vertical-align: top;">0.06</td>
<td style="text-align: left; padding: 0.2cm; vertical-align: top;"><strong>0.014</strong></td>
</tr>
<tr class="even">
<td style="text-align: left; padding: 0.2cm; vertical-align: top;">educ</td>
<td style="text-align: left; padding: 0.2cm; vertical-align: top;">1.22</td>
<td style="text-align: left; padding: 0.2cm; vertical-align: top;">0.04</td>
<td style="text-align: left; padding: 0.2cm; vertical-align: top;"><strong>&lt;0.001</strong></td>
</tr>
<tr class="odd">
<td style="text-align: left; padding: 0.2cm; vertical-align: top;">tvhours</td>
<td style="text-align: left; padding: 0.2cm; vertical-align: top;">0.91</td>
<td style="text-align: left; padding: 0.2cm; vertical-align: top;">0.04</td>
<td style="text-align: left; padding: 0.2cm; vertical-align: top;"><strong>0.014</strong></td>
</tr>
<tr class="even">
<td style="text-align: left; padding: 0.2cm; vertical-align: top;">age</td>
<td style="text-align: left; padding: 0.2cm; vertical-align: top;">0.96</td>
<td style="text-align: left; padding: 0.2cm; vertical-align: top;">0.00</td>
<td style="text-align: left; padding: 0.2cm; vertical-align: top;"><strong>&lt;0.001</strong></td>
</tr>
<tr class="odd">
<td style="text-align: left; padding: 0.2cm; vertical-align: top; padding-top: 0.1cm; padding-bottom: 0.1cm; border-top: 1px solid;">Observations</td>
<td colspan="3" style="text-align: left; padding: 0.2cm; vertical-align: top; padding-top: 0.1cm; padding-bottom: 0.1cm; border-top: 1px solid;">978</td>
</tr>
<tr class="even">
<td style="text-align: left; padding: 0.2cm; vertical-align: top; padding-top: 0.1cm; padding-bottom: 0.1cm;">R<sup>2</sup> Tjur</td>
<td colspan="3" style="text-align: left; padding: 0.2cm; vertical-align: top; padding-top: 0.1cm; padding-bottom: 0.1cm;">0.194</td>
</tr>
<tr class="odd">
<td style="text-align: left; padding: 0.2cm; vertical-align: top; padding-top: 0.1cm; padding-bottom: 0.1cm;">AIC</td>
<td colspan="3" style="text-align: left; padding: 0.2cm; vertical-align: top; padding-top: 0.1cm; padding-bottom: 0.1cm;">1159.552</td>
</tr>
<tr class="even">
<td style="text-align: left; padding: 0.2cm; vertical-align: top; padding-top: 0.1cm; padding-bottom: 0.1cm;">log-Likelihood</td>
<td colspan="3" style="text-align: left; padding: 0.2cm; vertical-align: top; padding-top: 0.1cm; padding-bottom: 0.1cm;">-571.776</td>
</tr>
</tbody>
</table>


</div>
</div>
<p>Bem melhor!</p>
<div class="callout callout-style-default callout-tip callout-titled">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Dica!
</div>
</div>
<div class="callout-body-container callout-body">
<p>Veja a seção <a href="#sec-extrasV"><span class="quarto-unresolved-ref">sec-extrasV</span></a> para uma explicação sobre correções para os valores de p, como Bonferroni, Holm, Hochberg e Hommel.</p>
</div>
</div>
<p>Para não precisar ficar mudando a referência e conseguir interpretar valores menores que 1, podemos utilizar a função <code>estimates()</code> do pacote <code>flexplot</code>.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb27"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb27-1"><a href="#cb27-1" aria-hidden="true" tabindex="-1"></a><span class="fu">estimates</span>(modelo_1)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>             raw.coefficients    OR inverse.OR standardized.OR
(Intercept)            -1.626 0.197      5.083           1.000
sexFemale              -0.452 0.636      1.572           0.799
lifeRoutine             0.650 1.915      0.522           1.383
lifeExciting            0.788 2.198      0.455           1.482
childs                  0.122 1.130      0.885           1.230
educ                    0.201 1.222      0.818           1.837
tvhours                -0.098 0.907      1.103           0.821
age                    -0.037 0.964      1.038           0.527
             inverse.standardized.OR Prediction Difference (+/- 1 SD)
(Intercept)                    1.000                             &lt;NA&gt;
sexFemale                      1.251      -0.11 (relative to sexMale)
lifeRoutine                    0.723      0.16 (relative to lifeDull)
lifeExciting                   0.675      0.19 (relative to lifeDull)
childs                         0.813                              0.1
educ                           0.544                             0.29
tvhours                        1.219                              0.1
age                            1.899                              0.3</code></pre>
</div>
</div>
<p>Na coluna “inverse.OR” temos os valores invertendo a ordem das referências. No caso da variável sexo, podemos observar que o valor de odds ratio para “Female” quando comparado com “Male” (Female - Male) é de 0,636. O Inverse.OR nos mostra o valor caso o nível de referência fosse invertido (Male - Female).</p>
<p>A interpretação do resultado, levando em conta o inverse.OR, também será invertida. Lembrando sempre que o valor de referência para a VD é “Não fazer esportes” (sedentarismo). Portanto podemos escrever um parágrafo de resultados assim:</p>
<p>“Pessoas do sexo feminino tem 1,57 mais chance de pertencer ao grupo que <strong>faz</strong> exercícios em relação à pessoas do sexo masculino.”</p>
<p>Caso fique na dúvida, podemos sempre mudar o nível de referência da variável independente de interesse, rodar novamente o modelo e comparar os resultados.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb29"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb29-1"><a href="#cb29-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Alterando o nível de referência</span></span>
<span id="cb29-2"><a href="#cb29-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb29-3"><a href="#cb29-3" aria-hidden="true" tabindex="-1"></a>db<span class="sc">$</span>sex <span class="ot">=</span> <span class="fu">relevel</span>(db<span class="sc">$</span>sex, <span class="at">ref =</span>  <span class="st">"Female"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb30"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb30-1"><a href="#cb30-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Verificando se a troca ocorreu</span></span>
<span id="cb30-2"><a href="#cb30-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb30-3"><a href="#cb30-3" aria-hidden="true" tabindex="-1"></a><span class="fu">levels</span>(db<span class="sc">$</span>sex)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] "Female" "Male"  </code></pre>
</div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb32"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb32-1"><a href="#cb32-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Rodando novamente o modelo</span></span>
<span id="cb32-2"><a href="#cb32-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb32-3"><a href="#cb32-3" aria-hidden="true" tabindex="-1"></a>modelo_1b <span class="ot">&lt;-</span> <span class="fu">glm</span>(attsprts <span class="sc">~</span> <span class="dv">1</span> <span class="sc">+</span> sex <span class="sc">+</span> life <span class="sc">+</span> childs <span class="sc">+</span> educ <span class="sc">+</span> tvhours <span class="sc">+</span>  age,</span>
<span id="cb32-4"><a href="#cb32-4" aria-hidden="true" tabindex="-1"></a>                <span class="at">data =</span> db,</span>
<span id="cb32-5"><a href="#cb32-5" aria-hidden="true" tabindex="-1"></a>                <span class="at">family =</span> <span class="st">"binomial"</span>)</span>
<span id="cb32-6"><a href="#cb32-6" aria-hidden="true" tabindex="-1"></a>                <span class="co">#na.action = na.exclude -&gt; para remover os NAs</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb33"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb33-1"><a href="#cb33-1" aria-hidden="true" tabindex="-1"></a><span class="fu">estimates</span>(modelo_1b)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>             raw.coefficients    OR inverse.OR standardized.OR
(Intercept)            -2.078 0.125      7.990           1.000
sexMale                 0.452 1.572      0.636           1.251
lifeRoutine             0.650 1.915      0.522           1.383
lifeExciting            0.788 2.198      0.455           1.482
childs                  0.122 1.130      0.885           1.230
educ                    0.201 1.222      0.818           1.837
tvhours                -0.098 0.907      1.103           0.821
age                    -0.037 0.964      1.038           0.527
             inverse.standardized.OR Prediction Difference (+/- 1 SD)
(Intercept)                    1.000                             &lt;NA&gt;
sexMale                        0.799     0.11 (relative to sexFemale)
lifeRoutine                    0.723      0.16 (relative to lifeDull)
lifeExciting                   0.675      0.19 (relative to lifeDull)
childs                         0.813                              0.1
educ                           0.544                             0.29
tvhours                        1.219                              0.1
age                            1.899                              0.3</code></pre>
</div>
</div>
<p>Podemos observar que o valor de OR para “Male” quando comparado com “Female” (Male - Female) é idêntico ao inverse.OR quando a referência era “Male”.</p>
<p>Agora temos que interpretar de forma direta os resultados e ficaria assim:</p>
<p>“Pessoas do sexo masculino tem 1,57 mais chance de pertencer ao grupo que <strong>não faz</strong> exercícios em relação à pessoas do sexo feminino”</p>
<div class="callout callout-style-default callout-warning callout-titled">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Cuidado!
</div>
</div>
<div class="callout-body-container callout-body">
<p>Percebam que é fácil se enrolar com a descrição dos resultados. Faça da maneira que se sentir mais a vontade dentre as duas apresentadas e verifique sempre o nível de referência das variáveis.</p>
</div>
</div>
</section>
<section id="c-comparando-modelos" class="level2" data-number="5.7">
<h2 data-number="5.7" class="anchored" data-anchor-id="c-comparando-modelos"><span class="header-section-number">5.7</span> c) Comparando modelos</h2>
<div class="callout callout-style-default callout-note callout-titled">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Exercício
</div>
</div>
<div class="callout-body-container callout-body">
<p>Os resultados das questões A e B são similares? Se sim, porque? Se não, qual dos modelos é mais adequado?</p>
</div>
</div>
<p>Aqui no R vamos apenas criar o modelo com a função do GzLM. Você pode criar um modelo com o módulo de regressão logística no Jamovi e comparar os resultados apresentados anteriormente.</p>
</section>
<section id="d-e-e-número-de-filhos-vd" class="level2" data-number="5.8">
<h2 data-number="5.8" class="anchored" data-anchor-id="d-e-e-número-de-filhos-vd"><span class="header-section-number">5.8</span> d) e e) Número de filhos (VD)</h2>
<div class="callout callout-style-default callout-note callout-titled">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Exercício
</div>
</div>
<div class="callout-body-container callout-body">
<p>Verifique o efeito do sexo, opinião sobre a vida (life) e prática de exercícios (attsports) sobre o número de filhos. Controle os resultados para idade e anos de escolaridade. Faça um GLM Univariado e um GLzM para a mesma pergunta</p>
</div>
</div>
<p>Podemos utilizar a mesma função <code>glm()</code> para criar os dois modelos.</p>
<section id="modelo-glm" class="level3">
<h3 class="anchored" data-anchor-id="modelo-glm">Modelo GLM</h3>
<div class="cell">
<div class="sourceCode cell-code" id="cb35"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb35-1"><a href="#cb35-1" aria-hidden="true" tabindex="-1"></a>modelo_2 <span class="ot">&lt;-</span> <span class="fu">glm</span>(childs <span class="sc">~</span> <span class="dv">1</span> <span class="sc">+</span> sex <span class="sc">+</span> life <span class="sc">+</span> attsprts <span class="sc">+</span> age <span class="sc">+</span> educ,</span>
<span id="cb35-2"><a href="#cb35-2" aria-hidden="true" tabindex="-1"></a>                <span class="at">data =</span> db)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>Como estamos analisando um modelo linear univariado assumindo que a distribuição da VD é normal, podemos interpretar diretamente os estimadores que são retornados pela função summary.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb36"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb36-1"><a href="#cb36-1" aria-hidden="true" tabindex="-1"></a><span class="fu">kable</span>(<span class="fu">summary</span>(modelo_2)<span class="sc">$</span>coef)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<table data-quarto-postprocess="true" class="table table-sm table-striped small">
<thead>
<tr class="header">
<th style="text-align: left;" data-quarto-table-cell-role="th"></th>
<th style="text-align: right;" data-quarto-table-cell-role="th">Estimate</th>
<th style="text-align: right;" data-quarto-table-cell-role="th">Std. Error</th>
<th style="text-align: right;" data-quarto-table-cell-role="th">t value</th>
<th style="text-align: right;" data-quarto-table-cell-role="th">Pr(&gt;|t|)</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: left;">(Intercept)</td>
<td style="text-align: right;">2.8726230</td>
<td style="text-align: right;">0.2926723</td>
<td style="text-align: right;">9.8151502</td>
<td style="text-align: right;">0.0000000</td>
</tr>
<tr class="even">
<td style="text-align: left;">sexMale</td>
<td style="text-align: right;">-0.1863170</td>
<td style="text-align: right;">0.0989903</td>
<td style="text-align: right;">-1.8821732</td>
<td style="text-align: right;">0.0601095</td>
</tr>
<tr class="odd">
<td style="text-align: left;">lifeRoutine</td>
<td style="text-align: right;">-0.3467610</td>
<td style="text-align: right;">0.2066828</td>
<td style="text-align: right;">-1.6777451</td>
<td style="text-align: right;">0.0937167</td>
</tr>
<tr class="even">
<td style="text-align: left;">lifeExciting</td>
<td style="text-align: right;">-0.2098896</td>
<td style="text-align: right;">0.2104225</td>
<td style="text-align: right;">-0.9974676</td>
<td style="text-align: right;">0.3187845</td>
</tr>
<tr class="odd">
<td style="text-align: left;">attsprtsYes</td>
<td style="text-align: right;">0.2586856</td>
<td style="text-align: right;">0.1075859</td>
<td style="text-align: right;">2.4044569</td>
<td style="text-align: right;">0.0163818</td>
</tr>
<tr class="even">
<td style="text-align: left;">age</td>
<td style="text-align: right;">0.0387229</td>
<td style="text-align: right;">0.0029938</td>
<td style="text-align: right;">12.9342252</td>
<td style="text-align: right;">0.0000000</td>
</tr>
<tr class="odd">
<td style="text-align: left;">educ</td>
<td style="text-align: right;">-0.0822842</td>
<td style="text-align: right;">0.0178006</td>
<td style="text-align: right;">-4.6225436</td>
<td style="text-align: right;">0.0000043</td>
</tr>
</tbody>
</table>


</div>
</div>
<p>E chamar a função <code>report()</code> para gerar os resultados.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb37"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb37-1"><a href="#cb37-1" aria-hidden="true" tabindex="-1"></a><span class="fu">report</span>(modelo_2)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>We fitted a linear model (estimated using ML) to predict childs with sex, life,
attsprts, age and educ (formula: childs ~ 1 + sex + life + attsprts + age +
educ). The model's explanatory power is moderate (R2 = 0.20). The model's
intercept, corresponding to sex = Female, life = Dull, attsprts = No, age = 0
and educ = 0, is at 2.87 (95% CI [2.30, 3.45], t(977) = 9.82, p &lt; .001). Within
this model:

  - The effect of sex [Male] is statistically non-significant and negative (beta
= -0.19, 95% CI [-0.38, 7.70e-03], t(977) = -1.88, p = 0.060; Std. beta =
-0.11, 95% CI [-0.22, 4.53e-03])
  - The effect of life [Routine] is statistically non-significant and negative
(beta = -0.35, 95% CI [-0.75, 0.06], t(977) = -1.68, p = 0.093; Std. beta =
-0.20, 95% CI [-0.44, 0.03])
  - The effect of life [Exciting] is statistically non-significant and negative
(beta = -0.21, 95% CI [-0.62, 0.20], t(977) = -1.00, p = 0.319; Std. beta =
-0.12, 95% CI [-0.37, 0.12])
  - The effect of attsprts [Yes] is statistically significant and positive (beta
= 0.26, 95% CI [0.05, 0.47], t(977) = 2.40, p = 0.016; Std. beta = 0.15, 95% CI
[0.03, 0.28])
  - The effect of age is statistically significant and positive (beta = 0.04, 95%
CI [0.03, 0.04], t(977) = 12.93, p &lt; .001; Std. beta = 0.40, 95% CI [0.34,
0.46])
  - The effect of educ is statistically significant and negative (beta = -0.08,
95% CI [-0.12, -0.05], t(977) = -4.62, p &lt; .001; Std. beta = -0.15, 95% CI
[-0.21, -0.08])

Standardized parameters were obtained by fitting the model on a standardized
version of the dataset. 95% Confidence Intervals (CIs) and p-values were
computed using a Wald t-distribution approximation.</code></pre>
</div>
</div>
</section>
<section id="modelo-poisson" class="level3">
<h3 class="anchored" data-anchor-id="modelo-poisson">Modelo Poisson</h3>
<div class="cell">
<div class="sourceCode cell-code" id="cb39"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb39-1"><a href="#cb39-1" aria-hidden="true" tabindex="-1"></a>modelo_3 <span class="ot">&lt;-</span> <span class="fu">glm</span>(childs <span class="sc">~</span> <span class="dv">1</span> <span class="sc">+</span> sex <span class="sc">+</span> life <span class="sc">+</span> attsprts <span class="sc">+</span> age <span class="sc">+</span> educ,</span>
<span id="cb39-2"><a href="#cb39-2" aria-hidden="true" tabindex="-1"></a>                <span class="at">data =</span> db,</span>
<span id="cb39-3"><a href="#cb39-3" aria-hidden="true" tabindex="-1"></a>                <span class="at">family =</span> <span class="st">"poisson"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
<section id="comparando-aic-os-modelos" class="level3">
<h3 class="anchored" data-anchor-id="comparando-aic-os-modelos">Comparando AIC os modelos</h3>
<p>Podemos comparar os índices de aderência dos dois modelos para verificar qual se ajusta melhor aos dados.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb40"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb40-1"><a href="#cb40-1" aria-hidden="true" tabindex="-1"></a><span class="fu">AIC</span>(modelo_2, modelo_3)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>         df      AIC
modelo_2  8 3630.810
modelo_3  7 3498.782</code></pre>
</div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb42"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb42-1"><a href="#cb42-1" aria-hidden="true" tabindex="-1"></a><span class="fu">BIC</span>(modelo_2, modelo_3)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>         df      BIC
modelo_2  8 3669.943
modelo_3  7 3533.024</code></pre>
</div>
</div>
<p>Podemos observar que tanto o AIC quanto o BIC favorecem o modelo_3 com distribuição Poisson.</p>
</section>
<section id="resultados" class="level3">
<h3 class="anchored" data-anchor-id="resultados">Resultados</h3>
<p>Sempre começando com a boa e velha função <code>summary()</code>.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb44"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb44-1"><a href="#cb44-1" aria-hidden="true" tabindex="-1"></a><span class="fu">summary</span>(modelo_3)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>
Call:
glm(formula = childs ~ 1 + sex + life + attsprts + age + educ, 
    family = "poisson", data = db)

Coefficients:
              Estimate Std. Error z value Pr(&gt;|z|)    
(Intercept)   0.988656   0.110271   8.966  &lt; 2e-16 ***
sexMale      -0.067072   0.039024  -1.719   0.0857 .  
lifeRoutine  -0.102725   0.074303  -1.383   0.1668    
lifeExciting -0.052165   0.075989  -0.686   0.4924    
attsprtsYes   0.095588   0.042782   2.234   0.0255 *  
age           0.013111   0.001144  11.462  &lt; 2e-16 ***
educ         -0.026711   0.006805  -3.925 8.67e-05 ***
---
Signif. codes:  0 '***' 0.001 '**' 0.01 '*' 0.05 '.' 0.1 ' ' 1

(Dispersion parameter for poisson family taken to be 1)

    Null deviance: 951.59  on 983  degrees of freedom
Residual deviance: 757.85  on 977  degrees of freedom
  (516 observations deleted due to missingness)
AIC: 3498.8

Number of Fisher Scoring iterations: 4</code></pre>
</div>
</div>
<p>Temos que idade (age), nível de educação (educ) e praticar esportes (attsportsYes) são significativos.</p>
<p>E agora podemos utilizando mais uma vez a função estimates<code>()</code> para ver os valores de de cada variável exp(B). Reparem que aqui não teremos as Odds Ratio, mas sim uma coluna chamada <strong>multiplicative.coef</strong>, que no caso de modelos Poisson de desenho transversal é a <strong>razão de prevalência</strong>. A maneira de interpretar é a mesma da regressão logística.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb46"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb46-1"><a href="#cb46-1" aria-hidden="true" tabindex="-1"></a><span class="fu">estimates</span>(modelo_3)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>             raw.coefficients multiplicative.coef std.mult.coef
(Intercept)             0.989               2.688         1.000
sexMale                -0.067               0.935         0.967
lifeRoutine            -0.103               0.902         0.950
lifeExciting           -0.052               0.949         0.974
attsprtsYes             0.096               1.100         1.049
age                     0.013               1.013         1.257
educ                   -0.027               0.974         0.922
             Prediction Difference (+/- 1 SD)
(Intercept)                              &lt;NA&gt;
sexMale         -0.17 (relative to sexFemale)
lifeRoutine      -0.26 (relative to lifeDull)
lifeExciting     -0.14 (relative to lifeDull)
attsprtsYes     0.24 (relative to attsprtsNo)
age                                      1.12
educ                                     0.39</code></pre>
</div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb48"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb48-1"><a href="#cb48-1" aria-hidden="true" tabindex="-1"></a><span class="fu">exp</span>(modelo_3<span class="sc">$</span>coefficients)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code> (Intercept)      sexMale  lifeRoutine lifeExciting  attsprtsYes          age 
   2.6876196    0.9351281    0.9023752    0.9491727    1.1003059    1.0131971 
        educ 
   0.9736426 </code></pre>
</div>
</div>
<p>Escrevendo o parágrafo de um dos resultados temos algo como:</p>
<p>“Pessoas que pertencem ao grupo que fazem esportes tem 10% a mais de chance de terem um filho quando comparadas com pessoas que são sedentárias.</p>
<p>No caso do nível educacional precisamos calcular o exp(B) inverso e ter cuidado na interpretação do resultado.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb50"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb50-1"><a href="#cb50-1" aria-hidden="true" tabindex="-1"></a><span class="fu">kable</span>(<span class="fu">exp</span>(<span class="sc">-</span><span class="fu">coef</span>(modelo_3)))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<table data-quarto-postprocess="true" class="table table-sm table-striped small">
<thead>
<tr class="header">
<th style="text-align: left;" data-quarto-table-cell-role="th"></th>
<th style="text-align: right;" data-quarto-table-cell-role="th">x</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: left;">(Intercept)</td>
<td style="text-align: right;">0.3720765</td>
</tr>
<tr class="even">
<td style="text-align: left;">sexMale</td>
<td style="text-align: right;">1.0693722</td>
</tr>
<tr class="odd">
<td style="text-align: left;">lifeRoutine</td>
<td style="text-align: right;">1.1081865</td>
</tr>
<tr class="even">
<td style="text-align: left;">lifeExciting</td>
<td style="text-align: right;">1.0535491</td>
</tr>
<tr class="odd">
<td style="text-align: left;">attsprtsYes</td>
<td style="text-align: right;">0.9088382</td>
</tr>
<tr class="even">
<td style="text-align: left;">age</td>
<td style="text-align: right;">0.9869748</td>
</tr>
<tr class="odd">
<td style="text-align: left;">educ</td>
<td style="text-align: right;">1.0270709</td>
</tr>
</tbody>
</table>


</div>
</div>
<p>Temos que para cada nível a mais de educação a chance de ter filhos <strong>diminui</strong> em aproximadamente 3%.</p>
<div class="callout callout-style-default callout-caution callout-titled">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Cuidado!
</div>
</div>
<div class="callout-body-container callout-body">
<p>Não recomendamos utilizar a função <code>report()</code> para modelos Poisson e de regressão logística. Os resultados apresenta</p>
</div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb51"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb51-1"><a href="#cb51-1" aria-hidden="true" tabindex="-1"></a><span class="fu">report</span>(modelo_3)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>We fitted a poisson model (estimated using ML) to predict childs with sex,
life, attsprts, age and educ (formula: childs ~ 1 + sex + life + attsprts + age
+ educ). The model's explanatory power is substantial (Nagelkerke's R2 = 0.29).
The model's intercept, corresponding to sex = Female, life = Dull, attsprts =
No, age = 0 and educ = 0, is at 0.99 (95% CI [0.77, 1.20], p &lt; .001). Within
this model:

  - The effect of sex [Male] is statistically non-significant and negative (beta
= -0.07, 95% CI [-0.14, 9.25e-03], p = 0.086; Std. beta = -0.07, 95% CI [-0.14,
9.25e-03])
  - The effect of life [Routine] is statistically non-significant and negative
(beta = -0.10, 95% CI [-0.25, 0.05], p = 0.167; Std. beta = -0.10, 95% CI
[-0.25, 0.05])
  - The effect of life [Exciting] is statistically non-significant and negative
(beta = -0.05, 95% CI [-0.20, 0.10], p = 0.492; Std. beta = -0.05, 95% CI
[-0.20, 0.10])
  - The effect of attsprts [Yes] is statistically significant and positive (beta
= 0.10, 95% CI [0.01, 0.18], p = 0.025; Std. beta = 0.10, 95% CI [0.01, 0.18])
  - The effect of age is statistically significant and positive (beta = 0.01, 95%
CI [0.01, 0.02], p &lt; .001; Std. beta = 0.23, 95% CI [0.19, 0.27])
  - The effect of educ is statistically significant and negative (beta = -0.03,
95% CI [-0.04, -0.01], p &lt; .001; Std. beta = -0.08, 95% CI [-0.12, -0.04])

Standardized parameters were obtained by fitting the model on a standardized
version of the dataset. 95% Confidence Intervals (CIs) and p-values were
computed using a Wald z-distribution approximation.</code></pre>
</div>
</div>
<p>Crie mais modelos com interações entre as variáveis para praticar. Compare os índices de aderência dos modelos e depois descreva o que melhor se adequa aos dados.</p>
</section>
</section>
<section id="lista-5-resolvida-no-spss" class="level2" data-number="5.9">
<h2 data-number="5.9" class="anchored" data-anchor-id="lista-5-resolvida-no-spss"><span class="header-section-number">5.9</span> Lista 5 resolvida no SPSS</h2>
<div class="quarto-video ratio ratio-16x9"><iframe data-external="1" src="https://www.youtube.com/embed/IHhhsXYZ-1A" title="GLzM - Generalized Linear Model Aula Prática #5 (SPSS)" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture" allowfullscreen=""></iframe></div>
</section>
<section id="sec-extrasV" class="level2" data-number="5.10">
<h2 data-number="5.10" class="anchored" data-anchor-id="sec-extrasV"><span class="header-section-number">5.10</span> Extras!</h2>
<section id="resultados-dos-modelos-na-unha" class="level3">
<h3 class="anchored" data-anchor-id="resultados-dos-modelos-na-unha">Resultados dos modelos na unha</h3>
<div class="cell">
<div class="sourceCode cell-code" id="cb53"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb53-1"><a href="#cb53-1" aria-hidden="true" tabindex="-1"></a>modelo_4 <span class="ot">&lt;-</span> <span class="fu">glm</span>(childs <span class="sc">~</span> sex <span class="sc">*</span> life <span class="sc">*</span> attsprts <span class="sc">+</span> age <span class="sc">+</span> educ,</span>
<span id="cb53-2"><a href="#cb53-2" aria-hidden="true" tabindex="-1"></a>                <span class="at">data =</span> db,</span>
<span id="cb53-3"><a href="#cb53-3" aria-hidden="true" tabindex="-1"></a>                <span class="at">family =</span> <span class="st">"poisson"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb54"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb54-1"><a href="#cb54-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Obter o resumo estatístico do modelo</span></span>
<span id="cb54-2"><a href="#cb54-2" aria-hidden="true" tabindex="-1"></a>resumo_modelo <span class="ot">&lt;-</span> <span class="fu">summary</span>(modelo_4)</span>
<span id="cb54-3"><a href="#cb54-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb54-4"><a href="#cb54-4" aria-hidden="true" tabindex="-1"></a><span class="co"># Extrair os valores de p e os coeficientes</span></span>
<span id="cb54-5"><a href="#cb54-5" aria-hidden="true" tabindex="-1"></a>valores_p <span class="ot">&lt;-</span> resumo_modelo<span class="sc">$</span>coefficients[, <span class="st">"Pr(&gt;|z|)"</span>]</span>
<span id="cb54-6"><a href="#cb54-6" aria-hidden="true" tabindex="-1"></a>coeficientes <span class="ot">&lt;-</span> resumo_modelo<span class="sc">$</span>coefficients[, <span class="st">"Estimate"</span>]</span>
<span id="cb54-7"><a href="#cb54-7" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb54-8"><a href="#cb54-8" aria-hidden="true" tabindex="-1"></a><span class="co"># Calcular os asteriscos para os níveis de significância</span></span>
<span id="cb54-9"><a href="#cb54-9" aria-hidden="true" tabindex="-1"></a>asteriscos <span class="ot">&lt;-</span> <span class="fu">ifelse</span>(valores_p <span class="sc">&lt;</span> <span class="fl">0.001</span>, <span class="st">"***"</span>, </span>
<span id="cb54-10"><a href="#cb54-10" aria-hidden="true" tabindex="-1"></a>            <span class="fu">ifelse</span>(valores_p <span class="sc">&lt;</span> <span class="fl">0.01</span>, <span class="st">"**"</span>, </span>
<span id="cb54-11"><a href="#cb54-11" aria-hidden="true" tabindex="-1"></a>            <span class="fu">ifelse</span>(valores_p <span class="sc">&lt;</span> <span class="fl">0.05</span>, <span class="st">"*"</span>, <span class="st">""</span>)))</span>
<span id="cb54-12"><a href="#cb54-12" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb54-13"><a href="#cb54-13" aria-hidden="true" tabindex="-1"></a><span class="co"># Calcular as estimativas de RR e intervalos de confiança</span></span>
<span id="cb54-14"><a href="#cb54-14" aria-hidden="true" tabindex="-1"></a>RP <span class="ot">&lt;-</span> <span class="fu">exp</span>(<span class="fu">coef</span>(modelo_4))</span>
<span id="cb54-15"><a href="#cb54-15" aria-hidden="true" tabindex="-1"></a>IC <span class="ot">&lt;-</span> <span class="fu">exp</span>(<span class="fu">confint</span>(modelo_4))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stderr">
<pre><code>Waiting for profiling to be done...</code></pre>
</div>
<div class="sourceCode cell-code" id="cb56"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb56-1"><a href="#cb56-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Criar o dataframe parametros_modelo_2</span></span>
<span id="cb56-2"><a href="#cb56-2" aria-hidden="true" tabindex="-1"></a>parametros_modelo_4 <span class="ot">&lt;-</span> <span class="fu">data.frame</span>(</span>
<span id="cb56-3"><a href="#cb56-3" aria-hidden="true" tabindex="-1"></a>  <span class="at">RP =</span> <span class="fu">round</span>(RP, <span class="dv">2</span>),</span>
<span id="cb56-4"><a href="#cb56-4" aria-hidden="true" tabindex="-1"></a>  <span class="at">IC_Lower =</span> <span class="fu">round</span>(IC[, <span class="dv">1</span>], <span class="dv">2</span>),</span>
<span id="cb56-5"><a href="#cb56-5" aria-hidden="true" tabindex="-1"></a>  <span class="at">IC_Upper =</span> <span class="fu">round</span>(IC[, <span class="dv">2</span>], <span class="dv">2</span>),</span>
<span id="cb56-6"><a href="#cb56-6" aria-hidden="true" tabindex="-1"></a>  <span class="at">Valores_p =</span> <span class="fu">round</span>(valores_p, <span class="dv">4</span>),</span>
<span id="cb56-7"><a href="#cb56-7" aria-hidden="true" tabindex="-1"></a>  Significância <span class="ot">=</span> asteriscos</span>
<span id="cb56-8"><a href="#cb56-8" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb56-9"><a href="#cb56-9" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb56-10"><a href="#cb56-10" aria-hidden="true" tabindex="-1"></a>parametros_modelo_4</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>                                   RP IC_Lower IC_Upper Valores_p Significância
(Intercept)                      2.67     2.09     3.39    0.0000           ***
sexMale                          0.87     0.61     1.21    0.4045              
lifeRoutine                      0.91     0.74     1.12    0.3565              
lifeExciting                     0.93     0.76     1.15    0.5210              
attsprtsYes                      1.19     0.81     1.72    0.3573              
age                              1.01     1.01     1.02    0.0000           ***
educ                             0.97     0.96     0.99    0.0002           ***
sexMale:lifeRoutine              1.12     0.78     1.64    0.5468              
sexMale:lifeExciting             1.03     0.71     1.53    0.8619              
sexMale:attsprtsYes              1.03     0.51     2.01    0.9373              
lifeRoutine:attsprtsYes          0.91     0.61     1.38    0.6476              
lifeExciting:attsprtsYes         0.93     0.63     1.40    0.7128              
sexMale:lifeRoutine:attsprtsYes  0.88     0.43     1.84    0.7297              
sexMale:lifeExciting:attsprtsYes 1.07     0.52     2.23    0.8600              </code></pre>
</div>
</div>
</section>
<section id="pressupostos-dos-modelos-poisson" class="level3">
<h3 class="anchored" data-anchor-id="pressupostos-dos-modelos-poisson">Pressupostos dos modelos Poisson</h3>
<div class="cell">
<div class="sourceCode cell-code" id="cb58"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb58-1"><a href="#cb58-1" aria-hidden="true" tabindex="-1"></a><span class="fu">plot</span>(modelo_3, <span class="at">which =</span> <span class="dv">1</span><span class="sc">:</span><span class="dv">6</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<p><img src="lista_5_files/figure-html/unnamed-chunk-30-1.png" class="img-fluid" width="672"></p>
</div>
<div class="cell-output-display">
<p><img src="lista_5_files/figure-html/unnamed-chunk-30-2.png" class="img-fluid" width="672"></p>
</div>
<div class="cell-output-display">
<p><img src="lista_5_files/figure-html/unnamed-chunk-30-3.png" class="img-fluid" width="672"></p>
</div>
<div class="cell-output-display">
<p><img src="lista_5_files/figure-html/unnamed-chunk-30-4.png" class="img-fluid" width="672"></p>
</div>
<div class="cell-output-display">
<p><img src="lista_5_files/figure-html/unnamed-chunk-30-5.png" class="img-fluid" width="672"></p>
</div>
<div class="cell-output-display">
<p><img src="lista_5_files/figure-html/unnamed-chunk-30-6.png" class="img-fluid" width="672"></p>
</div>
</div>
<section id="overdispersion" class="level4">
<h4 class="anchored" data-anchor-id="overdispersion">Overdispersion</h4>
<div class="cell">
<div class="sourceCode cell-code" id="cb59"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb59-1"><a href="#cb59-1" aria-hidden="true" tabindex="-1"></a><span class="fu">dispersiontest</span>(modelo_3, <span class="at">trafo =</span> <span class="dv">1</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>
    Overdispersion test

data:  modelo_3
z = -5.1887, p-value = 1
alternative hypothesis: true alpha is greater than 0
sample estimates:
     alpha 
-0.2078915 </code></pre>
</div>
</div>
<p>Podemos também chamar a correção de Bonferroni para sermos mais conservadores com nossos resutlados.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb61"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb61-1"><a href="#cb61-1" aria-hidden="true" tabindex="-1"></a><span class="fu">tab_model</span>(modelo_1, </span>
<span id="cb61-2"><a href="#cb61-2" aria-hidden="true" tabindex="-1"></a>          <span class="at">show.se =</span> <span class="cn">TRUE</span>,</span>
<span id="cb61-3"><a href="#cb61-3" aria-hidden="true" tabindex="-1"></a>          <span class="at">show.aic =</span> <span class="cn">TRUE</span>, </span>
<span id="cb61-4"><a href="#cb61-4" aria-hidden="true" tabindex="-1"></a>          <span class="at">show.loglik=</span><span class="cn">TRUE</span>,</span>
<span id="cb61-5"><a href="#cb61-5" aria-hidden="true" tabindex="-1"></a>          <span class="at">show.ci =</span> <span class="cn">FALSE</span>, </span>
<span id="cb61-6"><a href="#cb61-6" aria-hidden="true" tabindex="-1"></a>          <span class="at">p.adjust =</span> <span class="st">"bonferroni"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<table data-quarto-postprocess="true" class="table table-sm table-striped small">
<tbody>
<tr class="odd">
<td data-quarto-table-cell-role="th" style="text-align: center; border-top: double; font-style: normal; font-weight: bold; padding: 0.2cm;">&nbsp;</td>
<td colspan="3" data-quarto-table-cell-role="th" style="text-align: center; border-top: double; font-style: normal; font-weight: bold; padding: 0.2cm;">attsprts</td>
</tr>
<tr class="even">
<td style="text-align: center; border-bottom: 1px solid; font-style: italic; font-weight: normal;">Predictors</td>
<td style="text-align: center; border-bottom: 1px solid; font-style: italic; font-weight: normal;">Odds Ratios</td>
<td style="text-align: center; border-bottom: 1px solid; font-style: italic; font-weight: normal;">std. Error</td>
<td style="text-align: center; border-bottom: 1px solid; font-style: italic; font-weight: normal;">p</td>
</tr>
<tr class="odd">
<td style="text-align: left; padding: 0.2cm; vertical-align: top;">(Intercept)</td>
<td style="text-align: left; padding: 0.2cm; vertical-align: top;">0.20</td>
<td style="text-align: left; padding: 0.2cm; vertical-align: top;">0.11</td>
<td style="text-align: left; padding: 0.2cm; vertical-align: top;"><strong>0.030</strong></td>
</tr>
<tr class="even">
<td style="text-align: left; padding: 0.2cm; vertical-align: top;">sex [Female]</td>
<td style="text-align: left; padding: 0.2cm; vertical-align: top;">0.64</td>
<td style="text-align: left; padding: 0.2cm; vertical-align: top;">0.09</td>
<td style="text-align: left; padding: 0.2cm; vertical-align: top;"><strong>0.016</strong></td>
</tr>
<tr class="odd">
<td style="text-align: left; padding: 0.2cm; vertical-align: top;">life [Routine]</td>
<td style="text-align: left; padding: 0.2cm; vertical-align: top;">1.92</td>
<td style="text-align: left; padding: 0.2cm; vertical-align: top;">0.64</td>
<td style="text-align: left; padding: 0.2cm; vertical-align: top;">0.413</td>
</tr>
<tr class="even">
<td style="text-align: left; padding: 0.2cm; vertical-align: top;">life [Exciting]</td>
<td style="text-align: left; padding: 0.2cm; vertical-align: top;">2.20</td>
<td style="text-align: left; padding: 0.2cm; vertical-align: top;">0.74</td>
<td style="text-align: left; padding: 0.2cm; vertical-align: top;">0.154</td>
</tr>
<tr class="odd">
<td style="text-align: left; padding: 0.2cm; vertical-align: top;">childs</td>
<td style="text-align: left; padding: 0.2cm; vertical-align: top;">1.13</td>
<td style="text-align: left; padding: 0.2cm; vertical-align: top;">0.06</td>
<td style="text-align: left; padding: 0.2cm; vertical-align: top;">0.113</td>
</tr>
<tr class="even">
<td style="text-align: left; padding: 0.2cm; vertical-align: top;">educ</td>
<td style="text-align: left; padding: 0.2cm; vertical-align: top;">1.22</td>
<td style="text-align: left; padding: 0.2cm; vertical-align: top;">0.04</td>
<td style="text-align: left; padding: 0.2cm; vertical-align: top;"><strong>&lt;0.001</strong></td>
</tr>
<tr class="odd">
<td style="text-align: left; padding: 0.2cm; vertical-align: top;">tvhours</td>
<td style="text-align: left; padding: 0.2cm; vertical-align: top;">0.91</td>
<td style="text-align: left; padding: 0.2cm; vertical-align: top;">0.04</td>
<td style="text-align: left; padding: 0.2cm; vertical-align: top;">0.111</td>
</tr>
<tr class="even">
<td style="text-align: left; padding: 0.2cm; vertical-align: top;">age</td>
<td style="text-align: left; padding: 0.2cm; vertical-align: top;">0.96</td>
<td style="text-align: left; padding: 0.2cm; vertical-align: top;">0.00</td>
<td style="text-align: left; padding: 0.2cm; vertical-align: top;"><strong>&lt;0.001</strong></td>
</tr>
<tr class="odd">
<td style="text-align: left; padding: 0.2cm; vertical-align: top; padding-top: 0.1cm; padding-bottom: 0.1cm; border-top: 1px solid;">Observations</td>
<td colspan="3" style="text-align: left; padding: 0.2cm; vertical-align: top; padding-top: 0.1cm; padding-bottom: 0.1cm; border-top: 1px solid;">978</td>
</tr>
<tr class="even">
<td style="text-align: left; padding: 0.2cm; vertical-align: top; padding-top: 0.1cm; padding-bottom: 0.1cm;">R<sup>2</sup> Tjur</td>
<td colspan="3" style="text-align: left; padding: 0.2cm; vertical-align: top; padding-top: 0.1cm; padding-bottom: 0.1cm;">0.194</td>
</tr>
<tr class="odd">
<td style="text-align: left; padding: 0.2cm; vertical-align: top; padding-top: 0.1cm; padding-bottom: 0.1cm;">AIC</td>
<td colspan="3" style="text-align: left; padding: 0.2cm; vertical-align: top; padding-top: 0.1cm; padding-bottom: 0.1cm;">1159.552</td>
</tr>
<tr class="even">
<td style="text-align: left; padding: 0.2cm; vertical-align: top; padding-top: 0.1cm; padding-bottom: 0.1cm;">log-Likelihood</td>
<td colspan="3" style="text-align: left; padding: 0.2cm; vertical-align: top; padding-top: 0.1cm; padding-bottom: 0.1cm;">-571.776</td>
</tr>
</tbody>
</table>


</div>
</div>
<p>A correção de Bonferroni é um método utilizado para controlar o erro tipo I (falso positivo) em testes de hipóteses múltiplos. Quando você realiza vários testes simultaneamente, há um aumento no risco de obter resultados significativos simplesmente devido ao acaso (erro tipo I).</p>
<p>O método de Bonferroni ajusta os valores-p obtidos nos testes individuais para reduzir a probabilidade global de cometer um erro tipo I. A correção é feita dividindo o nível de significância (geralmente 0,05) pelo número total de testes realizados. Cada teste individual deve, então, ter um valor de significância ajustado para compensar o número de comparações.</p>
<p>A fórmula para a correção de Bonferroni é:</p>
<p><span class="math display">\[
Valor_-p_-Ajustado = Valor_-de_-Significância_-Original/ Número_-Total_-de_-Testes
\]</span> Por exemplo, suponha que você esteja conduzindo 5 testes de hipóteses e deseje manter um nível global de significância de 0,05. A correção de Bonferroni ajustaria o valor de significância para cada teste individual, resultando em 0,05/5=0,010,05/5=0,01.</p>
<p>Contudo, é importante destacar que a correção de Bonferroni tende a ser conservadora, o que significa que pode aumentar a probabilidade de erro tipo II (falso negativo), dificultando a detecção de diferenças ou efeitos reais. Existem alternativas menos conservadoras, como as correções de Holm ou Hochberg, que buscam um equilíbrio entre controle de erro e poder estatístico. A escolha da correção a ser utilizada depende do contexto específico da análise.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb62"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb62-1"><a href="#cb62-1" aria-hidden="true" tabindex="-1"></a><span class="fu">tidy</span>(modelo_1, <span class="at">exponentiate =</span> <span class="cn">TRUE</span>, </span>
<span id="cb62-2"><a href="#cb62-2" aria-hidden="true" tabindex="-1"></a>                       <span class="at">conf.int =</span> <span class="cn">TRUE</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 8 × 7
  term         estimate std.error statistic  p.value conf.low conf.high
  &lt;chr&gt;           &lt;dbl&gt;     &lt;dbl&gt;     &lt;dbl&gt;    &lt;dbl&gt;    &lt;dbl&gt;     &lt;dbl&gt;
1 (Intercept)     0.197   0.560       -2.90 3.72e- 3   0.0646     0.583
2 sexFemale       0.636   0.146       -3.10 1.94e- 3   0.477      0.846
3 lifeRoutine     1.92    0.334        1.95 5.16e- 2   1.01       3.77 
4 lifeExciting    2.20    0.337        2.34 1.93e- 2   1.15       4.34 
5 childs          1.13    0.0496       2.46 1.41e- 2   1.03       1.25 
6 educ            1.22    0.0291       6.89 5.55e-12   1.16       1.30 
7 tvhours         0.907   0.0398      -2.46 1.38e- 2   0.838      0.980
8 age             0.964   0.00497     -7.42 1.20e-13   0.954      0.973</code></pre>
</div>
</div>
</section>
</section>
<section id="pseudo-r²" class="level3">
<h3 class="anchored" data-anchor-id="pseudo-r²">Pseudo R²</h3>
<p>Função para calcular todos os três R2</p>
<p>Comentando cada linha temos:</p>
<ul>
<li><p>dev&lt;-LogModel$deviance extrai o desvio do modelo (−2LL(new)) do modelo inserido na função</p>
<p>e chama isso de dev.</p></li>
<li><p>nullDev&lt;-LogModel$null.deviance extrai o desvio da linha de base (−2LL(linha de base)) do modelo inserido a função e as chamadas são nullDev.</p></li>
<li><p>modelN&lt;-length(LogModel$fitted.values) usa a função length() no valor ajustado para calcular a amostra size, que ele chama de modelN.</p></li>
<li><p>R.l &lt;- 1 - dev/nullDev calcula a medida de Hosmer e Lemeshow (R2L) usando os valores extraídos do</p>
<p>modelo e o chama de R.l.</p></li>
<li><p>R.cs&lt;- 1- exp ( -(nullDev - dev)/modelN): calcula a medida de Cox e Snell (R2CS) usando os valores extraídos do modelo e o chama de R.cs.</p></li>
<li><p>R.n &lt;- R.cs / ( 1 - ( exp (-(nullDev / modelN)))) calcula a medida de Nagelkerke (R2N) usando os valores extraídos do modelo e o chama de R.n.</p></li>
</ul>
<div class="cell">
<div class="sourceCode cell-code" id="cb64"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb64-1"><a href="#cb64-1" aria-hidden="true" tabindex="-1"></a>logisticPseudoR2s <span class="ot">&lt;-</span> <span class="cf">function</span>(LogModel) {</span>
<span id="cb64-2"><a href="#cb64-2" aria-hidden="true" tabindex="-1"></a>  dev <span class="ot">&lt;-</span> LogModel<span class="sc">$</span>deviance</span>
<span id="cb64-3"><a href="#cb64-3" aria-hidden="true" tabindex="-1"></a>  nullDev <span class="ot">&lt;-</span> LogModel<span class="sc">$</span>null.deviance</span>
<span id="cb64-4"><a href="#cb64-4" aria-hidden="true" tabindex="-1"></a>  modelN <span class="ot">&lt;-</span> <span class="fu">length</span>(LogModel<span class="sc">$</span>fitted.values)</span>
<span id="cb64-5"><a href="#cb64-5" aria-hidden="true" tabindex="-1"></a>  R.l <span class="ot">&lt;-</span> <span class="dv">1</span> <span class="sc">-</span> dev <span class="sc">/</span> nullDev</span>
<span id="cb64-6"><a href="#cb64-6" aria-hidden="true" tabindex="-1"></a>  R.cs <span class="ot">&lt;-</span> <span class="dv">1</span><span class="sc">-</span> <span class="fu">exp</span> ( <span class="sc">-</span>(nullDev <span class="sc">-</span> dev) <span class="sc">/</span> modelN)</span>
<span id="cb64-7"><a href="#cb64-7" aria-hidden="true" tabindex="-1"></a>  R.n <span class="ot">&lt;-</span> R.cs <span class="sc">/</span> ( <span class="dv">1</span> <span class="sc">-</span> ( <span class="fu">exp</span> (<span class="sc">-</span>(nullDev <span class="sc">/</span> modelN))))</span>
<span id="cb64-8"><a href="#cb64-8" aria-hidden="true" tabindex="-1"></a>  resultados <span class="ot">&lt;-</span> <span class="fu">data.frame</span>(</span>
<span id="cb64-9"><a href="#cb64-9" aria-hidden="true" tabindex="-1"></a>  <span class="at">Metodo =</span> <span class="fu">c</span>(<span class="st">"Hosmer-Lemeshow"</span>, <span class="st">"Cox-Snell"</span>, <span class="st">"Nagelkerke"</span>),</span>
<span id="cb64-10"><a href="#cb64-10" aria-hidden="true" tabindex="-1"></a>  <span class="at">Pseudo_R2 =</span> <span class="fu">c</span>(<span class="fu">round</span>(R.l, <span class="dv">3</span>), <span class="fu">round</span>(R.cs, <span class="dv">3</span>), <span class="fu">round</span>(R.n, <span class="dv">3</span>)))</span>
<span id="cb64-11"><a href="#cb64-11" aria-hidden="true" tabindex="-1"></a>  <span class="fu">return</span>(resultados)</span>
<span id="cb64-12"><a href="#cb64-12" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb64-13"><a href="#cb64-13" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb64-14"><a href="#cb64-14" aria-hidden="true" tabindex="-1"></a><span class="fu">logisticPseudoR2s</span>(modelo_3)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>           Metodo Pseudo_R2
1 Hosmer-Lemeshow     0.204
2       Cox-Snell     0.179
3      Nagelkerke     0.288</code></pre>
</div>
<div class="sourceCode cell-code" id="cb66"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb66-1"><a href="#cb66-1" aria-hidden="true" tabindex="-1"></a><span class="co">#exp(modelo_1$coefficients)</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>O R² (R-squared) em modelos de regressão linear é uma métrica que representa a proporção da variabilidade da variável dependente que é explicada pelo modelo. No entanto, ao lidar com modelos de regressão logística ou outros modelos generalizados, a interpretação direta do R² torna-se mais complexa devido à natureza da função de ligação utilizada.</p>
<p>Por isso, foi desenvolvido o Pseudo R² como uma medida análoga ao R², mas adaptada para modelos logísticos. Existem várias versões de Pseudo R², e a interpretação pode variar dependendo da versão específica utilizada. Aqui, abordarei uma interpretação geral.</p>
</section>
<section id="diferenças-principais-entre-r²-e-pseudo-r²" class="level3">
<h3 class="anchored" data-anchor-id="diferenças-principais-entre-r²-e-pseudo-r²">Diferenças principais entre R² e Pseudo R²:</h3>
<p><strong>Interpretação Direta:</strong> R² (em modelos lineares): Representa a proporção da variância explicada pela variável independente(s). Pseudo R² (em modelos logísticos): Oferece uma medida análoga, mas a interpretação é menos direta, pois está relacionada à verossimilhança e à diferença entre a verossimilhança do modelo ajustado e a verossimilhança de um modelo nulo.</p>
<p><strong>Intervalo de Valores:</strong> R² (em modelos lineares): Pode variar de 0 a 1, indicando a porcentagem da variabilidade explicada pela variável independente. Pseudo R² (em modelos logísticos): Pode variar de 0 a 1, mas o significado exato depende da versão específica. Em alguns casos, um Pseudo R² mais alto indica um melhor ajuste, mas a interpretação exata pode variar.</p>
</section>
<section id="quando-usar-poisson-e-bin-negativa" class="level3">
<h3 class="anchored" data-anchor-id="quando-usar-poisson-e-bin-negativa">Quando usar poisson e bin negativa?</h3>
<p>Comparar AIC/BIC Variância maior que a média -&gt; Usar bin negativa Poisson overdisperssion = Evento muito raro, com muitos zeros no banco.</p>
</section>
</section>
<section id="referências" class="level2" data-number="5.11">
<h2 data-number="5.11" class="anchored" data-anchor-id="referências"><span class="header-section-number">5.11</span> Referências</h2>
<p><a href="https://www.youtube.com/watch?v=QPY4zuxs1W0" class="uri">https://www.youtube.com/watch?v=QPY4zuxs1W0</a></p>
<p><a href="https://bookdown.org/drki_musa/dataanalysis/poisson-regression.html#prepare-r-environment-for-analysis-1" class="uri">https://bookdown.org/drki_musa/dataanalysis/poisson-regression.html#prepare-r-environment-for-analysis-1</a></p>
</section>
<section id="versões-dos-pacotes" class="level2" data-number="5.12">
<h2 data-number="5.12" class="anchored" data-anchor-id="versões-dos-pacotes"><span class="header-section-number">5.12</span> Versões dos pacotes</h2>
<div class="cell">
<div class="sourceCode cell-code" id="cb67"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb67-1"><a href="#cb67-1" aria-hidden="true" tabindex="-1"></a><span class="fu">report</span>(<span class="fu">sessionInfo</span>())</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>Analyses were conducted using the R Statistical language (version 4.3.1; R Core
Team, 2023) on Windows 11 x64 (build 22621), using the packages lme4 (version
1.1.34; Bates D et al., 2015), Matrix (version 1.6.0; Bates D et al., 2023),
effectsize (version 0.8.6; Ben-Shachar MS et al., 2020), fitdistrplus (version
1.1.11; Delignette-Muller ML, Dutang C, 2015), tm (version 0.7.11; Feinerer I,
Hornik K, 2023), flexplot (version 0.20.5; Fife D, 2024), effects (version
4.2.2; Fox J, Weisberg S, 2019), car (version 3.1.2; Fox J, Weisberg S, 2019),
carData (version 3.0.5; Fox J et al., 2022), mvtnorm (version 1.2.3; Genz A,
Bretz F, 2009), lubridate (version 1.9.3; Grolemund G, Wickham H, 2011), NLP
(version 0.2.1; Hornik K, 2020), TH.data (version 1.1.2; Hothorn T, 2023),
multcomp (version 1.4.25; Hothorn T et al., 2008), AER (version 1.2.10; Kleiber
C, Zeileis A, 2008), emmeans (version 1.8.8; Lenth R, 2023), sjstats (version
0.18.2; Lüdecke D, 2022), sjPlot (version 2.8.15; Lüdecke D, 2023), parameters
(version 0.21.3; Lüdecke D et al., 2020), performance (version 0.10.8; Lüdecke
D et al., 2021), easystats (version 0.6.0; Lüdecke D et al., 2022), see
(version 0.8.1; Lüdecke D et al., 2021), insight (version 0.19.6; Lüdecke D et
al., 2019), bayestestR (version 0.13.1; Makowski D et al., 2019), modelbased
(version 0.8.6; Makowski D et al., 2020), report (version 0.5.7; Makowski D et
al., 2023), correlation (version 0.8.4; Makowski D et al., 2022), tibble
(version 3.2.1; Müller K, Wickham H, 2023), datawizard (version 0.9.0; Patil I
et al., 2022), nlme (version 3.1.163; Pinheiro J et al., 2023), foreign
(version 0.8.85; R Core Team, 2023), broom (version 1.0.5; Robinson D et al.,
2023), gtsummary (version 1.7.2; Sjoberg D et al., 2021), rempsyc (version
0.1.6; Thériault R, 2023), survival (version 3.5.7; Therneau T, 2023), MASS
(version 7.3.60; Venables WN, Ripley BD, 2002), ggplot2 (version 3.4.4; Wickham
H, 2016), forcats (version 1.0.0; Wickham H, 2023), stringr (version 1.5.1;
Wickham H, 2023), tidyverse (version 2.0.0; Wickham H et al., 2019), dplyr
(version 1.1.3; Wickham H et al., 2023), purrr (version 1.0.2; Wickham H, Henry
L, 2023), readr (version 2.1.4; Wickham H et al., 2023), tidyr (version 1.3.0;
Wickham H et al., 2023), zoo (version 1.8.12; Zeileis A, Grothendieck G, 2005),
lmtest (version 0.9.40; Zeileis A, Hothorn T, 2002), sandwich (version 3.1.0;
Zeileis A et al., 2020) and kableExtra (version 1.3.4; Zhu H, 2021).

References
----------
  - Bates D, Mächler M, Bolker B, Walker S (2015). "Fitting Linear Mixed-Effects
Models Using lme4." _Journal of Statistical Software_, *67*(1), 1-48.
doi:10.18637/jss.v067.i01 &lt;https://doi.org/10.18637/jss.v067.i01&gt;.
  - Bates D, Maechler M, Jagan M (2023). _Matrix: Sparse and Dense Matrix Classes
and Methods_. R package version 1.6-0,
&lt;https://CRAN.R-project.org/package=Matrix&gt;.
  - Ben-Shachar MS, Lüdecke D, Makowski D (2020). "effectsize: Estimation of
Effect Size Indices and Standardized Parameters." _Journal of Open Source
Software_, *5*(56), 2815. doi:10.21105/joss.02815
&lt;https://doi.org/10.21105/joss.02815&gt;, &lt;https://doi.org/10.21105/joss.02815&gt;.
  - Delignette-Muller ML, Dutang C (2015). "fitdistrplus: An R Package for
Fitting Distributions." _Journal of Statistical Software_, *64*(4), 1-34.
doi:10.18637/jss.v064.i04 &lt;https://doi.org/10.18637/jss.v064.i04&gt;.
  - Feinerer I, Hornik K (2023). _tm: Text Mining Package_. R package version
0.7-11, &lt;https://CRAN.R-project.org/package=tm&gt;. Feinerer I, Hornik K, Meyer D
(2008). "Text Mining Infrastructure in R." _Journal of Statistical Software_,
*25*(5), 1-54. doi:10.18637/jss.v025.i05
&lt;https://doi.org/10.18637/jss.v025.i05&gt;.
  - Fife D (2024). _flexplot: Graphically Based Data Analysis Using 'flexplot'_.
R package version 0.20.5.
  - Fox J, Weisberg S (2019). _An R Companion to Applied Regression_, 3rd
edition. Sage, Thousand Oaks CA.
&lt;https://socialsciences.mcmaster.ca/jfox/Books/Companion/index.html&gt;. Fox J,
Weisberg S (2018). "Visualizing Fit and Lack of Fit in Complex Regression
Models with Predictor Effect Plots and Partial Residuals." _Journal of
Statistical Software_, *87*(9), 1-27. doi:10.18637/jss.v087.i09
&lt;https://doi.org/10.18637/jss.v087.i09&gt;. Fox J (2003). "Effect Displays in R
for Generalised Linear Models." _Journal of Statistical Software_, *8*(15),
1-27. doi:10.18637/jss.v008.i15 &lt;https://doi.org/10.18637/jss.v008.i15&gt;. Fox J,
Hong J (2009). "Effect Displays in R for Multinomial and Proportional-Odds
Logit Models: Extensions to the effects Package." _Journal of Statistical
Software_, *32*(1), 1-24. doi:10.18637/jss.v032.i01
&lt;https://doi.org/10.18637/jss.v032.i01&gt;.
  - Fox J, Weisberg S (2019). _An R Companion to Applied Regression_, Third
edition. Sage, Thousand Oaks CA.
&lt;https://socialsciences.mcmaster.ca/jfox/Books/Companion/&gt;.
  - Fox J, Weisberg S, Price B (2022). _carData: Companion to Applied Regression
Data Sets_. R package version 3.0-5,
&lt;https://CRAN.R-project.org/package=carData&gt;.
  - Genz A, Bretz F (2009). _Computation of Multivariate Normal and t
Probabilities_, series Lecture Notes in Statistics. Springer-Verlag,
Heidelberg. ISBN 978-3-642-01688-2.
  - Grolemund G, Wickham H (2011). "Dates and Times Made Easy with lubridate."
_Journal of Statistical Software_, *40*(3), 1-25.
&lt;https://www.jstatsoft.org/v40/i03/&gt;.
  - Hornik K (2020). _NLP: Natural Language Processing Infrastructure_. R package
version 0.2-1, &lt;https://CRAN.R-project.org/package=NLP&gt;.
  - Hothorn T (2023). _TH.data: TH's Data Archive_. R package version 1.1-2,
&lt;https://CRAN.R-project.org/package=TH.data&gt;.
  - Hothorn T, Bretz F, Westfall P (2008). "Simultaneous Inference in General
Parametric Models." _Biometrical Journal_, *50*(3), 346-363.
  - Kleiber C, Zeileis A (2008). _Applied Econometrics with R_. Springer-Verlag,
New York. ISBN 978-0-387-77316-2, &lt;https://CRAN.R-project.org/package=AER&gt;.
  - Lenth R (2023). _emmeans: Estimated Marginal Means, aka Least-Squares Means_.
R package version 1.8.8, &lt;https://CRAN.R-project.org/package=emmeans&gt;.
  - Lüdecke D (2022). _sjstats: Statistical Functions for Regression Models
(Version 0.18.2)_. doi:10.5281/zenodo.1284472
&lt;https://doi.org/10.5281/zenodo.1284472&gt;,
&lt;https://CRAN.R-project.org/package=sjstats&gt;.
  - Lüdecke D (2023). _sjPlot: Data Visualization for Statistics in Social
Science_. R package version 2.8.15,
&lt;https://CRAN.R-project.org/package=sjPlot&gt;.
  - Lüdecke D, Ben-Shachar M, Patil I, Makowski D (2020). "Extracting, Computing
and Exploring the Parameters of Statistical Models using R." _Journal of Open
Source Software_, *5*(53), 2445. doi:10.21105/joss.02445
&lt;https://doi.org/10.21105/joss.02445&gt;.
  - Lüdecke D, Ben-Shachar M, Patil I, Waggoner P, Makowski D (2021).
"performance: An R Package for Assessment, Comparison and Testing of
Statistical Models." _Journal of Open Source Software_, *6*(60), 3139.
doi:10.21105/joss.03139 &lt;https://doi.org/10.21105/joss.03139&gt;.
  - Lüdecke D, Ben-Shachar M, Patil I, Wiernik B, Makowski D (2022). "easystats:
Framework for Easy Statistical Modeling, Visualization, and Reporting." _CRAN_.
R package, &lt;https://easystats.github.io/easystats/&gt;.
  - Lüdecke D, Patil I, Ben-Shachar M, Wiernik B, Waggoner P, Makowski D (2021).
"see: An R Package for Visualizing Statistical Models." _Journal of Open Source
Software_, *6*(64), 3393. doi:10.21105/joss.03393
&lt;https://doi.org/10.21105/joss.03393&gt;.
  - Lüdecke D, Waggoner P, Makowski D (2019). "insight: A Unified Interface to
Access Information from Model Objects in R." _Journal of Open Source Software_,
*4*(38), 1412. doi:10.21105/joss.01412 &lt;https://doi.org/10.21105/joss.01412&gt;.
  - Makowski D, Ben-Shachar M, Lüdecke D (2019). "bayestestR: Describing Effects
and their Uncertainty, Existence and Significance within the Bayesian
Framework." _Journal of Open Source Software_, *4*(40), 1541.
doi:10.21105/joss.01541 &lt;https://doi.org/10.21105/joss.01541&gt;,
&lt;https://joss.theoj.org/papers/10.21105/joss.01541&gt;.
  - Makowski D, Ben-Shachar M, Patil I, Lüdecke D (2020). "Estimation of
Model-Based Predictions, Contrasts and Means." _CRAN_.
&lt;https://github.com/easystats/modelbased&gt;.
  - Makowski D, Lüdecke D, Patil I, Thériault R, Ben-Shachar M, Wiernik B (2023).
"Automated Results Reporting as a Practical Tool to Improve Reproducibility and
Methodological Best Practices Adoption." _CRAN_.
&lt;https://easystats.github.io/report/&gt;.
  - Makowski D, Wiernik B, Patil I, Lüdecke D, Ben-Shachar M (2022).
"correlation: Methods for Correlation Analysis." Version 0.8.3,
&lt;https://CRAN.R-project.org/package=correlation&gt;. Makowski D, Ben-Shachar M,
Patil I, Lüdecke D (2020). "Methods and Algorithms for Correlation Analysis in
R." _Journal of Open Source Software_, *5*(51), 2306. doi:10.21105/joss.02306
&lt;https://doi.org/10.21105/joss.02306&gt;,
&lt;https://joss.theoj.org/papers/10.21105/joss.02306&gt;.
  - Müller K, Wickham H (2023). _tibble: Simple Data Frames_. R package version
3.2.1, &lt;https://CRAN.R-project.org/package=tibble&gt;.
  - Patil I, Makowski D, Ben-Shachar M, Wiernik B, Bacher E, Lüdecke D (2022).
"datawizard: An R Package for Easy Data Preparation and Statistical
Transformations." _Journal of Open Source Software_, *7*(78), 4684.
doi:10.21105/joss.04684 &lt;https://doi.org/10.21105/joss.04684&gt;.
  - Pinheiro J, Bates D, R Core Team (2023). _nlme: Linear and Nonlinear Mixed
Effects Models_. R package version 3.1-163,
&lt;https://CRAN.R-project.org/package=nlme&gt;. Pinheiro JC, Bates DM (2000).
_Mixed-Effects Models in S and S-PLUS_. Springer, New York. doi:10.1007/b98882
&lt;https://doi.org/10.1007/b98882&gt;.
  - R Core Team (2023). _foreign: Read Data Stored by 'Minitab', 'S', 'SAS',
'SPSS', 'Stata', 'Systat', 'Weka', 'dBase', ..._. R package version 0.8-85,
&lt;https://CRAN.R-project.org/package=foreign&gt;.
  - R Core Team (2023). _R: A Language and Environment for Statistical
Computing_. R Foundation for Statistical Computing, Vienna, Austria.
&lt;https://www.R-project.org/&gt;.
  - Robinson D, Hayes A, Couch S (2023). _broom: Convert Statistical Objects into
Tidy Tibbles_. R package version 1.0.5,
&lt;https://CRAN.R-project.org/package=broom&gt;.
  - Sjoberg D, Whiting K, Curry M, Lavery J, Larmarange J (2021). "Reproducible
Summary Tables with the gtsummary Package." _The R Journal_, *13*, 570-580.
doi:10.32614/RJ-2021-053 &lt;https://doi.org/10.32614/RJ-2021-053&gt;,
&lt;https://doi.org/10.32614/RJ-2021-053&gt;.
  - Thériault R (2023). "rempsyc: Convenience functions for psychology." _Journal
of Open Source Software_, *8*(87), 5466. doi:10.21105/joss.05466
&lt;https://doi.org/10.21105/joss.05466&gt;, &lt;https://doi.org/10.21105/joss.05466&gt;.
  - Therneau T (2023). _A Package for Survival Analysis in R_. R package version
3.5-7, &lt;https://CRAN.R-project.org/package=survival&gt;. Terry M. Therneau,
Patricia M. Grambsch (2000). _Modeling Survival Data: Extending the Cox Model_.
Springer, New York. ISBN 0-387-98784-3.
  - Venables WN, Ripley BD (2002). _Modern Applied Statistics with S_, Fourth
edition. Springer, New York. ISBN 0-387-95457-0,
&lt;https://www.stats.ox.ac.uk/pub/MASS4/&gt;.
  - Wickham H (2016). _ggplot2: Elegant Graphics for Data Analysis_.
Springer-Verlag New York. ISBN 978-3-319-24277-4,
&lt;https://ggplot2.tidyverse.org&gt;.
  - Wickham H (2023). _forcats: Tools for Working with Categorical Variables
(Factors)_. R package version 1.0.0,
&lt;https://CRAN.R-project.org/package=forcats&gt;.
  - Wickham H (2023). _stringr: Simple, Consistent Wrappers for Common String
Operations_. R package version 1.5.1,
&lt;https://CRAN.R-project.org/package=stringr&gt;.
  - Wickham H, Averick M, Bryan J, Chang W, McGowan LD, François R, Grolemund G,
Hayes A, Henry L, Hester J, Kuhn M, Pedersen TL, Miller E, Bache SM, Müller K,
Ooms J, Robinson D, Seidel DP, Spinu V, Takahashi K, Vaughan D, Wilke C, Woo K,
Yutani H (2019). "Welcome to the tidyverse." _Journal of Open Source Software_,
*4*(43), 1686. doi:10.21105/joss.01686 &lt;https://doi.org/10.21105/joss.01686&gt;.
  - Wickham H, François R, Henry L, Müller K, Vaughan D (2023). _dplyr: A Grammar
of Data Manipulation_. R package version 1.1.3,
&lt;https://CRAN.R-project.org/package=dplyr&gt;.
  - Wickham H, Henry L (2023). _purrr: Functional Programming Tools_. R package
version 1.0.2, &lt;https://CRAN.R-project.org/package=purrr&gt;.
  - Wickham H, Hester J, Bryan J (2023). _readr: Read Rectangular Text Data_. R
package version 2.1.4, &lt;https://CRAN.R-project.org/package=readr&gt;.
  - Wickham H, Vaughan D, Girlich M (2023). _tidyr: Tidy Messy Data_. R package
version 1.3.0, &lt;https://CRAN.R-project.org/package=tidyr&gt;.
  - Zeileis A, Grothendieck G (2005). "zoo: S3 Infrastructure for Regular and
Irregular Time Series." _Journal of Statistical Software_, *14*(6), 1-27.
doi:10.18637/jss.v014.i06 &lt;https://doi.org/10.18637/jss.v014.i06&gt;.
  - Zeileis A, Hothorn T (2002). "Diagnostic Checking in Regression
Relationships." _R News_, *2*(3), 7-10.
&lt;https://CRAN.R-project.org/doc/Rnews/&gt;.
  - Zeileis A, Köll S, Graham N (2020). "Various Versatile Variances: An
Object-Oriented Implementation of Clustered Covariances in R." _Journal of
Statistical Software_, *95*(1), 1-36. doi:10.18637/jss.v095.i01
&lt;https://doi.org/10.18637/jss.v095.i01&gt;. Zeileis A (2004). "Econometric
Computing with HC and HAC Covariance Matrix Estimators." _Journal of
Statistical Software_, *11*(10), 1-17. doi:10.18637/jss.v011.i10
&lt;https://doi.org/10.18637/jss.v011.i10&gt;. Zeileis A (2006). "Object-Oriented
Computation of Sandwich Estimators." _Journal of Statistical Software_,
*16*(9), 1-16. doi:10.18637/jss.v016.i09
&lt;https://doi.org/10.18637/jss.v016.i09&gt;.
  - Zhu H (2021). _kableExtra: Construct Complex Table with 'kable' and Pipe
Syntax_. R package version 1.3.4,
&lt;https://CRAN.R-project.org/package=kableExtra&gt;.</code></pre>
</div>
</div>


</section>

</main> <!-- /main -->
<script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();  
  const icon = "";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const isCodeAnnotation = (el) => {
    for (const clz of el.classList) {
      if (clz.startsWith('code-annotation-')) {                     
        return true;
      }
    }
    return false;
  }
  const clipboard = new window.ClipboardJS('.code-copy-button', {
    text: function(trigger) {
      const codeEl = trigger.previousElementSibling.cloneNode(true);
      for (const childEl of codeEl.children) {
        if (isCodeAnnotation(childEl)) {
          childEl.remove();
        }
      }
      return codeEl.innerText;
    }
  });
  clipboard.on('success', function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "Copied!");
    let tooltip;
    if (window.bootstrap) {
      button.setAttribute("data-bs-toggle", "tooltip");
      button.setAttribute("data-bs-placement", "left");
      button.setAttribute("data-bs-title", "Copied!");
      tooltip = new bootstrap.Tooltip(button, 
        { trigger: "manual", 
          customClass: "code-copy-button-tooltip",
          offset: [0, -8]});
      tooltip.show();    
    }
    setTimeout(function() {
      if (tooltip) {
        tooltip.hide();
        button.removeAttribute("data-bs-title");
        button.removeAttribute("data-bs-toggle");
        button.removeAttribute("data-bs-placement");
      }
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  });
  function tippyHover(el, contentFn) {
    const config = {
      allowHTML: true,
      content: contentFn,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start'
    };
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      // use id or data attribute instead here
      let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      return note.innerHTML;
    });
  }
      let selectedAnnoteEl;
      const selectorForAnnotation = ( cell, annotation) => {
        let cellAttr = 'data-code-cell="' + cell + '"';
        let lineAttr = 'data-code-annotation="' +  annotation + '"';
        const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
        return selector;
      }
      const selectCodeLines = (annoteEl) => {
        const doc = window.document;
        const targetCell = annoteEl.getAttribute("data-target-cell");
        const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
        const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
        const lines = annoteSpan.getAttribute("data-code-lines").split(",");
        const lineIds = lines.map((line) => {
          return targetCell + "-" + line;
        })
        let top = null;
        let height = null;
        let parent = null;
        if (lineIds.length > 0) {
            //compute the position of the single el (top and bottom and make a div)
            const el = window.document.getElementById(lineIds[0]);
            top = el.offsetTop;
            height = el.offsetHeight;
            parent = el.parentElement.parentElement;
          if (lineIds.length > 1) {
            const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
            const bottom = lastEl.offsetTop + lastEl.offsetHeight;
            height = bottom - top;
          }
          if (top !== null && height !== null && parent !== null) {
            // cook up a div (if necessary) and position it 
            let div = window.document.getElementById("code-annotation-line-highlight");
            if (div === null) {
              div = window.document.createElement("div");
              div.setAttribute("id", "code-annotation-line-highlight");
              div.style.position = 'absolute';
              parent.appendChild(div);
            }
            div.style.top = top - 2 + "px";
            div.style.height = height + 4 + "px";
            let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
            if (gutterDiv === null) {
              gutterDiv = window.document.createElement("div");
              gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
              gutterDiv.style.position = 'absolute';
              const codeCell = window.document.getElementById(targetCell);
              const gutter = codeCell.querySelector('.code-annotation-gutter');
              gutter.appendChild(gutterDiv);
            }
            gutterDiv.style.top = top - 2 + "px";
            gutterDiv.style.height = height + 4 + "px";
          }
          selectedAnnoteEl = annoteEl;
        }
      };
      const unselectCodeLines = () => {
        const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
        elementsIds.forEach((elId) => {
          const div = window.document.getElementById(elId);
          if (div) {
            div.remove();
          }
        });
        selectedAnnoteEl = undefined;
      };
      // Attach click handler to the DT
      const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
      for (const annoteDlNode of annoteDls) {
        annoteDlNode.addEventListener('click', (event) => {
          const clickedEl = event.target;
          if (clickedEl !== selectedAnnoteEl) {
            unselectCodeLines();
            const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
            if (activeEl) {
              activeEl.classList.remove('code-annotation-active');
            }
            selectCodeLines(clickedEl);
            clickedEl.classList.add('code-annotation-active');
          } else {
            // Unselect the line
            unselectCodeLines();
            clickedEl.classList.remove('code-annotation-active');
          }
        });
      }
  const findCites = (el) => {
    const parentEl = el.parentElement;
    if (parentEl) {
      const cites = parentEl.dataset.cites;
      if (cites) {
        return {
          el,
          cites: cites.split(' ')
        };
      } else {
        return findCites(el.parentElement)
      }
    } else {
      return undefined;
    }
  };
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const citeInfo = findCites(ref);
    if (citeInfo) {
      tippyHover(citeInfo.el, function() {
        var popup = window.document.createElement('div');
        citeInfo.cites.forEach(function(cite) {
          var citeDiv = window.document.createElement('div');
          citeDiv.classList.add('hanging-indent');
          citeDiv.classList.add('csl-entry');
          var biblioDiv = window.document.getElementById('ref-' + cite);
          if (biblioDiv) {
            citeDiv.innerHTML = biblioDiv.innerHTML;
          }
          popup.appendChild(citeDiv);
        });
        return popup.innerHTML;
      });
    }
  }
});
</script>
<nav class="page-navigation">
  <div class="nav-page nav-page-previous">
      <a href="./lista_4.html" class="pagination-link">
        <i class="bi bi-arrow-left-short"></i> <span class="nav-page-text"><span class="chapter-number">4</span>&nbsp; <span class="chapter-title">Lista 4 - GMM e ICC</span></span>
      </a>          
  </div>
  <div class="nav-page nav-page-next">
      <a href="./survival.html" class="pagination-link">
        <span class="nav-page-text">SURVIVAL</span> <i class="bi bi-arrow-right-short"></i>
      </a>
  </div>
</nav>
</div> <!-- /content -->



</body></html>