<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.3.353">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">


<title>Técnicas e Métodos de Pesquisa no R - 6&nbsp; Lista 6 - Kaplan-Meier e Cox Regression</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
/* CSS for syntax highlighting */
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
  }
pre.numberSource { margin-left: 3em;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
</style>


<script src="site_libs/quarto-nav/quarto-nav.js"></script>
<script src="site_libs/quarto-nav/headroom.min.js"></script>
<script src="site_libs/clipboard/clipboard.min.js"></script>
<script src="site_libs/quarto-search/autocomplete.umd.js"></script>
<script src="site_libs/quarto-search/fuse.min.js"></script>
<script src="site_libs/quarto-search/quarto-search.js"></script>
<meta name="quarto:offset" content="./">
<link href="./lista_6_1.html" rel="next">
<link href="./survival.html" rel="prev">
<script src="site_libs/quarto-html/quarto.js"></script>
<script src="site_libs/quarto-html/popper.min.js"></script>
<script src="site_libs/quarto-html/tippy.umd.min.js"></script>
<script src="site_libs/quarto-html/anchor.min.js"></script>
<link href="site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="site_libs/quarto-html/quarto-syntax-highlighting.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="site_libs/bootstrap/bootstrap.min.js"></script>
<link href="site_libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="site_libs/bootstrap/bootstrap.min.css" rel="stylesheet" id="quarto-bootstrap" data-mode="light">
<script id="quarto-search-options" type="application/json">{
  "location": "sidebar",
  "copy-button": false,
  "collapse-after": 3,
  "panel-placement": "start",
  "type": "textbox",
  "limit": 20,
  "language": {
    "search-no-results-text": "No results",
    "search-matching-documents-text": "matching documents",
    "search-copy-link-title": "Copy link to search",
    "search-hide-matches-text": "Hide additional matches",
    "search-more-match-text": "more match in this document",
    "search-more-matches-text": "more matches in this document",
    "search-clear-button-title": "Clear",
    "search-detached-cancel-button-title": "Cancel",
    "search-submit-button-title": "Submit"
  }
}</script>


</head>

<body class="nav-sidebar floating">

<div id="quarto-search-results"></div>
  <header id="quarto-header" class="headroom fixed-top">
  <nav class="quarto-secondary-nav">
    <div class="container-fluid d-flex">
      <button type="button" class="quarto-btn-toggle btn" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar,#quarto-sidebar-glass" aria-controls="quarto-sidebar" aria-expanded="false" aria-label="Toggle sidebar navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
        <i class="bi bi-layout-text-sidebar-reverse"></i>
      </button>
      <nav class="quarto-page-breadcrumbs" aria-label="breadcrumb"><ol class="breadcrumb"><li class="breadcrumb-item"><a href="./survival.html">SURVIVAL</a></li><li class="breadcrumb-item"><a href="./lista_6.html"><span class="chapter-number">6</span>&nbsp; <span class="chapter-title">Lista 6 - Kaplan-Meier e Cox Regression</span></a></li></ol></nav>
      <a class="flex-grow-1" role="button" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar,#quarto-sidebar-glass" aria-controls="quarto-sidebar" aria-expanded="false" aria-label="Toggle sidebar navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">      
      </a>
      <button type="button" class="btn quarto-search-button" aria-label="Search" onclick="window.quartoOpenSearch();">
        <i class="bi bi-search"></i>
      </button>
    </div>
  </nav>
</header>
<!-- content -->
<div id="quarto-content" class="quarto-container page-columns page-rows-contents page-layout-article">
<!-- sidebar -->
  <nav id="quarto-sidebar" class="sidebar collapse collapse-horizontal sidebar-navigation floating overflow-auto">
    <div class="pt-lg-2 mt-2 text-left sidebar-header">
    <div class="sidebar-title mb-0 py-0">
      <a href="./">Técnicas e Métodos de Pesquisa no R</a> 
        <div class="sidebar-tools-main">
  <a href="" class="quarto-reader-toggle quarto-navigation-tool px-1" onclick="window.quartoToggleReader(); return false;" title="Toggle reader mode">
  <div class="quarto-reader-toggle-btn">
  <i class="bi"></i>
  </div>
</a>
</div>
    </div>
      </div>
        <div class="mt-2 flex-shrink-0 align-items-center">
        <div class="sidebar-search">
        <div id="quarto-search" class="" title="Search"></div>
        </div>
        </div>
    <div class="sidebar-menu-container"> 
    <ul class="list-unstyled mt-1">
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./index.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Introdução</span></a>
  </div>
</li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a href="./lms.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">GLM, GEE, GMM, GzLM</span></a>
          <a class="sidebar-item-toggle text-start collapsed" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-1" aria-expanded="false" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-1" class="collapse list-unstyled sidebar-section depth1 ">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./lista_1.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">1</span>&nbsp; <span class="chapter-title">Lista 1 - GLM, GEE e GMM</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./lista_2.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">2</span>&nbsp; <span class="chapter-title">Lista 2 - GEE</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./lista_3.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">3</span>&nbsp; <span class="chapter-title">Lista 3 - Matriz de Covariância</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./lista_4.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">4</span>&nbsp; <span class="chapter-title">Lista 4 - GMM e ICC</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./lista_5.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">5</span>&nbsp; <span class="chapter-title">Lista 5 - Generalized Linear Model Aula Prática</span></span></a>
  </div>
</li>
      </ul>
  </li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a href="./survival.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">SURVIVAL</span></a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-2" aria-expanded="true" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-2" class="collapse list-unstyled sidebar-section depth1 show">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./lista_6.html" class="sidebar-item-text sidebar-link active">
 <span class="menu-text"><span class="chapter-number">6</span>&nbsp; <span class="chapter-title">Lista 6 - Kaplan-Meier e Cox Regression</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./lista_6_1.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">7</span>&nbsp; <span class="chapter-title">Lista 6.1 - Cox tempo dependente</span></span></a>
  </div>
</li>
      </ul>
  </li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a href="./ARIMA.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">ARIMA</span></a>
          <a class="sidebar-item-toggle text-start collapsed" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-3" aria-expanded="false" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-3" class="collapse list-unstyled sidebar-section depth1 ">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./lista_7.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">8</span>&nbsp; <span class="chapter-title">Lista 7 - Séries Temporais (ARIMA)</span></span></a>
  </div>
</li>
      </ul>
  </li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a href="./SEM.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">SEM</span></a>
          <a class="sidebar-item-toggle text-start collapsed" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-4" aria-expanded="false" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-4" class="collapse list-unstyled sidebar-section depth1 ">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./lista_8.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">9</span>&nbsp; <span class="chapter-title">Lista 8 - CFA e Path Analysis</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./lista_8_1.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">10</span>&nbsp; <span class="chapter-title">Lista 8.1 - Moderação e Mediação</span></span></a>
  </div>
</li>
      </ul>
  </li>
    </ul>
    </div>
</nav>
<div id="quarto-sidebar-glass" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar,#quarto-sidebar-glass"></div>
<!-- margin-sidebar -->
    <div id="quarto-margin-sidebar" class="sidebar margin-sidebar">
        <nav id="TOC" role="doc-toc" class="toc-active">
    <h2 id="toc-title">Table of contents</h2>
   
  <ul>
  <li><a href="#carregando-pacotes" id="toc-carregando-pacotes" class="nav-link active" data-scroll-target="#carregando-pacotes"><span class="header-section-number">6.1</span> Carregando pacotes</a></li>
  <li><a href="#limpando-o-ambiente" id="toc-limpando-o-ambiente" class="nav-link" data-scroll-target="#limpando-o-ambiente"><span class="header-section-number">6.2</span> Limpando o ambiente</a></li>
  <li><a href="#definindo-um-tema-para-os-gráficos" id="toc-definindo-um-tema-para-os-gráficos" class="nav-link" data-scroll-target="#definindo-um-tema-para-os-gráficos"><span class="header-section-number">6.3</span> Definindo um tema para os gráficos</a></li>
  <li><a href="#sec-carrega_dados" id="toc-sec-carrega_dados" class="nav-link" data-scroll-target="#sec-carrega_dados"><span class="header-section-number">6.4</span> Carregando os dados e modificando o tipo de variável</a></li>
  <li><a href="#criando-a-estrutura-de-dados" id="toc-criando-a-estrutura-de-dados" class="nav-link" data-scroll-target="#criando-a-estrutura-de-dados"><span class="header-section-number">6.5</span> Criando a estrutura de dados</a></li>
  <li><a href="#a-tábua-de-vida" id="toc-a-tábua-de-vida" class="nav-link" data-scroll-target="#a-tábua-de-vida"><span class="header-section-number">6.6</span> a) Tábua de vida</a></li>
  <li><a href="#b-kaplan-meier" id="toc-b-kaplan-meier" class="nav-link" data-scroll-target="#b-kaplan-meier"><span class="header-section-number">6.7</span> b) Kaplan-Meier</a></li>
  <li><a href="#separando-por-transplante-e-nos-tempos-0-20-40-60-80" id="toc-separando-por-transplante-e-nos-tempos-0-20-40-60-80" class="nav-link" data-scroll-target="#separando-por-transplante-e-nos-tempos-0-20-40-60-80"><span class="header-section-number">6.8</span> Separando por transplante e nos tempos 0, 20, 40, 60, 80</a>
  <ul class="collapse">
  <li><a href="#kaplan-meir-do-novo-modelo" id="toc-kaplan-meir-do-novo-modelo" class="nav-link" data-scroll-target="#kaplan-meir-do-novo-modelo">Kaplan-Meir do novo modelo</a></li>
  <li><a href="#porcentagem-fixa-tempos-diferentes" id="toc-porcentagem-fixa-tempos-diferentes" class="nav-link" data-scroll-target="#porcentagem-fixa-tempos-diferentes">Porcentagem fixa, tempos diferentes</a></li>
  <li><a href="#escolhendo-um-intervalo-de-tempo" id="toc-escolhendo-um-intervalo-de-tempo" class="nav-link" data-scroll-target="#escolhendo-um-intervalo-de-tempo">Escolhendo um intervalo de tempo</a></li>
  </ul></li>
  <li><a href="#comparando-as-curvas" id="toc-comparando-as-curvas" class="nav-link" data-scroll-target="#comparando-as-curvas"><span class="header-section-number">6.9</span> Comparando as curvas</a>
  <ul class="collapse">
  <li><a href="#tipos-de-testes-possíveis" id="toc-tipos-de-testes-possíveis" class="nav-link" data-scroll-target="#tipos-de-testes-possíveis">Tipos de testes possíveis</a></li>
  </ul></li>
  <li><a href="#c-cox-regression" id="toc-c-cox-regression" class="nav-link" data-scroll-target="#c-cox-regression"><span class="header-section-number">6.10</span> c) Cox Regression</a>
  <ul class="collapse">
  <li><a href="#resultados-dos-modelos" id="toc-resultados-dos-modelos" class="nav-link" data-scroll-target="#resultados-dos-modelos">Resultados dos modelos</a></li>
  <li><a href="#plots-do-modelo-e-do-resultado" id="toc-plots-do-modelo-e-do-resultado" class="nav-link" data-scroll-target="#plots-do-modelo-e-do-resultado">Plots do modelo e do resultado</a></li>
  </ul></li>
  <li><a href="#hazard-ratio-e-risco-relativo-confirmar-o-conteúdo" id="toc-hazard-ratio-e-risco-relativo-confirmar-o-conteúdo" class="nav-link" data-scroll-target="#hazard-ratio-e-risco-relativo-confirmar-o-conteúdo"><span class="header-section-number">6.11</span> Hazard ratio e risco relativo (CONFIRMAR O CONTEÚDO)</a></li>
  <li><a href="#d-hazard-ratio" id="toc-d-hazard-ratio" class="nav-link" data-scroll-target="#d-hazard-ratio"><span class="header-section-number">6.12</span> d) Hazard Ratio</a></li>
  <li><a href="#verificando-os-pressupostos-da-cox-regression" id="toc-verificando-os-pressupostos-da-cox-regression" class="nav-link" data-scroll-target="#verificando-os-pressupostos-da-cox-regression"><span class="header-section-number">6.13</span> Verificando os pressupostos da Cox regression</a>
  <ul class="collapse">
  <li><a href="#proporcionalidade-dos-riscos" id="toc-proporcionalidade-dos-riscos" class="nav-link" data-scroll-target="#proporcionalidade-dos-riscos">Proporcionalidade dos riscos</a></li>
  </ul></li>
  <li><a href="#conlcusões" id="toc-conlcusões" class="nav-link" data-scroll-target="#conlcusões"><span class="header-section-number">6.14</span> Conlcusões</a></li>
  <li><a href="#lista-6-resolvida-no-spss" id="toc-lista-6-resolvida-no-spss" class="nav-link" data-scroll-target="#lista-6-resolvida-no-spss"><span class="header-section-number">6.15</span> Lista 6 resolvida no SPSS</a></li>
  <li><a href="#sec-extrasVI" id="toc-sec-extrasVI" class="nav-link" data-scroll-target="#sec-extrasVI"><span class="header-section-number">6.16</span> Extras!</a>
  <ul class="collapse">
  <li><a href="#evento-como-fator-ou-como-número" id="toc-evento-como-fator-ou-como-número" class="nav-link" data-scroll-target="#evento-como-fator-ou-como-número">Evento como fator ou como número</a></li>
  <li><a href="#mais-gráficos" id="toc-mais-gráficos" class="nav-link" data-scroll-target="#mais-gráficos">Mais gráficos!</a></li>
  <li><a href="#pacots-alternativos-para-comparar-curvas" id="toc-pacots-alternativos-para-comparar-curvas" class="nav-link" data-scroll-target="#pacots-alternativos-para-comparar-curvas">Pacots alternativos para comparar curvas</a></li>
  <li><a href="#tabela-completa-do-modelo-2" id="toc-tabela-completa-do-modelo-2" class="nav-link" data-scroll-target="#tabela-completa-do-modelo-2">Tabela completa do modelo 2</a></li>
  <li><a href="#código-não-usado" id="toc-código-não-usado" class="nav-link" data-scroll-target="#código-não-usado">Código não usado</a></li>
  <li><a href="#para-salvar-os-valores-de-sobrevida" id="toc-para-salvar-os-valores-de-sobrevida" class="nav-link" data-scroll-target="#para-salvar-os-valores-de-sobrevida">Para salvar os valores de sobrevida</a></li>
  </ul></li>
  <li><a href="#referências" id="toc-referências" class="nav-link" data-scroll-target="#referências"><span class="header-section-number">6.17</span> Referências</a></li>
  <li><a href="#versões-dos-pacotes" id="toc-versões-dos-pacotes" class="nav-link" data-scroll-target="#versões-dos-pacotes"><span class="header-section-number">6.18</span> Versões dos pacotes</a></li>
  </ul>
</nav>
    </div>
<!-- main -->
<main class="content page-columns page-full" id="quarto-document-content">

<header id="title-block-header" class="quarto-title-block default">
<div class="quarto-title">
<h1 class="title"><span id="sec-lista-6" class="quarto-section-identifier"><span class="chapter-number">6</span>&nbsp; <span class="chapter-title">Lista 6 - Kaplan-Meier e Cox Regression</span></span></h1>
</div>



<div class="quarto-title-meta">

    
  
    
  </div>
  

</header>

<p>Temos os dados de 124 pacientes que estão na fila para um transplante de rim. Temos as variáveis:</p>
<ul>
<li><p>T_seg – tempo de seguimento (em meses);</p></li>
<li><p>tx - fez transplante (sim, não);</p></li>
<li><p>óbito - morte do paciente (sim, não);</p></li>
<li><p>t_tx - tempo até o transplante (em meses).</p></li>
</ul>
<p>Com base nos dados:</p>
<section id="carregando-pacotes" class="level2" data-number="6.1">
<h2 data-number="6.1" class="anchored" data-anchor-id="carregando-pacotes"><span class="header-section-number">6.1</span> Carregando pacotes</h2>
<div class="cell">
<div class="sourceCode cell-code" id="cb1"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb1-1"><a href="#cb1-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(tidyverse)</span>
<span id="cb1-2"><a href="#cb1-2" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(flexplot)</span>
<span id="cb1-3"><a href="#cb1-3" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(foreign)</span>
<span id="cb1-4"><a href="#cb1-4" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(dplyr)</span>
<span id="cb1-5"><a href="#cb1-5" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(tm)</span>
<span id="cb1-6"><a href="#cb1-6" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(ggplot2)</span>
<span id="cb1-7"><a href="#cb1-7" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(forcats)</span>
<span id="cb1-8"><a href="#cb1-8" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(rempsyc)</span>
<span id="cb1-9"><a href="#cb1-9" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(easystats)</span>
<span id="cb1-10"><a href="#cb1-10" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(kableExtra)</span>
<span id="cb1-11"><a href="#cb1-11" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(gtsummary)</span>
<span id="cb1-12"><a href="#cb1-12" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-13"><a href="#cb1-13" aria-hidden="true" tabindex="-1"></a><span class="co">#Específicos para survival</span></span>
<span id="cb1-14"><a href="#cb1-14" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(survival)</span>
<span id="cb1-15"><a href="#cb1-15" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(ggsurvfit)</span>
<span id="cb1-16"><a href="#cb1-16" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(survminer)</span>
<span id="cb1-17"><a href="#cb1-17" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(broom)</span>
<span id="cb1-18"><a href="#cb1-18" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(survMisc)</span>
<span id="cb1-19"><a href="#cb1-19" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(PHInfiniteEstimates)</span>
<span id="cb1-20"><a href="#cb1-20" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(coin)</span>
<span id="cb1-21"><a href="#cb1-21" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(condSURV)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
<section id="limpando-o-ambiente" class="level2" data-number="6.2">
<h2 data-number="6.2" class="anchored" data-anchor-id="limpando-o-ambiente"><span class="header-section-number">6.2</span> Limpando o ambiente</h2>
<p>Quando executamos diversos comandos no R muitas vezes acabamos deixando o ambiente meio “sujo”. Cheio de variáveis que não estamos mais utilizando, ou pacotes que estão carregados e não serão utilizados no momento.</p>
<p>Em longas sessões utilizando o R é sempre bom dar uma limpada no ambiente entre um projeto e outro. Para isso podemos executar o código abaixo:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb2"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb2-1"><a href="#cb2-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Limpa o ambiente</span></span>
<span id="cb2-2"><a href="#cb2-2" aria-hidden="true" tabindex="-1"></a><span class="fu">rm</span>(<span class="at">list =</span> <span class="fu">ls</span>(<span class="at">all.names =</span> <span class="cn">TRUE</span>)) <span class="co"># will clear all objects including hidden objects</span></span>
<span id="cb2-3"><a href="#cb2-3" aria-hidden="true" tabindex="-1"></a><span class="fu">gc</span>() <span class="co"># free up memory and report the memory usage</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>          used  (Mb) gc trigger  (Mb) max used  (Mb)
Ncells 3170881 169.4    4805995 256.7  4805995 256.7
Vcells 5390829  41.2   10154066  77.5  8395055  64.1</code></pre>
</div>
<div class="sourceCode cell-code" id="cb4"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb4-1"><a href="#cb4-1" aria-hidden="true" tabindex="-1"></a><span class="fu">options</span>(<span class="at">max.print =</span> .Machine<span class="sc">$</span>integer.max, <span class="at">scipen =</span> <span class="dv">999</span>, <span class="at">stringsAsFactors =</span> F, <span class="at">dplyr.summarise.inform =</span> F) <span class="co"># avoid truncated output in R console and scientific notation</span></span>
<span id="cb4-2"><a href="#cb4-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb4-3"><a href="#cb4-3" aria-hidden="true" tabindex="-1"></a><span class="co"># Set seed</span></span>
<span id="cb4-4"><a href="#cb4-4" aria-hidden="true" tabindex="-1"></a><span class="fu">set.seed</span>(<span class="dv">42</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
<section id="definindo-um-tema-para-os-gráficos" class="level2" data-number="6.3">
<h2 data-number="6.3" class="anchored" data-anchor-id="definindo-um-tema-para-os-gráficos"><span class="header-section-number">6.3</span> Definindo um tema para os gráficos</h2>
<p>Preenhcer todos os parâmetros da função ggplot() é uma tarefa morosa e repetitiva. Podemos criar um tema para todos os nossos gráficos e assim manter a consistência nas figuras e não precisar ficar escrevendo toda hora aquele parâmetro para mudar a espessura da linha do eixo X…</p>
<p>Uma vez definido o tema, podemos apenas chamá-lo dentro da função ggplot para repetir o padrão. Vamos armazenar todas as informações da padronização em uma variável com o código a seguir:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb5"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb5-1"><a href="#cb5-1" aria-hidden="true" tabindex="-1"></a>meu_tema <span class="ot">&lt;-</span> <span class="fu">theme</span>(<span class="at">plot.title =</span> <span class="fu">element_text</span>(<span class="at">size =</span> <span class="fu">rel</span>(<span class="dv">2</span>)),</span>
<span id="cb5-2"><a href="#cb5-2" aria-hidden="true" tabindex="-1"></a>                  <span class="at">panel.grid.major.y =</span> <span class="fu">element_line</span>(<span class="at">colour =</span> <span class="st">'gray'</span>),</span>
<span id="cb5-3"><a href="#cb5-3" aria-hidden="true" tabindex="-1"></a>                  <span class="at">panel.grid.minor.y =</span> <span class="fu">element_line</span>(<span class="at">colour =</span> <span class="st">'gray'</span>),</span>
<span id="cb5-4"><a href="#cb5-4" aria-hidden="true" tabindex="-1"></a>                  <span class="at">panel.grid.major.x =</span> <span class="fu">element_blank</span>(),</span>
<span id="cb5-5"><a href="#cb5-5" aria-hidden="true" tabindex="-1"></a>                  <span class="at">panel.grid.minor.x =</span> <span class="fu">element_blank</span>(),</span>
<span id="cb5-6"><a href="#cb5-6" aria-hidden="true" tabindex="-1"></a>                  <span class="at">plot.background =</span> <span class="fu">element_rect</span>(<span class="at">fill =</span> <span class="cn">NULL</span>, <span class="at">colour =</span> <span class="st">'white'</span>),</span>
<span id="cb5-7"><a href="#cb5-7" aria-hidden="true" tabindex="-1"></a>                  <span class="at">panel.background =</span> <span class="fu">element_rect</span>(<span class="at">fill =</span> <span class="st">'white'</span>),</span>
<span id="cb5-8"><a href="#cb5-8" aria-hidden="true" tabindex="-1"></a>                  <span class="co"># Axis stuff</span></span>
<span id="cb5-9"><a href="#cb5-9" aria-hidden="true" tabindex="-1"></a>                  <span class="at">axis.line =</span> <span class="fu">element_line</span>(<span class="at">colour =</span> <span class="st">'black'</span>, <span class="at">linewidth =</span> <span class="dv">1</span>),</span>
<span id="cb5-10"><a href="#cb5-10" aria-hidden="true" tabindex="-1"></a>                  <span class="at">axis.text =</span> <span class="fu">element_text</span>(<span class="at">colour =</span> <span class="st">"black"</span>, <span class="at">face =</span> <span class="st">'bold'</span>),</span>
<span id="cb5-11"><a href="#cb5-11" aria-hidden="true" tabindex="-1"></a>                  <span class="at">axis.text.x =</span> <span class="fu">element_text</span>(<span class="at">size =</span> <span class="fu">rel</span>(<span class="dv">1</span>)),</span>
<span id="cb5-12"><a href="#cb5-12" aria-hidden="true" tabindex="-1"></a>                  <span class="at">axis.text.y =</span> <span class="fu">element_text</span>(<span class="at">size =</span> <span class="fu">rel</span>(<span class="dv">1</span>)),</span>
<span id="cb5-13"><a href="#cb5-13" aria-hidden="true" tabindex="-1"></a>                  <span class="at">axis.title =</span> <span class="fu">element_text</span>(<span class="at">size =</span> <span class="fu">rel</span>(<span class="fl">1.2</span>)),</span>
<span id="cb5-14"><a href="#cb5-14" aria-hidden="true" tabindex="-1"></a>                  <span class="at">axis.ticks =</span> <span class="fu">element_line</span>(<span class="at">colour =</span> <span class="st">'black'</span>, <span class="at">linewidth =</span> <span class="fl">1.2</span>),</span>
<span id="cb5-15"><a href="#cb5-15" aria-hidden="true" tabindex="-1"></a>                  <span class="co"># Legend stuff</span></span>
<span id="cb5-16"><a href="#cb5-16" aria-hidden="true" tabindex="-1"></a>                  <span class="at">legend.position =</span> <span class="st">"bottom"</span>,</span>
<span id="cb5-17"><a href="#cb5-17" aria-hidden="true" tabindex="-1"></a>                  <span class="at">legend.margin =</span> <span class="fu">margin</span>(<span class="dv">6</span>, <span class="dv">6</span>, <span class="dv">6</span>, <span class="dv">6</span>),</span>
<span id="cb5-18"><a href="#cb5-18" aria-hidden="true" tabindex="-1"></a>                  <span class="at">legend.title =</span> <span class="fu">element_text</span>(<span class="at">face =</span> <span class="st">'bold'</span>),</span>
<span id="cb5-19"><a href="#cb5-19" aria-hidden="true" tabindex="-1"></a>                  <span class="at">legend.background =</span> <span class="fu">element_blank</span>(),</span>
<span id="cb5-20"><a href="#cb5-20" aria-hidden="true" tabindex="-1"></a>                  <span class="at">legend.box.background =</span> <span class="fu">element_rect</span>(<span class="at">colour =</span> <span class="st">"black"</span>))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>Vamos utilizar o tema em nossos gráficos mais adiante!</p>
</section>
<section id="sec-carrega_dados" class="level2 page-columns page-full" data-number="6.4">
<h2 data-number="6.4" class="anchored" data-anchor-id="sec-carrega_dados"><span class="header-section-number">6.4</span> Carregando os dados e modificando o tipo de variável</h2>
<p>Como de costume, vamos carregar os dados e ver os tipos das variáveis que temos no banco de dados.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb6"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb6-1"><a href="#cb6-1" aria-hidden="true" tabindex="-1"></a>original <span class="ot">=</span> <span class="fu">read.spss</span>(<span class="st">"teste Cox tempo dep Tx.sav"</span>, <span class="at">to.data.frame=</span><span class="cn">TRUE</span>)</span>
<span id="cb6-2"><a href="#cb6-2" aria-hidden="true" tabindex="-1"></a><span class="fu">glimpse</span>(original)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>Rows: 124
Columns: 5
$ id    &lt;chr&gt; "13758618I                     ", "13750502G                    …
$ t_seg &lt;dbl&gt; 99, 98, 97, 97, 97, 96, 92, 90, 89, 87, 83, 83, 82, 82, 80, 77, …
$ t_tx  &lt;dbl&gt; 22, 81, NA, 25, 93, 5, 1, 30, 88, 28, 30, 13, 49, NA, NA, 10, NA…
$ tx    &lt;fct&gt; sim, sim, não, sim, sim, sim, sim, sim, sim, sim, sim, sim, sim,…
$ obito &lt;fct&gt; não, não, não, não, não, não, não, não, sim, não, não, não, não,…</code></pre>
</div>
</div>
<div class="callout callout-style-default callout-warning callout-titled">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Cuidado!
</div>
</div>
<div class="callout-body-container callout-body">
<p>A variável do evento (<code>óbito</code> em nosso exemplo) PRECISA ser recodificada para uma variável numérica binária, ou seja, 1 e 0 caso queira realizar a análise de sobrevida.</p>
</div>
</div>
<p>Na seção <a href="#sec-extrasVI"><span>Section&nbsp;6.16</span></a>, exploraremos as distinções entre conduzir as análises com os fatores “sim” e “não” versus os números 1 e 0.</p>
<p>Inicialmente, ajustaremos a variável para aceitar os valores 1 e 0, representando a ocorrência do evento e a censura, respectivamente. Para isso, empregaremos o operador pipe %&gt;% para duplicar a base de dados original e efetuar a modificação no mesmo script. O operador pipe é útil para executar várias operações em uma única sequência de código.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb8"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb8-1"><a href="#cb8-1" aria-hidden="true" tabindex="-1"></a>db <span class="ot">&lt;-</span> original <span class="sc">%&gt;%</span></span>
<span id="cb8-2"><a href="#cb8-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(</span>
<span id="cb8-3"><a href="#cb8-3" aria-hidden="true" tabindex="-1"></a>    <span class="at">obito =</span> <span class="fu">as.integer</span>(obito <span class="sc">==</span> <span class="st">"sim"</span>) <span class="co"># para transformar sim e não em 1 e 0, respectivamente</span></span>
<span id="cb8-4"><a href="#cb8-4" aria-hidden="true" tabindex="-1"></a>  )</span>
<span id="cb8-5"><a href="#cb8-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb8-6"><a href="#cb8-6" aria-hidden="true" tabindex="-1"></a><span class="fu">glimpse</span>(db)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>Rows: 124
Columns: 5
$ id    &lt;chr&gt; "13758618I                     ", "13750502G                    …
$ t_seg &lt;dbl&gt; 99, 98, 97, 97, 97, 96, 92, 90, 89, 87, 83, 83, 82, 82, 80, 77, …
$ t_tx  &lt;dbl&gt; 22, 81, NA, 25, 93, 5, 1, 30, 88, 28, 30, 13, 49, NA, NA, 10, NA…
$ tx    &lt;fct&gt; sim, sim, não, sim, sim, sim, sim, sim, sim, sim, sim, sim, sim,…
$ obito &lt;int&gt; 0, 0, 0, 0, 0, 0, 0, 0, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0…</code></pre>
</div>
</div>
<p>Pronto, agora temos que óbito assumiu os valores de números 1 e 0.</p>
<p>Outra análise exploratória importante a fazer nos dados é observar se há dados faltantes (NA) e onde eles estão, caso estejam presentes. Se uma variável tiver muitos NAs, vamos precisar de cautela para inserir a variável na análise.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb10"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb10-1"><a href="#cb10-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Verificando NAs</span></span>
<span id="cb10-2"><a href="#cb10-2" aria-hidden="true" tabindex="-1"></a><span class="fu">data.frame</span>(</span>
<span id="cb10-3"><a href="#cb10-3" aria-hidden="true" tabindex="-1"></a>  <span class="at">nas_t_seg =</span> <span class="fu">sum</span>(<span class="fu">is.na</span>(db<span class="sc">$</span>t_seg)),</span>
<span id="cb10-4"><a href="#cb10-4" aria-hidden="true" tabindex="-1"></a>  <span class="at">nas_t_seg =</span> <span class="fu">sum</span>(<span class="fu">is.na</span>(db<span class="sc">$</span>t_tx)),</span>
<span id="cb10-5"><a href="#cb10-5" aria-hidden="true" tabindex="-1"></a>  <span class="at">nas_tx =</span> <span class="fu">sum</span>(<span class="fu">is.na</span>(db<span class="sc">$</span>tx)),</span>
<span id="cb10-6"><a href="#cb10-6" aria-hidden="true" tabindex="-1"></a>  <span class="at">nas_obito =</span> <span class="fu">sum</span>(<span class="fu">is.na</span>(db<span class="sc">$</span>obito))</span>
<span id="cb10-7"><a href="#cb10-7" aria-hidden="true" tabindex="-1"></a>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>  nas_t_seg nas_t_seg.1 nas_tx nas_obito
1         0          64      0         0</code></pre>
</div>
</div>
<div class="cell page-columns page-full">
<div class="sourceCode cell-code" id="cb12"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb12-1"><a href="#cb12-1" aria-hidden="true" tabindex="-1"></a><span class="fu">kable</span>(<span class="fu">report</span>(db))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display column-page">
<table data-quarto-postprocess="true" class="table table-sm table-striped small">
<thead>
<tr class="header">
<th style="text-align: left;" data-quarto-table-cell-role="th"></th>
<th style="text-align: left;" data-quarto-table-cell-role="th">Variable</th>
<th style="text-align: left;" data-quarto-table-cell-role="th">Level</th>
<th style="text-align: right;" data-quarto-table-cell-role="th">n_Obs</th>
<th style="text-align: right;" data-quarto-table-cell-role="th">percentage_Obs</th>
<th style="text-align: right;" data-quarto-table-cell-role="th">percentage_Missing</th>
<th style="text-align: right;" data-quarto-table-cell-role="th">Mean</th>
<th style="text-align: right;" data-quarto-table-cell-role="th">SD</th>
<th style="text-align: right;" data-quarto-table-cell-role="th">Median</th>
<th style="text-align: right;" data-quarto-table-cell-role="th">MAD</th>
<th style="text-align: right;" data-quarto-table-cell-role="th">Min</th>
<th style="text-align: right;" data-quarto-table-cell-role="th">Max</th>
<th style="text-align: right;" data-quarto-table-cell-role="th">Skewness</th>
<th style="text-align: right;" data-quarto-table-cell-role="th">Kurtosis</th>
<th style="text-align: right;" data-quarto-table-cell-role="th">n_Entries</th>
<th style="text-align: right;" data-quarto-table-cell-role="th">n_Missing</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: left;">3</td>
<td style="text-align: left;">id</td>
<td style="text-align: left;">NA</td>
<td style="text-align: right;">124</td>
<td style="text-align: right;"></td>
<td style="text-align: right;">0.00</td>
<td style="text-align: right;"></td>
<td style="text-align: right;"></td>
<td style="text-align: right;"></td>
<td style="text-align: right;"></td>
<td style="text-align: right;"></td>
<td style="text-align: right;"></td>
<td style="text-align: right;"></td>
<td style="text-align: right;"></td>
<td style="text-align: right;">124.00</td>
<td style="text-align: right;">0</td>
</tr>
<tr class="even">
<td style="text-align: left;">5</td>
<td style="text-align: left;">t_seg</td>
<td style="text-align: left;">NA</td>
<td style="text-align: right;">124</td>
<td style="text-align: right;"></td>
<td style="text-align: right;">0.00</td>
<td style="text-align: right;">45.22</td>
<td style="text-align: right;">24.08</td>
<td style="text-align: right;">42.00</td>
<td style="text-align: right;">19.27</td>
<td style="text-align: right;">0.00</td>
<td style="text-align: right;">99.00</td>
<td style="text-align: right;">0.38</td>
<td style="text-align: right;">-0.19</td>
<td style="text-align: right;"></td>
<td style="text-align: right;"></td>
</tr>
<tr class="odd">
<td style="text-align: left;">6</td>
<td style="text-align: left;">t_tx</td>
<td style="text-align: left;">NA</td>
<td style="text-align: right;">124</td>
<td style="text-align: right;"></td>
<td style="text-align: right;">51.61</td>
<td style="text-align: right;">19.90</td>
<td style="text-align: right;">20.05</td>
<td style="text-align: right;"></td>
<td style="text-align: right;">16.31</td>
<td style="text-align: right;">1.00</td>
<td style="text-align: right;">93.00</td>
<td style="text-align: right;">1.99</td>
<td style="text-align: right;">4.70</td>
<td style="text-align: right;"></td>
<td style="text-align: right;"></td>
</tr>
<tr class="even">
<td style="text-align: left;">1</td>
<td style="text-align: left;">tx</td>
<td style="text-align: left;">sim</td>
<td style="text-align: right;">60</td>
<td style="text-align: right;">48.39</td>
<td style="text-align: right;"></td>
<td style="text-align: right;"></td>
<td style="text-align: right;"></td>
<td style="text-align: right;"></td>
<td style="text-align: right;"></td>
<td style="text-align: right;"></td>
<td style="text-align: right;"></td>
<td style="text-align: right;"></td>
<td style="text-align: right;"></td>
<td style="text-align: right;"></td>
<td style="text-align: right;"></td>
</tr>
<tr class="odd">
<td style="text-align: left;">2</td>
<td style="text-align: left;">tx</td>
<td style="text-align: left;">não</td>
<td style="text-align: right;">64</td>
<td style="text-align: right;">51.61</td>
<td style="text-align: right;"></td>
<td style="text-align: right;"></td>
<td style="text-align: right;"></td>
<td style="text-align: right;"></td>
<td style="text-align: right;"></td>
<td style="text-align: right;"></td>
<td style="text-align: right;"></td>
<td style="text-align: right;"></td>
<td style="text-align: right;"></td>
<td style="text-align: right;"></td>
<td style="text-align: right;"></td>
</tr>
<tr class="even">
<td style="text-align: left;">4</td>
<td style="text-align: left;">obito</td>
<td style="text-align: left;">NA</td>
<td style="text-align: right;">124</td>
<td style="text-align: right;"></td>
<td style="text-align: right;">0.00</td>
<td style="text-align: right;">0.27</td>
<td style="text-align: right;">0.45</td>
<td style="text-align: right;">0.00</td>
<td style="text-align: right;">0.00</td>
<td style="text-align: right;">0.00</td>
<td style="text-align: right;">1.00</td>
<td style="text-align: right;">1.02</td>
<td style="text-align: right;">-0.97</td>
<td style="text-align: right;"></td>
<td style="text-align: right;"></td>
</tr>
</tbody>
</table>


</div>
</div>
<p>O número de NAs na variável t_tx é alto (51.61%) pelo simples motivo de que pessoas que não fizeram transplante não possuem a marca do tempo que fizeram o transplante. Em todo caso podemos verificar se existem indivíduos que fizeram o transplante mas não possuem a marca do tempo em que fizeram o transplante.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb13"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb13-1"><a href="#cb13-1" aria-hidden="true" tabindex="-1"></a>db <span class="sc">%&gt;%</span></span>
<span id="cb13-2"><a href="#cb13-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(tx <span class="sc">==</span> <span class="st">"sim"</span> <span class="sc">&amp;</span> <span class="fu">is.na</span>(t_tx))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] id    t_seg t_tx  tx    obito
&lt;0 linhas&gt; (ou row.names de comprimento 0)</code></pre>
</div>
</div>
<p>O código acima filtra os dados de pessoas que fizeram o transplante (tx sim) e que tenham NA na coluna t_tx. Como o resultado volta com zero elementos, podemos concluir que todas as pessoas que fizeram o transplante, possuem a marca do horário em que o transplante foi feito.</p>
<p>Na tabela acima podemos perceber também que a porcentagem de pessoas que não fizeram o transplante (51.61) é a mesma porcentagem de dados faltantes (missing) da variável t_tx (51.61)</p>
<p>Por fim, podemos ver quantas pessoas morreram pela causa de morte do desfecho durante o período de observação.</p>
<div class="cell page-columns page-full">
<div class="sourceCode cell-code" id="cb15"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb15-1"><a href="#cb15-1" aria-hidden="true" tabindex="-1"></a><span class="fu">kable</span>(<span class="fu">table</span>(db<span class="sc">$</span>obito))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display column-body-inset">
<table data-quarto-postprocess="true" class="table table-sm table-striped small">
<thead>
<tr class="header">
<th style="text-align: left;" data-quarto-table-cell-role="th">Var1</th>
<th style="text-align: right;" data-quarto-table-cell-role="th">Freq</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: left;">0</td>
<td style="text-align: right;">90</td>
</tr>
<tr class="even">
<td style="text-align: left;">1</td>
<td style="text-align: right;">34</td>
</tr>
</tbody>
</table>


</div>
</div>
<p>Lembrando que 1 é o evento, que no nosso exemplo é ocorrência do óbito</p>
<p>Vamos agora às análises.</p>
</section>
<section id="criando-a-estrutura-de-dados" class="level2" data-number="6.5">
<h2 data-number="6.5" class="anchored" data-anchor-id="criando-a-estrutura-de-dados"><span class="header-section-number">6.5</span> Criando a estrutura de dados</h2>
<p>Iniciamos especificando para a função <code>Surv()</code> as colunas referentes ao tempo observado e aos eventos de interesse, que, neste caso, são os óbitos.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb16"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb16-1"><a href="#cb16-1" aria-hidden="true" tabindex="-1"></a>surv_obj <span class="ot">&lt;-</span> <span class="fu">Surv</span>(<span class="at">time =</span> db<span class="sc">$</span>t_seg, <span class="at">event =</span> db<span class="sc">$</span>obito)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
<section id="a-tábua-de-vida" class="level2" data-number="6.6">
<h2 data-number="6.6" class="anchored" data-anchor-id="a-tábua-de-vida"><span class="header-section-number">6.6</span> a) Tábua de vida</h2>
<div class="callout callout-style-default callout-note callout-titled">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Exercício
</div>
</div>
<div class="callout-body-container callout-body">
<p>Faça duas tábuas de vida em função da variável óbito comparando grupos que fizeram ou não transplante: Ambas com período 0 até 99 meses. A primeira dividida em períodos de 20 meses e a segunda com períodos de 1 mês. Faça um parágrafo descrevendo as diferenças nos gráficos.</p>
</div>
</div>
<p>Agora vamos criar a tabela de vida. Por enquanto, não faremos a separação dos dados por grupos.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb17"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb17-1"><a href="#cb17-1" aria-hidden="true" tabindex="-1"></a>fit1 <span class="ot">&lt;-</span> <span class="fu">survfit</span>(surv_obj <span class="sc">~</span> <span class="dv">1</span>, <span class="at">data =</span> db)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>A função <code>summary()</code> também pode ser utilizada para verificar os resultados dos modelos de sobrevida.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb18"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb18-1"><a href="#cb18-1" aria-hidden="true" tabindex="-1"></a><span class="fu">summary</span>(fit1)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>Call: survfit(formula = surv_obj ~ 1, data = db)

 time n.risk n.event survival std.err lower 95% CI upper 95% CI
    0    124       2    0.984  0.0113        0.962        1.000
    3    121       2    0.968  0.0159        0.937        0.999
    4    119       2    0.951  0.0194        0.914        0.990
    6    117       1    0.943  0.0208        0.903        0.985
    8    116       2    0.927  0.0234        0.882        0.974
   11    114       1    0.919  0.0246        0.872        0.968
   13    113       1    0.911  0.0257        0.862        0.962
   16    110       1    0.902  0.0268        0.851        0.956
   19    108       1    0.894  0.0278        0.841        0.950
   24    106       2    0.877  0.0297        0.821        0.937
   25    104       1    0.869  0.0306        0.811        0.931
   26    103       1    0.860  0.0314        0.801        0.924
   27    102       1    0.852  0.0323        0.791        0.917
   29    101       1    0.843  0.0330        0.781        0.911
   34     89       3    0.815  0.0358        0.748        0.888
   36     82       1    0.805  0.0367        0.736        0.880
   38     70       1    0.794  0.0379        0.723        0.871
   40     68       1    0.782  0.0391        0.709        0.862
   41     65       2    0.758  0.0414        0.681        0.844
   44     59       1    0.745  0.0427        0.666        0.834
   45     55       1    0.731  0.0440        0.650        0.823
   46     53       1    0.718  0.0453        0.634        0.812
   49     47       1    0.702  0.0468        0.616        0.800
   58     32       1    0.680  0.0502        0.589        0.786
   66     24       1    0.652  0.0556        0.552        0.771
   89      9       1    0.580  0.0843        0.436        0.771</code></pre>
</div>
</div>
<p>E a função função <code>tidy_survfit()</code> nos oferece uma tabela bem mais completa.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb20"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb20-1"><a href="#cb20-1" aria-hidden="true" tabindex="-1"></a><span class="fu">tidy_survfit</span>(fit1)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 63 × 14
    time n.risk n.event n.censor cum.event cum.censor estimate std.error
   &lt;dbl&gt;  &lt;dbl&gt;   &lt;dbl&gt;    &lt;dbl&gt;     &lt;dbl&gt;      &lt;dbl&gt;    &lt;dbl&gt;     &lt;dbl&gt;
 1     0    124       2        1         2          1    0.984    0.0115
 2     3    121       2        0         4          1    0.968    0.0165
 3     4    119       2        0         6          1    0.951    0.0204
 4     6    117       1        0         7          1    0.943    0.0221
 5     8    116       2        0         9          1    0.927    0.0253
 6    11    114       1        0        10          1    0.919    0.0268
 7    13    113       1        0        11          1    0.911    0.0282
 8    14    112       0        1        11          2    0.911    0.0282
 9    15    111       0        1        11          3    0.911    0.0282
10    16    110       1        0        12          3    0.902    0.0297
# ℹ 53 more rows
# ℹ 6 more variables: conf.high &lt;dbl&gt;, conf.low &lt;dbl&gt;, estimate_type &lt;chr&gt;,
#   estimate_type_label &lt;chr&gt;, monotonicity_type &lt;chr&gt;, conf.level &lt;dbl&gt;</code></pre>
</div>
</div>
</section>
<section id="b-kaplan-meier" class="level2" data-number="6.7">
<h2 data-number="6.7" class="anchored" data-anchor-id="b-kaplan-meier"><span class="header-section-number">6.7</span> b) Kaplan-Meier</h2>
<div class="callout callout-style-default callout-note callout-titled">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Exercício
</div>
</div>
<div class="callout-body-container callout-body">
<p>Faça uma curva de Kaplan-meyer comparando os grupos que fizeram vs não fizeram transplante em relação ao óbito. Analise o gráfico e as saídas do teste.</p>
</div>
</div>
<p>Para produzir um gráfico Kaplan-Meier simples podemos utilizar a função <code>plot()</code>.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb22"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb22-1"><a href="#cb22-1" aria-hidden="true" tabindex="-1"></a><span class="fu">plot</span>(fit1)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<p><img src="lista_6_files/figure-html/unnamed-chunk-14-1.png" class="img-fluid" width="672"></p>
</div>
</div>
<p>Meio pobrezinho e sem cor ne?</p>
<p>Podemos melhorar utilizando a função <code>ggsurvfit()</code>, do pacote com o mesmo nome.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb23"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb23-1"><a href="#cb23-1" aria-hidden="true" tabindex="-1"></a>fit1_km <span class="ot">=</span> <span class="fu">ggsurvfit</span>(fit1, <span class="at">linewidth =</span> <span class="dv">1</span>) <span class="sc">+</span></span>
<span id="cb23-2"><a href="#cb23-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(<span class="at">x =</span> <span class="st">'Dias'</span>, <span class="at">y =</span> <span class="st">'Overall survival'</span>) <span class="sc">+</span></span>
<span id="cb23-3"><a href="#cb23-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">add_confidence_interval</span>() <span class="sc">+</span></span>
<span id="cb23-4"><a href="#cb23-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">add_risktable</span>() <span class="sc">+</span></span>
<span id="cb23-5"><a href="#cb23-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_ggsurvfit</span>() </span>
<span id="cb23-6"><a href="#cb23-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb23-7"><a href="#cb23-7" aria-hidden="true" tabindex="-1"></a>fit1_km</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<p><img src="lista_6_files/figure-html/unnamed-chunk-15-1.png" class="img-fluid" width="672"></p>
</div>
</div>
<p>Até aqui estamos vendo o gráfico da sobrevida sem separar por grupos. A seguir vamos comparar entre os grupos que receberam ou não o transplante de rins.</p>
</section>
<section id="separando-por-transplante-e-nos-tempos-0-20-40-60-80" class="level2" data-number="6.8">
<h2 data-number="6.8" class="anchored" data-anchor-id="separando-por-transplante-e-nos-tempos-0-20-40-60-80"><span class="header-section-number">6.8</span> Separando por transplante e nos tempos 0, 20, 40, 60, 80</h2>
<p>Queremos comparar a sobrevida entre quem fez e não fez o transplante. Para isso podemos especificar no modelo que o transplante (tx) será uma das variáveis independentes.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb24"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb24-1"><a href="#cb24-1" aria-hidden="true" tabindex="-1"></a>fit2 <span class="ot">=</span> <span class="fu">survfit</span>(surv_obj <span class="sc">~</span> tx, <span class="co"># basta colocar tx como uma variável preditora no modelo</span></span>
<span id="cb24-2"><a href="#cb24-2" aria-hidden="true" tabindex="-1"></a>               <span class="at">data =</span> db) </span>
<span id="cb24-3"><a href="#cb24-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb24-4"><a href="#cb24-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb24-5"><a href="#cb24-5" aria-hidden="true" tabindex="-1"></a><span class="fu">summary</span>(fit2)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>Call: survfit(formula = surv_obj ~ tx, data = db)

                tx=sim 
 time n.risk n.event survival std.err lower 95% CI upper 95% CI
    3     59       1    0.983  0.0168        0.951        1.000
    4     58       1    0.966  0.0236        0.921        1.000
   24     57       1    0.949  0.0286        0.895        1.000
   26     56       1    0.932  0.0327        0.870        0.999
   29     55       1    0.915  0.0363        0.847        0.989
   38     44       1    0.894  0.0410        0.818        0.978
   41     41       1    0.873  0.0454        0.788        0.966
   45     37       1    0.849  0.0499        0.757        0.953
   49     32       1    0.823  0.0550        0.722        0.938
   66     19       1    0.779  0.0670        0.658        0.922
   89      8       1    0.682  0.1083        0.499        0.931

                tx=não 
 time n.risk n.event survival std.err lower 95% CI upper 95% CI
    0     64       2    0.969  0.0217        0.927        1.000
    3     62       1    0.953  0.0264        0.903        1.000
    4     61       1    0.938  0.0303        0.880        0.999
    6     60       1    0.922  0.0335        0.858        0.990
    8     59       2    0.891  0.0390        0.817        0.970
   11     57       1    0.875  0.0413        0.798        0.960
   13     56       1    0.859  0.0435        0.778        0.949
   16     53       1    0.843  0.0456        0.758        0.937
   19     51       1    0.827  0.0476        0.738        0.925
   24     49       1    0.810  0.0495        0.718        0.913
   25     48       1    0.793  0.0513        0.699        0.900
   27     47       1    0.776  0.0529        0.679        0.887
   34     38       3    0.715  0.0594        0.607        0.841
   36     35       1    0.694  0.0611        0.584        0.825
   40     26       1    0.668  0.0643        0.553        0.806
   41     24       1    0.640  0.0674        0.520        0.786
   44     21       1    0.609  0.0707        0.485        0.765
   46     18       1    0.575  0.0745        0.447        0.742
   58     11       1    0.523  0.0841        0.382        0.717</code></pre>
</div>
</div>
<p>A função <code>summary()</code> aceita um parâmetro com intervalos específicos para aparecer nos resultados. Vamos utilizar a função <code>seq()</code> para criar uma sequência de números que vai do 0 ao 100 com intervalos de 20 em 20.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb26"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb26-1"><a href="#cb26-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Cria o intervalo de tempo</span></span>
<span id="cb26-2"><a href="#cb26-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb26-3"><a href="#cb26-3" aria-hidden="true" tabindex="-1"></a>tempos_específicos <span class="ot">&lt;-</span> <span class="fu">seq</span>(<span class="dv">0</span>, <span class="dv">100</span>, <span class="at">by =</span> <span class="dv">20</span>) <span class="co"># sequencia de 0 a 100 em intervalos de 20.</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>Aplicando o intervalo na função temos o seguinte script:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb27"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb27-1"><a href="#cb27-1" aria-hidden="true" tabindex="-1"></a><span class="fu">summary</span>(fit2, <span class="at">times =</span> tempos_específicos)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>Call: survfit(formula = surv_obj ~ tx, data = db)

                tx=sim 
 time n.risk n.event survival std.err lower 95% CI upper 95% CI
    0     60       0    1.000  0.0000        1.000        1.000
   20     57       2    0.966  0.0236        0.921        1.000
   40     42       4    0.894  0.0410        0.818        0.978
   60     21       3    0.823  0.0550        0.722        0.938
   80     12       1    0.779  0.0670        0.658        0.922

                tx=não 
 time n.risk n.event survival std.err lower 95% CI upper 95% CI
    0     64       2    0.969  0.0217        0.927        1.000
   20     50       9    0.827  0.0476        0.738        0.925
   40     26       8    0.668  0.0643        0.553        0.806
   60      7       4    0.523  0.0841        0.382        0.717
   80      3       0    0.523  0.0841        0.382        0.717</code></pre>
</div>
</div>
<p>Podemos nos perguntar também qual é a probabilidade de sobreviver após um certo tempo. Para obter a resposta basta ajustar o parâmetro <code>times</code> da função <code>summary()</code> para o tempo desejado.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb29"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb29-1"><a href="#cb29-1" aria-hidden="true" tabindex="-1"></a><span class="fu">summary</span>(fit2, <span class="at">times =</span> <span class="dv">75</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>Call: survfit(formula = surv_obj ~ tx, data = db)

                tx=sim 
        time       n.risk      n.event     survival      std.err lower 95% CI 
      75.000       14.000       10.000        0.779        0.067        0.658 
upper 95% CI 
       0.922 

                tx=não 
        time       n.risk      n.event     survival      std.err lower 95% CI 
     75.0000       4.0000      23.0000       0.5232       0.0841       0.3818 
upper 95% CI 
      0.7169 </code></pre>
</div>
</div>
<p>Na análise do tempo de sobrevivência neste modelo, observamos o seguinte:</p>
<p>Para o grupo que <strong>realizou</strong> o transplante (tx=sim):</p>
<ul>
<li><p>Aos 75 meses, havia 14 indivíduos em risco.</p></li>
<li><p>10 eventos ocorreram até esse momento.</p></li>
<li><p>A taxa de sobrevivência foi de 0.779, com um desvio padrão de 0.067.</p></li>
<li><p>O intervalo de confiança de 95% para a taxa de sobrevivência variou de 0.658 a 0.922.</p></li>
</ul>
<p>Para o grupo que <strong>não realizou</strong> o transplante (tx=não):</p>
<ul>
<li><p>Aos 75 meses, havia 4 indivíduos em risco.</p></li>
<li><p>23 eventos ocorreram até esse momento.</p></li>
<li><p>A taxa de sobrevivência foi de 0.5232, com um desvio padrão de 0.0841.</p></li>
<li><p>O intervalo de confiança de 95% para a taxa de sobrevivência variou de 0.3818 a 0.7169.</p></li>
</ul>
<p>Podemos ainda calcular quantas vezes a probabilidade de sobrevivência é maior no grupo que realizou o transplante em comparação com o grupo que não o fez.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb31"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb31-1"><a href="#cb31-1" aria-hidden="true" tabindex="-1"></a><span class="fu">summary</span>(fit2, <span class="at">times =</span> <span class="dv">75</span>)<span class="sc">$</span>surv[<span class="dv">1</span>] <span class="sc">/</span> <span class="fu">summary</span>(fit2, <span class="at">times =</span> <span class="dv">75</span>)<span class="sc">$</span>surv[<span class="dv">2</span>]</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 1.489431</code></pre>
</div>
</div>
<p>O resultado revela que a probabilidade de sobrevivência no grupo que fez o transplante é aproximadamente 1.5 vezes maior do que no grupo que não o realizou.</p>
<section id="kaplan-meir-do-novo-modelo" class="level3">
<h3 class="anchored" data-anchor-id="kaplan-meir-do-novo-modelo">Kaplan-Meir do novo modelo</h3>
<p>Vamos salvar o plot padrão do segundo modelo para adicionar mais alguns parâmetros e incrementar a visualização dos resultados.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb33"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb33-1"><a href="#cb33-1" aria-hidden="true" tabindex="-1"></a>fit2_km <span class="ot">=</span> <span class="fu">ggsurvfit</span>(fit2, <span class="at">linewidth =</span> <span class="dv">1</span>) <span class="sc">+</span></span>
<span id="cb33-2"><a href="#cb33-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(<span class="at">x =</span> <span class="st">'Tempo (meses)'</span>, <span class="at">y =</span> <span class="st">'% Probabilidade de sobrevivência'</span>) <span class="sc">+</span></span>
<span id="cb33-3"><a href="#cb33-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">add_confidence_interval</span>() <span class="sc">+</span></span>
<span id="cb33-4"><a href="#cb33-4" aria-hidden="true" tabindex="-1"></a>  <span class="co">#add_risktable() + </span></span>
<span id="cb33-5"><a href="#cb33-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_ggsurvfit</span>() </span>
<span id="cb33-6"><a href="#cb33-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb33-7"><a href="#cb33-7" aria-hidden="true" tabindex="-1"></a>fit2_km</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<p><img src="lista_6_files/figure-html/unnamed-chunk-21-1.png" class="img-fluid" width="672"></p>
</div>
</div>
<p>Com o plot salvo, podemos adicionar mais elementos aos poucos, como as linhas tracejadas para enfatizar diferenças.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb34"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb34-1"><a href="#cb34-1" aria-hidden="true" tabindex="-1"></a>fit2_km <span class="sc">+</span></span>
<span id="cb34-2"><a href="#cb34-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_vline</span>(<span class="at">xintercept =</span> <span class="dv">75</span>, </span>
<span id="cb34-3"><a href="#cb34-3" aria-hidden="true" tabindex="-1"></a>             <span class="at">linetype =</span> <span class="st">'dashed'</span>, </span>
<span id="cb34-4"><a href="#cb34-4" aria-hidden="true" tabindex="-1"></a>             <span class="at">colour =</span> <span class="st">'red'</span>, </span>
<span id="cb34-5"><a href="#cb34-5" aria-hidden="true" tabindex="-1"></a>             <span class="at">size =</span> <span class="dv">1</span>) <span class="sc">+</span> <span class="co"># adiciona a linha vermelha vertical </span></span>
<span id="cb34-6"><a href="#cb34-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_hline</span>(<span class="at">yintercept =</span> <span class="fu">summary</span>(fit2, <span class="at">times =</span> <span class="dv">75</span>)<span class="sc">$</span>surv, </span>
<span id="cb34-7"><a href="#cb34-7" aria-hidden="true" tabindex="-1"></a>             <span class="at">linetype =</span> <span class="st">'dashed'</span>, </span>
<span id="cb34-8"><a href="#cb34-8" aria-hidden="true" tabindex="-1"></a>             <span class="at">colour =</span> <span class="st">'red'</span>, <span class="at">size =</span> <span class="dv">1</span>) <span class="co"># adiciona as linhas vermelhas horizontais.</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<p><img src="lista_6_files/figure-html/unnamed-chunk-22-1.png" class="img-fluid" width="672"></p>
</div>
</div>
</section>
<section id="porcentagem-fixa-tempos-diferentes" class="level3">
<h3 class="anchored" data-anchor-id="porcentagem-fixa-tempos-diferentes">Porcentagem fixa, tempos diferentes</h3>
<p>A função ggsurvfit oferece vários parâmetros interessantes. Um deles, bastante útil, permite traçar uma linha para comparar o tempo em que a probabilidade de sobrevivência X ocorre entre grupos diferentes.</p>
<p>Em quanto tempo será que a probabilidade de sobrevida chega a 75% nos dois grupos? Vamos utilizar o parâmetro <code>add_quantile()</code> para ter uma estimativa gráfica.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb35"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb35-1"><a href="#cb35-1" aria-hidden="true" tabindex="-1"></a>fit2 <span class="sc">%&gt;%</span> </span>
<span id="cb35-2"><a href="#cb35-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggsurvfit</span>(<span class="at">linewidth =</span> <span class="dv">1</span>) <span class="sc">+</span></span>
<span id="cb35-3"><a href="#cb35-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(<span class="at">x =</span> <span class="st">'Tempo (meses)'</span>, <span class="at">y =</span> <span class="st">'% Probabilidade de sobrevivência'</span>) <span class="sc">+</span></span>
<span id="cb35-4"><a href="#cb35-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">add_confidence_interval</span>() <span class="sc">+</span></span>
<span id="cb35-5"><a href="#cb35-5" aria-hidden="true" tabindex="-1"></a>  <span class="co">#  add_risktable() +</span></span>
<span id="cb35-6"><a href="#cb35-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">add_quantile</span>(<span class="at">y_value =</span> <span class="fl">0.75</span>, <span class="at">color =</span> <span class="st">"gray50"</span>, <span class="at">linewidth =</span> <span class="fl">0.75</span>) <span class="sc">+</span></span>
<span id="cb35-7"><a href="#cb35-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_ggsurvfit</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<p><img src="lista_6_files/figure-html/unnamed-chunk-23-1.png" class="img-fluid" width="672"></p>
</div>
</div>
<p>Ao examinarmos a imagem, observamos que o grupo que não passou pelo transplante atinge uma probabilidade de sobrevida de 75% em aproximadamente 35 meses. Por outro lado, no grupo que se submeteu ao transplante, essa mesma probabilidade só ocorre por volta do 90º mês, sendo ainda maior antes desse período.</p>
</section>
<section id="escolhendo-um-intervalo-de-tempo" class="level3">
<h3 class="anchored" data-anchor-id="escolhendo-um-intervalo-de-tempo">Escolhendo um intervalo de tempo</h3>
<p>Caso você queira apresentar apenas um período específico de tempo em sua análise, podemos fazer isso utilizando o parâmetro <code>coord_cartesian()</code>.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb36"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb36-1"><a href="#cb36-1" aria-hidden="true" tabindex="-1"></a><span class="fu">ggsurvfit</span>(fit2, <span class="at">linewidth =</span> <span class="dv">1</span>) <span class="sc">+</span></span>
<span id="cb36-2"><a href="#cb36-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(<span class="at">x =</span> <span class="st">'Tempo (meses)'</span>, <span class="at">y =</span> <span class="st">'% Probabilidade de sobrevivência'</span>) <span class="sc">+</span></span>
<span id="cb36-3"><a href="#cb36-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">add_confidence_interval</span>() <span class="sc">+</span></span>
<span id="cb36-4"><a href="#cb36-4" aria-hidden="true" tabindex="-1"></a>  <span class="co"># add_risktable() +</span></span>
<span id="cb36-5"><a href="#cb36-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_ggsurvfit</span>() <span class="sc">+</span> </span>
<span id="cb36-6"><a href="#cb36-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">coord_cartesian</span>(<span class="at">xlim =</span> <span class="fu">c</span>(<span class="dv">0</span>, <span class="dv">60</span>)) <span class="co"># coloque os números que</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<p><img src="lista_6_files/figure-html/unnamed-chunk-24-1.png" class="img-fluid" width="672"></p>
</div>
</div>
<p>Personalize os limites do intervalo de tempo em sua análise ajustando os valores “0” e “60”, de acordo com suas necessidades específicas.</p>
</section>
</section>
<section id="comparando-as-curvas" class="level2" data-number="6.9">
<h2 data-number="6.9" class="anchored" data-anchor-id="comparando-as-curvas"><span class="header-section-number">6.9</span> Comparando as curvas</h2>
<ul>
<li><p>Log-rank: utilizar para comparar o primeiro terço do gráfico</p></li>
<li><p>Gehan: utilizar para comparar o meio do gráfico</p></li>
<li><p>Tarone: utilizar para comparar o final do gráfico</p></li>
<li><p>Peto-Peto: parecido com o Log-rank, utilizar para comparar o primeiro terço do gráfico</p></li>
</ul>
<p>Pacote mais indicado para utilizar é o <code>coin</code>.</p>
<section id="tipos-de-testes-possíveis" class="level3">
<h3 class="anchored" data-anchor-id="tipos-de-testes-possíveis">Tipos de testes possíveis</h3>
<p>“logrank”, “Gehan-Breslow”, “Tarone-Ware”, “Peto-Peto”, “Prentice”, “Prentice-Marek”, “Andersen-Borgan-Gill-Keiding”, “Fleming-Harrington”, “Gaugler-Kim-Liao”, “Self”</p>
<section id="log-rank" class="level4">
<h4 class="anchored" data-anchor-id="log-rank">Log-rank</h4>
<div class="cell">
<div class="sourceCode cell-code" id="cb37"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb37-1"><a href="#cb37-1" aria-hidden="true" tabindex="-1"></a>coin<span class="sc">::</span><span class="fu">logrank_test</span>(surv_obj <span class="sc">~</span> tx, <span class="at">data =</span> db, <span class="at">type =</span> <span class="st">"logrank"</span> ) <span class="co"># padrão é o log-rank</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>
    Asymptotic Two-Sample Logrank Test

data:  surv_obj by tx (sim, não)
Z = 2.9275, p-value = 0.003417
alternative hypothesis: true theta is not equal to 1</code></pre>
</div>
</div>
</section>
<section id="gehan-breslow" class="level4">
<h4 class="anchored" data-anchor-id="gehan-breslow">Gehan-Breslow</h4>
<div class="cell">
<div class="sourceCode cell-code" id="cb39"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb39-1"><a href="#cb39-1" aria-hidden="true" tabindex="-1"></a>coin<span class="sc">::</span><span class="fu">logrank_test</span>(surv_obj <span class="sc">~</span> tx ,<span class="at">data =</span> db, <span class="at">type =</span> <span class="st">"Gehan-Breslow"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>
    Asymptotic Two-Sample Gehan-Breslow Test

data:  surv_obj by tx (sim, não)
Z = 3.0103, p-value = 0.00261
alternative hypothesis: true theta is not equal to 1</code></pre>
</div>
</div>
</section>
<section id="tarone-ware" class="level4">
<h4 class="anchored" data-anchor-id="tarone-ware">Tarone-Ware</h4>
<div class="cell">
<div class="sourceCode cell-code" id="cb41"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb41-1"><a href="#cb41-1" aria-hidden="true" tabindex="-1"></a>coin<span class="sc">::</span><span class="fu">logrank_test</span>(surv_obj <span class="sc">~</span> tx ,<span class="at">data =</span> db, <span class="at">type =</span> <span class="st">"Tarone-Ware"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>
    Asymptotic Two-Sample Tarone-Ware Test

data:  surv_obj by tx (sim, não)
Z = 3.0338, p-value = 0.002415
alternative hypothesis: true theta is not equal to 1</code></pre>
</div>
</div>
</section>
<section id="peto-peto" class="level4">
<h4 class="anchored" data-anchor-id="peto-peto">Peto-Peto</h4>
<div class="cell">
<div class="sourceCode cell-code" id="cb43"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb43-1"><a href="#cb43-1" aria-hidden="true" tabindex="-1"></a>coin<span class="sc">::</span><span class="fu">logrank_test</span>(surv_obj <span class="sc">~</span> tx ,<span class="at">data =</span> db, <span class="at">type =</span> <span class="st">"Peto-Peto"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>
    Asymptotic Two-Sample Peto-Peto Test

data:  surv_obj by tx (sim, não)
Z = 2.9857, p-value = 0.002829
alternative hypothesis: true theta is not equal to 1</code></pre>
</div>
</div>
<p>Em todos os testes a hipótese alternativa sugere que o verdadeiro parâmetro theta não é igual a 1, indicando assim que há diferenças significativas nas curvas de sobrevida entre os dois grupos analisados. Em termos práticos, isso sugere que a probabilidade de sobrevivência varia de maneira estatisticamente significativa entre os grupos que fizeram ou não o transplante.</p>
</section>
</section>
</section>
<section id="c-cox-regression" class="level2" data-number="6.10">
<h2 data-number="6.10" class="anchored" data-anchor-id="c-cox-regression"><span class="header-section-number">6.10</span> c) Cox Regression</h2>
<div class="callout callout-style-default callout-note callout-titled">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Exercício
</div>
</div>
<div class="callout-body-container callout-body">
<p>Reproduza a análise do item b) com uma Cox Regression. Descreva os resultados</p>
</div>
</div>
<p>Compare com base no resultado da Cox, qual seria a diferença na sobrevida (HR) entre uma pessoa que fez e outra que não fez transplante com 50 meses de observação</p>
<p>A Regressão de Cox é uma técnica estatística utilizada para analisar a relação entre variáveis explicativas e o tempo até um evento ocorrer, como a morte. Ao contrário de modelos de regressão linear, a Regressão de Cox lida com dados de sobrevida, levando em consideração o tempo até o evento ou a censura. O código apresentado realiza uma Regressão de Cox com a função <code>coxph()</code>.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb45"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb45-1"><a href="#cb45-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Cox regression ======================================================</span></span>
<span id="cb45-2"><a href="#cb45-2" aria-hidden="true" tabindex="-1"></a><span class="co"># Fit the model</span></span>
<span id="cb45-3"><a href="#cb45-3" aria-hidden="true" tabindex="-1"></a>cox_res <span class="ot">&lt;-</span> <span class="fu">coxph</span>(<span class="fu">Surv</span>(<span class="at">time =</span> db<span class="sc">$</span>t_seg, <span class="at">event =</span> db<span class="sc">$</span>obito) <span class="sc">~</span> tx, <span class="at">data =</span> db)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>O código acima ajusta o modelo de Regressão de Cox. A variável dependente é definida como o tempo (t_seg) até o evento (obito) ocorrer, e a variável independente é tx.</p>
<p>Notem que dentro da função <code>coxph()</code>, repetimos o código para gerar a tabela de vida.Durante a criação da estrutura dos dados, armazenamos a tabela de vida em uma variável chamada <code>surv_obj</code>. Podemos reutilizá-la na Regressão de Cox, evitando a necessidade de reescrever o código.</p>
<p>Vamos fazer isso!</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb46"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb46-1"><a href="#cb46-1" aria-hidden="true" tabindex="-1"></a>cox_res_2 <span class="ot">=</span> <span class="fu">coxph</span>(surv_obj <span class="sc">~</span> tx, <span class="at">data =</span> db)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>Bem mais limpo, não? E como vamos escrever mais alguns modelos, é uma boa prática salvar o padrão que se repete em uma variável.</p>
<section id="resultados-dos-modelos" class="level3">
<h3 class="anchored" data-anchor-id="resultados-dos-modelos">Resultados dos modelos</h3>
<p>Sabe qual função vamos utilizar para verificar o resultado? Sim, a <code>summary()</code>.</p>
<p>Primeiro vamos verificar se as duas formas que escrevemos os modelos geram os mesmos resultados.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb47"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb47-1"><a href="#cb47-1" aria-hidden="true" tabindex="-1"></a><span class="fu">summary</span>(cox_res)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>Call:
coxph(formula = Surv(time = db$t_seg, event = db$obito) ~ tx, 
    data = db)

  n= 124, number of events= 34 

        coef exp(coef) se(coef)     z Pr(&gt;|z|)   
txnão 1.0787    2.9409   0.3753 2.874  0.00405 **
---
Signif. codes:  0 '***' 0.001 '**' 0.01 '*' 0.05 '.' 0.1 ' ' 1

      exp(coef) exp(-coef) lower .95 upper .95
txnão     2.941       0.34     1.409     6.136

Concordance= 0.638  (se = 0.04 )
Likelihood ratio test= 8.99  on 1 df,   p=0.003
Wald test            = 8.26  on 1 df,   p=0.004
Score (logrank) test = 9.01  on 1 df,   p=0.003</code></pre>
</div>
</div>
<hr>
<div class="cell">
<div class="sourceCode cell-code" id="cb49"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb49-1"><a href="#cb49-1" aria-hidden="true" tabindex="-1"></a><span class="fu">summary</span>(cox_res_2)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>Call:
coxph(formula = surv_obj ~ tx, data = db)

  n= 124, number of events= 34 

        coef exp(coef) se(coef)     z Pr(&gt;|z|)   
txnão 1.0787    2.9409   0.3753 2.874  0.00405 **
---
Signif. codes:  0 '***' 0.001 '**' 0.01 '*' 0.05 '.' 0.1 ' ' 1

      exp(coef) exp(-coef) lower .95 upper .95
txnão     2.941       0.34     1.409     6.136

Concordance= 0.638  (se = 0.04 )
Likelihood ratio test= 8.99  on 1 df,   p=0.003
Wald test            = 8.26  on 1 df,   p=0.004
Score (logrank) test = 9.01  on 1 df,   p=0.003</code></pre>
</div>
</div>
<hr>
<p>Boa! Os resultados são idênticos, então podemos manter o padrão de escrevr o modelo utilizando a tábua de vida salva em uma variável.</p>
<p>Embora o resultado da função summary() para modelos de Regressão de Cox possa não ser visualmente atraente, ele oferece informações detalhadas sobre como o modelo se ajusta aos dados. Vamos analisar cada componente separadamente:</p>
<ol type="1">
<li><p><strong>Sumário do Modelo:</strong></p>
<ul>
<li><p><strong>Call</strong>: Indica a chamada da função utilizada para ajustar o modelo.</p></li>
<li><p><strong>n= 124, number of events= 34:</strong> Informa o número total de observações (n) e o número de eventos ocorridos (number of events).</p></li>
</ul></li>
<li><p><strong>Coeficientes:</strong></p>
<ul>
<li><p><strong>coef:</strong> O coeficiente estimado para a variável tx.</p></li>
<li><p><strong>exp(coef):</strong> A interpretação deste valor é que, para pessoas do grupo que não fizeram o transplante (txnão), o risco de o evento (morte) ocorrer aumenta em 2.941 vezes.</p></li>
<li><p><strong>se(coef):</strong> O erro padrão do coeficiente.</p></li>
</ul></li>
<li><p><strong>Teste de Hipótese para Coeficientes:</strong></p>
<ul>
<li><p><strong>z:</strong> O valor z do teste de Wald, indicando quão longe o coeficiente está da média em termos de erros padrão.</p></li>
<li><p><strong>Pr(&gt;|z|):</strong> O p-valor associado ao teste de Wald. No exemplo, 0.00405 sugere que o efeito da variável tx é estatisticamente significativo.</p></li>
<li><p><strong>Significância codes:</strong> ** indica significância a 0.01.</p></li>
</ul></li>
<li><p><strong>Intervalo de Confiança para Exp(Coef):</strong></p>
<ul>
<li><strong>exp(coef) exp(-coef) lower .95 upper .95:</strong> O intervalo de confiança de 95% para o efeito da variável tx.</li>
</ul></li>
<li><p><strong>Medidas de Desempenho do Modelo:</strong></p>
<ul>
<li><p><strong>Concordance= 0.638:</strong> A concordância é uma medida de quão bem o modelo prevê a ordem de eventos.</p></li>
<li><p><strong>Likelihood ratio test= 8.99, p=0.003:</strong> O teste de razão de verossimilhança avalia se o modelo é significativamente melhor do que um modelo nulo. O p-valor sugere que o modelo é estatisticamente significativo.</p></li>
<li><p><strong>Wald test= 8.26, p=0.004:</strong> O teste de Wald também avalia a significância global do modelo.</p></li>
<li><p><strong>Score (logrank) test= 9.01, p=0.003:</strong> O teste de log-rank compara as curvas de sobrevivência entre os grupos.</p></li>
</ul></li>
</ol>
<p>E claro que temos formas melhores de visualizar e mostrar os dados mais importantes. Vamos utilizar a função <code>tbl_regression()</code> do pacote <code>gtsummary</code>, que pega um objeto de modelo de regressão e retorna uma tabela formatada pronta para publicação.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb51"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb51-1"><a href="#cb51-1" aria-hidden="true" tabindex="-1"></a><span class="fu">tbl_regression</span>(cox_res, <span class="at">exponentiate =</span> <span class="cn">TRUE</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">

<div id="qeayjdrzqo" style="padding-left:0px;padding-right:0px;padding-top:10px;padding-bottom:10px;overflow-x:auto;overflow-y:auto;width:auto;height:auto;">
<style>#qeayjdrzqo table {
  font-family: system-ui, 'Segoe UI', Roboto, Helvetica, Arial, sans-serif, 'Apple Color Emoji', 'Segoe UI Emoji', 'Segoe UI Symbol', 'Noto Color Emoji';
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;
}

#qeayjdrzqo thead, #qeayjdrzqo tbody, #qeayjdrzqo tfoot, #qeayjdrzqo tr, #qeayjdrzqo td, #qeayjdrzqo th {
  border-style: none;
}

#qeayjdrzqo p {
  margin: 0;
  padding: 0;
}

#qeayjdrzqo .gt_table {
  display: table;
  border-collapse: collapse;
  line-height: normal;
  margin-left: auto;
  margin-right: auto;
  color: #333333;
  font-size: 16px;
  font-weight: normal;
  font-style: normal;
  background-color: #FFFFFF;
  width: auto;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #A8A8A8;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #A8A8A8;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
}

#qeayjdrzqo .gt_caption {
  padding-top: 4px;
  padding-bottom: 4px;
}

#qeayjdrzqo .gt_title {
  color: #333333;
  font-size: 125%;
  font-weight: initial;
  padding-top: 4px;
  padding-bottom: 4px;
  padding-left: 5px;
  padding-right: 5px;
  border-bottom-color: #FFFFFF;
  border-bottom-width: 0;
}

#qeayjdrzqo .gt_subtitle {
  color: #333333;
  font-size: 85%;
  font-weight: initial;
  padding-top: 3px;
  padding-bottom: 5px;
  padding-left: 5px;
  padding-right: 5px;
  border-top-color: #FFFFFF;
  border-top-width: 0;
}

#qeayjdrzqo .gt_heading {
  background-color: #FFFFFF;
  text-align: center;
  border-bottom-color: #FFFFFF;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
}

#qeayjdrzqo .gt_bottom_border {
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
}

#qeayjdrzqo .gt_col_headings {
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
}

#qeayjdrzqo .gt_col_heading {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: normal;
  text-transform: inherit;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: bottom;
  padding-top: 5px;
  padding-bottom: 6px;
  padding-left: 5px;
  padding-right: 5px;
  overflow-x: hidden;
}

#qeayjdrzqo .gt_column_spanner_outer {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: normal;
  text-transform: inherit;
  padding-top: 0;
  padding-bottom: 0;
  padding-left: 4px;
  padding-right: 4px;
}

#qeayjdrzqo .gt_column_spanner_outer:first-child {
  padding-left: 0;
}

#qeayjdrzqo .gt_column_spanner_outer:last-child {
  padding-right: 0;
}

#qeayjdrzqo .gt_column_spanner {
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  vertical-align: bottom;
  padding-top: 5px;
  padding-bottom: 5px;
  overflow-x: hidden;
  display: inline-block;
  width: 100%;
}

#qeayjdrzqo .gt_spanner_row {
  border-bottom-style: hidden;
}

#qeayjdrzqo .gt_group_heading {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  text-transform: inherit;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: middle;
  text-align: left;
}

#qeayjdrzqo .gt_empty_group_heading {
  padding: 0.5px;
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  vertical-align: middle;
}

#qeayjdrzqo .gt_from_md > :first-child {
  margin-top: 0;
}

#qeayjdrzqo .gt_from_md > :last-child {
  margin-bottom: 0;
}

#qeayjdrzqo .gt_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  margin: 10px;
  border-top-style: solid;
  border-top-width: 1px;
  border-top-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: middle;
  overflow-x: hidden;
}

#qeayjdrzqo .gt_stub {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  text-transform: inherit;
  border-right-style: solid;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
  padding-left: 5px;
  padding-right: 5px;
}

#qeayjdrzqo .gt_stub_row_group {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  text-transform: inherit;
  border-right-style: solid;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
  padding-left: 5px;
  padding-right: 5px;
  vertical-align: top;
}

#qeayjdrzqo .gt_row_group_first td {
  border-top-width: 2px;
}

#qeayjdrzqo .gt_row_group_first th {
  border-top-width: 2px;
}

#qeayjdrzqo .gt_summary_row {
  color: #333333;
  background-color: #FFFFFF;
  text-transform: inherit;
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
}

#qeayjdrzqo .gt_first_summary_row {
  border-top-style: solid;
  border-top-color: #D3D3D3;
}

#qeayjdrzqo .gt_first_summary_row.thick {
  border-top-width: 2px;
}

#qeayjdrzqo .gt_last_summary_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
}

#qeayjdrzqo .gt_grand_summary_row {
  color: #333333;
  background-color: #FFFFFF;
  text-transform: inherit;
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
}

#qeayjdrzqo .gt_first_grand_summary_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  border-top-style: double;
  border-top-width: 6px;
  border-top-color: #D3D3D3;
}

#qeayjdrzqo .gt_last_grand_summary_row_top {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  border-bottom-style: double;
  border-bottom-width: 6px;
  border-bottom-color: #D3D3D3;
}

#qeayjdrzqo .gt_striped {
  background-color: rgba(128, 128, 128, 0.05);
}

#qeayjdrzqo .gt_table_body {
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
}

#qeayjdrzqo .gt_footnotes {
  color: #333333;
  background-color: #FFFFFF;
  border-bottom-style: none;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
}

#qeayjdrzqo .gt_footnote {
  margin: 0px;
  font-size: 90%;
  padding-top: 4px;
  padding-bottom: 4px;
  padding-left: 5px;
  padding-right: 5px;
}

#qeayjdrzqo .gt_sourcenotes {
  color: #333333;
  background-color: #FFFFFF;
  border-bottom-style: none;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
}

#qeayjdrzqo .gt_sourcenote {
  font-size: 90%;
  padding-top: 4px;
  padding-bottom: 4px;
  padding-left: 5px;
  padding-right: 5px;
}

#qeayjdrzqo .gt_left {
  text-align: left;
}

#qeayjdrzqo .gt_center {
  text-align: center;
}

#qeayjdrzqo .gt_right {
  text-align: right;
  font-variant-numeric: tabular-nums;
}

#qeayjdrzqo .gt_font_normal {
  font-weight: normal;
}

#qeayjdrzqo .gt_font_bold {
  font-weight: bold;
}

#qeayjdrzqo .gt_font_italic {
  font-style: italic;
}

#qeayjdrzqo .gt_super {
  font-size: 65%;
}

#qeayjdrzqo .gt_footnote_marks {
  font-size: 75%;
  vertical-align: 0.4em;
  position: initial;
}

#qeayjdrzqo .gt_asterisk {
  font-size: 100%;
  vertical-align: 0;
}

#qeayjdrzqo .gt_indent_1 {
  text-indent: 5px;
}

#qeayjdrzqo .gt_indent_2 {
  text-indent: 10px;
}

#qeayjdrzqo .gt_indent_3 {
  text-indent: 15px;
}

#qeayjdrzqo .gt_indent_4 {
  text-indent: 20px;
}

#qeayjdrzqo .gt_indent_5 {
  text-indent: 25px;
}
</style>
<table class="gt_table" data-quarto-disable-processing="false" data-quarto-bootstrap="false">
  <thead>
    
    <tr class="gt_col_headings">
      <th class="gt_col_heading gt_columns_bottom_border gt_left" rowspan="1" colspan="1" scope="col" id="<strong>Characteristic</strong>"><strong>Characteristic</strong></th>
      <th class="gt_col_heading gt_columns_bottom_border gt_center" rowspan="1" colspan="1" scope="col" id="<strong>HR</strong><span class=&quot;gt_footnote_marks&quot; style=&quot;white-space:nowrap;font-style:italic;font-weight:normal;&quot;><sup>1</sup></span>"><strong>HR</strong><span class="gt_footnote_marks" style="white-space:nowrap;font-style:italic;font-weight:normal;"><sup>1</sup></span></th>
      <th class="gt_col_heading gt_columns_bottom_border gt_center" rowspan="1" colspan="1" scope="col" id="<strong>95% CI</strong><span class=&quot;gt_footnote_marks&quot; style=&quot;white-space:nowrap;font-style:italic;font-weight:normal;&quot;><sup>1</sup></span>"><strong>95% CI</strong><span class="gt_footnote_marks" style="white-space:nowrap;font-style:italic;font-weight:normal;"><sup>1</sup></span></th>
      <th class="gt_col_heading gt_columns_bottom_border gt_center" rowspan="1" colspan="1" scope="col" id="<strong>p-value</strong>"><strong>p-value</strong></th>
    </tr>
  </thead>
  <tbody class="gt_table_body">
    <tr><td headers="label" class="gt_row gt_left">tx</td>
<td headers="estimate" class="gt_row gt_center"><br></td>
<td headers="ci" class="gt_row gt_center"><br></td>
<td headers="p.value" class="gt_row gt_center"><br></td></tr>
    <tr><td headers="label" class="gt_row gt_left">&nbsp;&nbsp;&nbsp;&nbsp;sim</td>
<td headers="estimate" class="gt_row gt_center">—</td>
<td headers="ci" class="gt_row gt_center">—</td>
<td headers="p.value" class="gt_row gt_center"><br></td></tr>
    <tr><td headers="label" class="gt_row gt_left">&nbsp;&nbsp;&nbsp;&nbsp;não</td>
<td headers="estimate" class="gt_row gt_center">2.94</td>
<td headers="ci" class="gt_row gt_center">1.41, 6.14</td>
<td headers="p.value" class="gt_row gt_center">0.004</td></tr>
  </tbody>
  
  <tfoot class="gt_footnotes">
    <tr>
      <td class="gt_footnote" colspan="4"><span class="gt_footnote_marks" style="white-space:nowrap;font-style:italic;font-weight:normal;"><sup>1</sup></span> HR = Hazard Ratio, CI = Confidence Interval</td>
    </tr>
  </tfoot>
</table>
</div>
</div>
</div>
<p>Pra fazer isso aí no word demoraria uns 30 minutos hein? E ficaria feia ainda. Com uma linha de código fizemos miséria!</p>
</section>
<section id="plots-do-modelo-e-do-resultado" class="level3">
<h3 class="anchored" data-anchor-id="plots-do-modelo-e-do-resultado">Plots do modelo e do resultado</h3>
<p>Tendo ajustado um modelo de Cox aos dados, é possível visualizar a proporção de sobrevivência prevista em qualquer momento para um determinado grupo de risco.</p>
<p>Neste caso, construímos um novo banco de dados com duas linhas, uma para cada valor de tx.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb52"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb52-1"><a href="#cb52-1" aria-hidden="true" tabindex="-1"></a>tx_df <span class="ot">&lt;-</span> <span class="fu">with</span>(db,</span>
<span id="cb52-2"><a href="#cb52-2" aria-hidden="true" tabindex="-1"></a>              <span class="fu">data.frame</span>(<span class="at">tx =</span> <span class="fu">c</span>(<span class="st">"sim"</span>, <span class="st">"não"</span>)</span>
<span id="cb52-3"><a href="#cb52-3" aria-hidden="true" tabindex="-1"></a>              )</span>
<span id="cb52-4"><a href="#cb52-4" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb52-5"><a href="#cb52-5" aria-hidden="true" tabindex="-1"></a><span class="fu">kable</span>(tx_df)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<table data-quarto-postprocess="true" class="table table-sm table-striped small">
<thead>
<tr class="header">
<th style="text-align: left;" data-quarto-table-cell-role="th">tx</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: left;">sim</td>
</tr>
<tr class="even">
<td style="text-align: left;">não</td>
</tr>
</tbody>
</table>


</div>
</div>
<p>Agora podemos utilizar o nosso modelo para prever os valores de sobrevida e criar um gráfico da Regressão de Cox.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb53"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb53-1"><a href="#cb53-1" aria-hidden="true" tabindex="-1"></a>cox_graph <span class="ot">&lt;-</span> <span class="fu">survfit</span>(cox_res, <span class="at">newdata =</span> tx_df)</span>
<span id="cb53-2"><a href="#cb53-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb53-3"><a href="#cb53-3" aria-hidden="true" tabindex="-1"></a><span class="fu">ggsurvplot</span>(cox_graph, <span class="at">conf.int =</span> <span class="cn">TRUE</span>, <span class="at">legend.labs=</span><span class="fu">c</span>(<span class="st">"tx=sim"</span>, <span class="st">"tx=não"</span>),</span>
<span id="cb53-4"><a href="#cb53-4" aria-hidden="true" tabindex="-1"></a>           <span class="at">ggtheme =</span> <span class="fu">theme_minimal</span>(),</span>
<span id="cb53-5"><a href="#cb53-5" aria-hidden="true" tabindex="-1"></a>           <span class="at">data =</span> db)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<p><img src="lista_6_files/figure-html/unnamed-chunk-35-1.png" class="img-fluid" width="672"></p>
</div>
</div>
<div class="callout callout-style-default callout-caution callout-titled">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Cuidado!
</div>
</div>
<div class="callout-body-container callout-body">
<p>O gráfico do modelo da Regressão de Cox é diferente do gráfico da Kaplan-Meir! O cálculo da regressão distorce os valores e encaixa o modelo aos dados. Observe a diferença!</p>
</div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb54"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb54-1"><a href="#cb54-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Gráfico da Kaplan-Meir</span></span>
<span id="cb54-2"><a href="#cb54-2" aria-hidden="true" tabindex="-1"></a>fit2_km</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<p><img src="lista_6_files/figure-html/unnamed-chunk-36-1.png" class="img-fluid" width="672"></p>
</div>
</div>
<p>Não podemos deixar e fora o gráfico do modelo. Com pouca tinta (e pouco código) vamos mostrar tudo o que a função <code>summary()</code> nos proporcionou. Para isso vamos utilizar a função <code>ggforest()</code> do pacote <code>survminer</code>.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb55"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb55-1"><a href="#cb55-1" aria-hidden="true" tabindex="-1"></a><span class="fu">ggforest</span>(cox_res, <span class="at">data =</span> db)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<p><img src="lista_6_files/figure-html/unnamed-chunk-37-1.png" class="img-fluid" width="672"></p>
</div>
</div>
<p>Se não escorreu uma lágrima aí do outro lado da tela agora, eu desisto. E olha que utilizamos apenas uma variável independente no modelo!</p>
</section>
</section>
<section id="hazard-ratio-e-risco-relativo-confirmar-o-conteúdo" class="level2" data-number="6.11">
<h2 data-number="6.11" class="anchored" data-anchor-id="hazard-ratio-e-risco-relativo-confirmar-o-conteúdo"><span class="header-section-number">6.11</span> Hazard ratio e risco relativo (CONFIRMAR O CONTEÚDO)</h2>
<p>Vocês repararam que tanto na tabela quanto no gráfico com os resultados no modelo aparece o resultado como “Hazard Ratio”… pois bem, isso está errado!</p>
<div class="callout callout-style-default callout-warning callout-titled">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Atenção!
</div>
</div>
<div class="callout-body-container callout-body">
<p>O risco relativo compara a probabilidade <strong>cumulativa</strong> de um evento ocorrer entre dois grupos ao longo de um período específico, enquanto o hazard ratio avalia a <strong>razão instantânea</strong> de riscos proporcionais entre os grupos, considerando a variação no risco ao longo do tempo. Enquanto o risco relativo se concentra em eventos cumulativos, o hazard ratio destaca as diferenças nas taxas instantâneas de falha, sendo especialmente útil em análises de sobrevida e estudos onde a dinâmica temporal do risco é crucial.</p>
</div>
</div>
</section>
<section id="d-hazard-ratio" class="level2" data-number="6.12">
<h2 data-number="6.12" class="anchored" data-anchor-id="d-hazard-ratio"><span class="header-section-number">6.12</span> d) Hazard Ratio</h2>
<div class="callout callout-style-default callout-note callout-titled">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Exercício
</div>
</div>
<div class="callout-body-container callout-body">
<p>Compare com base no resultado da Cox, qual seria a diferença na sobrevida (HR) entre uma pessoa que fez e outra que não fez transplante com 50 meses de observação</p>
</div>
</div>
<p>Para de fato calcular o Hazard Ratio precisamos utilizar nosso modelo para prever a sobrevida em um tempo específico de nosso interesse.</p>
<p>Vamos começar salvando nosso modelo em uma variável</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb56"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb56-1"><a href="#cb56-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Ajuste do modelo de regressão de Cox</span></span>
<span id="cb56-2"><a href="#cb56-2" aria-hidden="true" tabindex="-1"></a>cox_res <span class="ot">&lt;-</span> <span class="fu">coxph</span>(<span class="fu">Surv</span>(<span class="at">time =</span> t_seg, <span class="at">event =</span> obito) <span class="sc">~</span> tx, <span class="at">data =</span> db)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>Agora vamos criar um conjunto de dados com informações simuladas sobre tempo de seguimento, ocorrência de evento (óbito), e uma variável indicadora de tratamento. Como queremos comparar o tempo de sobrevida entre quem fez ou não o transplante, a única variável que terá valores diferentes será a tx.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb57"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb57-1"><a href="#cb57-1" aria-hidden="true" tabindex="-1"></a>pred_dat <span class="ot">&lt;-</span> <span class="fu">data.frame</span>(<span class="at">t_seg =</span> <span class="fu">c</span>(<span class="dv">41</span>,<span class="dv">41</span>),</span>
<span id="cb57-2"><a href="#cb57-2" aria-hidden="true" tabindex="-1"></a>                       <span class="at">obito =</span> <span class="fu">c</span>(<span class="dv">0</span>,<span class="dv">0</span>), </span>
<span id="cb57-3"><a href="#cb57-3" aria-hidden="true" tabindex="-1"></a>                       <span class="at">tx =</span> <span class="fu">c</span>(<span class="st">"sim"</span>,<span class="st">"não"</span>)</span>
<span id="cb57-4"><a href="#cb57-4" aria-hidden="true" tabindex="-1"></a>                       )</span>
<span id="cb57-5"><a href="#cb57-5" aria-hidden="true" tabindex="-1"></a><span class="fu">kable</span>(pred_dat)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<table data-quarto-postprocess="true" class="table table-sm table-striped small">
<thead>
<tr class="header">
<th style="text-align: right;" data-quarto-table-cell-role="th">t_seg</th>
<th style="text-align: right;" data-quarto-table-cell-role="th">obito</th>
<th style="text-align: left;" data-quarto-table-cell-role="th">tx</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: right;">41</td>
<td style="text-align: right;">0</td>
<td style="text-align: left;">sim</td>
</tr>
<tr class="even">
<td style="text-align: right;">41</td>
<td style="text-align: right;">0</td>
<td style="text-align: left;">não</td>
</tr>
</tbody>
</table>


</div>
</div>
<p>A seguir vamos utiliza a função <code>predict()</code> para fazer previsões com base em nosso modelo previamente ajustado (cox_res).</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb58"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb58-1"><a href="#cb58-1" aria-hidden="true" tabindex="-1"></a>preds <span class="ot">&lt;-</span> <span class="fu">predict</span>(cox_res, <span class="at">newdata =</span> pred_dat, <span class="at">type =</span> <span class="st">"survival"</span>, <span class="at">se.fit =</span> <span class="cn">TRUE</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>Salvamos o resultado da função em uma variável para poder adicionar os resultados das predições em nosso dataframe criado anteriormente (pred_dat). Queremos os resultados da média e do Intervalo de Confiança. Para isso executamos o código a seguir:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb59"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb59-1"><a href="#cb59-1" aria-hidden="true" tabindex="-1"></a>pred_dat<span class="sc">$</span>prob <span class="ot">&lt;-</span> preds<span class="sc">$</span>fit</span>
<span id="cb59-2"><a href="#cb59-2" aria-hidden="true" tabindex="-1"></a>pred_dat<span class="sc">$</span>lcl <span class="ot">&lt;-</span> preds<span class="sc">$</span>fit <span class="sc">-</span> <span class="fl">1.96</span><span class="sc">*</span>preds<span class="sc">$</span>se.fit</span>
<span id="cb59-3"><a href="#cb59-3" aria-hidden="true" tabindex="-1"></a>pred_dat<span class="sc">$</span>ucl <span class="ot">&lt;-</span> preds<span class="sc">$</span>fit <span class="sc">+</span> <span class="fl">1.96</span><span class="sc">*</span>preds<span class="sc">$</span>se.fit</span>
<span id="cb59-4"><a href="#cb59-4" aria-hidden="true" tabindex="-1"></a><span class="fu">kable</span>(pred_dat)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<table data-quarto-postprocess="true" class="table table-sm table-striped small">
<thead>
<tr class="header">
<th style="text-align: right;" data-quarto-table-cell-role="th">t_seg</th>
<th style="text-align: right;" data-quarto-table-cell-role="th">obito</th>
<th style="text-align: left;" data-quarto-table-cell-role="th">tx</th>
<th style="text-align: right;" data-quarto-table-cell-role="th">prob</th>
<th style="text-align: right;" data-quarto-table-cell-role="th">lcl</th>
<th style="text-align: right;" data-quarto-table-cell-role="th">ucl</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: right;">41</td>
<td style="text-align: right;">0</td>
<td style="text-align: left;">sim</td>
<td style="text-align: right;">0.8630231</td>
<td style="text-align: right;">0.7805057</td>
<td style="text-align: right;">0.9455404</td>
</tr>
<tr class="even">
<td style="text-align: right;">41</td>
<td style="text-align: right;">0</td>
<td style="text-align: left;">não</td>
<td style="text-align: right;">0.6484075</td>
<td style="text-align: right;">0.5224067</td>
<td style="text-align: right;">0.7744083</td>
</tr>
</tbody>
</table>


</div>
</div>
<p>Por fim, podemos finalmente verificar o Hazard Ratio no tempo de 41 meses, dividindo a probabilidade de sobrevida do grupo que fez o transplante pela probabilidade de sobrevida do grupo que não fez o transplante.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb60"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb60-1"><a href="#cb60-1" aria-hidden="true" tabindex="-1"></a>HR_41 <span class="ot">=</span> pred_dat<span class="sc">$</span>prob[<span class="dv">1</span>] <span class="sc">/</span> pred_dat<span class="sc">$</span>prob[<span class="dv">2</span>] <span class="co"># Diferença na sobrevida (HR) no tempo 41 meses </span></span>
<span id="cb60-2"><a href="#cb60-2" aria-hidden="true" tabindex="-1"></a>HR_41</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 1.330989</code></pre>
</div>
</div>
<hr>
<p>Temos que no tempo de 41 meses a probabilidade de sobrevida de quem não fez o transplante é 1.33 menor do que quem fez o transplante.</p>
<p>Caso tenha interesse em mais pontos, podemos criar vários tempos de interesse em um único dataframe e repetir o código.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb62"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb62-1"><a href="#cb62-1" aria-hidden="true" tabindex="-1"></a>multi_pred_dat <span class="ot">&lt;-</span> <span class="fu">data.frame</span>(<span class="at">t_seg =</span> <span class="fu">c</span>(<span class="dv">41</span>,<span class="dv">41</span>, <span class="dv">50</span>, <span class="dv">50</span>, <span class="dv">80</span>, <span class="dv">80</span>),</span>
<span id="cb62-2"><a href="#cb62-2" aria-hidden="true" tabindex="-1"></a>                       <span class="at">obito =</span> <span class="fu">c</span>(<span class="dv">0</span>,<span class="dv">0</span>,<span class="dv">0</span>,<span class="dv">0</span>,<span class="dv">0</span>,<span class="dv">0</span>), </span>
<span id="cb62-3"><a href="#cb62-3" aria-hidden="true" tabindex="-1"></a>                       <span class="at">tx =</span> <span class="fu">c</span>(<span class="st">"sim"</span>,<span class="st">"não"</span>,<span class="st">"sim"</span>,<span class="st">"não"</span>,<span class="st">"sim"</span>,<span class="st">"não"</span>)</span>
<span id="cb62-4"><a href="#cb62-4" aria-hidden="true" tabindex="-1"></a>                       )</span>
<span id="cb62-5"><a href="#cb62-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb62-6"><a href="#cb62-6" aria-hidden="true" tabindex="-1"></a>preds <span class="ot">&lt;-</span> <span class="fu">predict</span>(cox_res, <span class="at">newdata =</span> multi_pred_dat, <span class="at">type =</span> <span class="st">"survival"</span>, <span class="at">se.fit =</span> <span class="cn">TRUE</span>)</span>
<span id="cb62-7"><a href="#cb62-7" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb62-8"><a href="#cb62-8" aria-hidden="true" tabindex="-1"></a>multi_pred_dat<span class="sc">$</span>prob <span class="ot">&lt;-</span> preds<span class="sc">$</span>fit</span>
<span id="cb62-9"><a href="#cb62-9" aria-hidden="true" tabindex="-1"></a>multi_pred_dat<span class="sc">$</span>lcl <span class="ot">&lt;-</span> preds<span class="sc">$</span>fit <span class="sc">-</span> <span class="fl">1.96</span><span class="sc">*</span>preds<span class="sc">$</span>se.fit</span>
<span id="cb62-10"><a href="#cb62-10" aria-hidden="true" tabindex="-1"></a>multi_pred_dat<span class="sc">$</span>ucl <span class="ot">&lt;-</span> preds<span class="sc">$</span>fit <span class="sc">+</span> <span class="fl">1.96</span><span class="sc">*</span>preds<span class="sc">$</span>se.fit</span>
<span id="cb62-11"><a href="#cb62-11" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb62-12"><a href="#cb62-12" aria-hidden="true" tabindex="-1"></a>HR_41 <span class="ot">=</span> multi_pred_dat<span class="sc">$</span>prob[<span class="dv">1</span>] <span class="sc">/</span> multi_pred_dat<span class="sc">$</span>prob[<span class="dv">2</span>] <span class="co"># 41 </span></span>
<span id="cb62-13"><a href="#cb62-13" aria-hidden="true" tabindex="-1"></a>HR_50 <span class="ot">=</span> multi_pred_dat<span class="sc">$</span>prob[<span class="dv">3</span>] <span class="sc">/</span> multi_pred_dat<span class="sc">$</span>prob[<span class="dv">4</span>] <span class="co"># 50 </span></span>
<span id="cb62-14"><a href="#cb62-14" aria-hidden="true" tabindex="-1"></a>HR_80 <span class="ot">=</span> multi_pred_dat<span class="sc">$</span>prob[<span class="dv">5</span>] <span class="sc">/</span> multi_pred_dat<span class="sc">$</span>prob[<span class="dv">6</span>] <span class="co"># 80 </span></span>
<span id="cb62-15"><a href="#cb62-15" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb62-16"><a href="#cb62-16" aria-hidden="true" tabindex="-1"></a>tabela_HR <span class="ot">=</span> <span class="fu">data.frame</span>(<span class="at">Tempo =</span> <span class="fu">c</span>(<span class="dv">41</span>, <span class="dv">50</span>, <span class="dv">80</span>),</span>
<span id="cb62-17"><a href="#cb62-17" aria-hidden="true" tabindex="-1"></a>                       HR_Não <span class="ot">=</span> <span class="fu">c</span>(HR_41, HR_50, HR_80))</span>
<span id="cb62-18"><a href="#cb62-18" aria-hidden="true" tabindex="-1"></a><span class="fu">kable</span>(tabela_HR)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<table data-quarto-postprocess="true" class="table table-sm table-striped small">
<thead>
<tr class="header">
<th style="text-align: right;" data-quarto-table-cell-role="th">Tempo</th>
<th style="text-align: right;" data-quarto-table-cell-role="th">HR_Não</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: right;">41</td>
<td style="text-align: right;">1.330989</td>
</tr>
<tr class="even">
<td style="text-align: right;">50</td>
<td style="text-align: right;">1.454309</td>
</tr>
<tr class="odd">
<td style="text-align: right;">80</td>
<td style="text-align: right;">1.597592</td>
</tr>
</tbody>
</table>


</div>
</div>
</section>
<section id="verificando-os-pressupostos-da-cox-regression" class="level2" data-number="6.13">
<h2 data-number="6.13" class="anchored" data-anchor-id="verificando-os-pressupostos-da-cox-regression"><span class="header-section-number">6.13</span> Verificando os pressupostos da Cox regression</h2>
<p>A Regressão de Cox é uma técnica robusta, mas, como qualquer método estatístico, possui alguns pressupostos importantes. Os principais pressupostos da Regressão de Cox são:</p>
<ol type="1">
<li><p><strong>Proporcionalidade dos Riscos:</strong></p>
<ul>
<li>O pressuposto fundamental é que os riscos relativos entre dois grupos são constantes ao longo do tempo. Em outras palavras, a razão instantânea de riscos (hazard ratio) entre grupos não muda com o tempo. Este é o pressuposto de proporcionalidade dos riscos.</li>
</ul></li>
<li><p><strong>Independência Censura:</strong></p>
<ul>
<li>A censura dos dados deve ser independente da probabilidade de falha. Isso significa que a probabilidade de um evento censurado (ocorrido após o fim do acompanhamento) deve ser a mesma para todos os grupos.</li>
</ul></li>
<li><p><strong>Linearidade no Logaritmo dos Riscos:</strong></p>
<ul>
<li>A relação entre as variáveis independentes e o logaritmo do risco deve ser linear. Isso é crucial para a interpretação dos coeficientes como log-riscos instantâneos.</li>
</ul></li>
<li><p><strong>Auscência de Colinearidade:</strong></p>
<ul>
<li>As variáveis independentes no modelo não devem estar altamente correlacionadas (colinearidade). A colinearidade pode levar a estimativas imprecisas dos coeficientes.</li>
</ul></li>
<li><p><strong>Ausência de Efeito de Interferência:</strong></p>
<ul>
<li>Não deve haver efeito de interferência entre indivíduos, o que significa que o status de um indivíduo não deve influenciar diretamente o tempo de falha de outro indivíduo.</li>
</ul></li>
<li><p><strong>Adequação do Modelo:</strong></p>
<ul>
<li>O modelo escolhido deve ser apropriado para os dados. Avaliações de adequação, como testes de resíduos, podem ser úteis para verificar a qualidade do ajuste do modelo aos dados.</li>
</ul></li>
</ol>
<p>Os pressupostos de 2 a 6 são inerentes ao desenho do experimento e do acompanhamento durante as observações. O único que vamos abordar aqui no tutorial é o de proporcionalidade dos riscos.</p>
<section id="proporcionalidade-dos-riscos" class="level3">
<h3 class="anchored" data-anchor-id="proporcionalidade-dos-riscos">Proporcionalidade dos riscos</h3>
<p>Temos duas formas de avaliar a proporcionalidade dos riscos</p>
<section id="análise-do-gráfico-da-kaplan-meier" class="level4">
<h4 class="anchored" data-anchor-id="análise-do-gráfico-da-kaplan-meier"><strong>1) Análise do gráfico da Kaplan-Meier</strong></h4>
<p>Ao analisar o gráfico de Kaplan-Meier para diferentes grupos, é crucial observar se as curvas de sobrevivência são aproximadamente paralelas ou se cruzam entre si. Se as curvas são paralelas, isso sugere proporcionalidade dos riscos, indicando que as diferenças nas taxas de falha entre os grupos são constantes ao longo do tempo. No entanto, se as curvas se cruzam, isso indica uma possível violação da proporcionalidade dos riscos.</p>
<p>Cruzamentos nas curvas podem indicar mudanças na relação de risco entre os grupos ao longo do tempo. Essa mudança pode ser devido a diferentes dinâmicas de risco em períodos distintos do estudo. Se as curvas se cruzarem, a aplicação da Regressão de Cox não deve ser feita para não gerar interpretações erradas!</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb63"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb63-1"><a href="#cb63-1" aria-hidden="true" tabindex="-1"></a>fit2_km</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<p><img src="lista_6_files/figure-html/unnamed-chunk-44-1.png" class="img-fluid" width="672"></p>
</div>
</div>
<p>Podemos observar que em nosso exemplo as linhas de sobrevida não cruzam, portanto podemos assumir que os riscos são proporcionais pela análise gráfica.</p>
</section>
<section id="resíduos-de-schoenfeld" class="level4">
<h4 class="anchored" data-anchor-id="resíduos-de-schoenfeld"><strong>2) Resíduos de Schoenfeld</strong></h4>
<p>A segunda forma para se avaliar a suposição de proporcionalidade dos riscos na Regressão de Cox vamos utilizar o teste de Schoenfeld, que verifica se há uma relação sistemática entre os resíduos de Schoenfeld e o tempo, o que indicaria uma violação dessa suposição.</p>
<p>A ideia central é que, se os resíduos de Schoenfeld não apresentarem uma relação significativa com o tempo, isso sugere que a proporcionalidade dos riscos é razoável. Logo, a hipótese nula é que não há relação entre os resíduos e o tempo, o que indicaria proporcionalidade dos riscos. O teste estatístico avalia se é razoável rejeitar essa hipótese nula.</p>
<div class="callout callout-style-default callout-important callout-titled">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Importante!
</div>
</div>
<div class="callout-body-container callout-body">
<p>Vamos torcer para o valor de p ser <strong>MAIOR</strong> que 0.05!</p>
</div>
</div>
<p>Utilizando a função <code>cox.zph()</code> do pacote <code>survival</code> temos o seguinte código:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb64"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb64-1"><a href="#cb64-1" aria-hidden="true" tabindex="-1"></a>test <span class="ot">&lt;-</span> survival<span class="sc">::</span><span class="fu">cox.zph</span>(cox_res)</span>
<span id="cb64-2"><a href="#cb64-2" aria-hidden="true" tabindex="-1"></a>test</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>       chisq df    p
tx      0.58  1 0.45
GLOBAL  0.58  1 0.45</code></pre>
</div>
</div>
<p>Ok! Temos riscos proporcionais!</p>
<p>Outra forma de verificar a proporcionalidade dos riscos é com o gráfico dos resíduos de Schoenfeld.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb66"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb66-1"><a href="#cb66-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Plot the Schoenfeld residuals over time for each covariate</span></span>
<span id="cb66-2"><a href="#cb66-2" aria-hidden="true" tabindex="-1"></a>survminer<span class="sc">::</span><span class="fu">ggcoxzph</span>(test, <span class="at">point.size =</span> <span class="fl">0.1</span>)[<span class="dv">1</span>]</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>$`1`</code></pre>
</div>
<div class="cell-output-display">
<p><img src="lista_6_files/figure-html/unnamed-chunk-46-1.png" class="img-fluid" width="672"></p>
</div>
</div>
<p>Se os resíduos mostrarem um padrão claro ao longo do tempo, isso pode indicar uma violação da suposição de riscos proporcionais.</p>
<p>Algumas dicas para ajudar na interpretação:</p>
<ul>
<li><p>Sem Padrão (Resíduos Constantes): Se os resíduos aparecerem aleatoriamente espalhados em torno de zero, sem nenhuma tendência ou padrão claro, isso sugere que a suposição de riscos proporcionais é razoável.</p></li>
<li><p>Tendência Linear: Uma tendência linear (aumentando ou diminuindo) nos resíduos ao longo do tempo pode sugerir uma violação da suposição de riscos proporcionais. Por exemplo, se os resíduos forem consistentemente positivos ou negativos ao longo do tempo, isso indica um efeito dependente do tempo.</p></li>
<li><p>Padrão Não Linear: Se os resíduos exibirem um padrão não linear ou formatos específicos (por exemplo, formato de U, formato de V), isso pode indicar desvios dos riscos proporcionais.</p></li>
<li><p>Paralelismo: Paralelismo significa que a propagação e distribuição dos resíduos são relativamente constantes ao longo do tempo. Se os resíduos aumentarem ou diminuirem ao longo do tempo, isso pode sugerir uma violação da suposição.</p></li>
</ul>
</section>
</section>
</section>
<section id="conlcusões" class="level2" data-number="6.14">
<h2 data-number="6.14" class="anchored" data-anchor-id="conlcusões"><span class="header-section-number">6.14</span> Conlcusões</h2>
<p>Muito bacana a análise de sobrevida e a Regressão de Cox! Na seção Extras! vamos ver mais algumas formas de plotar os gráficos e avaliar a proporcionalidade dos riscos caso a Variável Independente seja contínua!</p>
<p>Próximo capitulo: Cox tempo-dependente!</p>
</section>
<section id="lista-6-resolvida-no-spss" class="level2" data-number="6.15">
<h2 data-number="6.15" class="anchored" data-anchor-id="lista-6-resolvida-no-spss"><span class="header-section-number">6.15</span> Lista 6 resolvida no SPSS</h2>
<div class="quarto-video ratio ratio-16x9"><iframe data-external="1" src="https://www.youtube.com/embed/oyhA4EiE1eM" title="Análise Sobrevida I - Kaplan-Meier e Cox Regression - Aula Prática #6" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture" allowfullscreen=""></iframe></div>
</section>
<section id="sec-extrasVI" class="level2 page-columns page-full" data-number="6.16">
<h2 data-number="6.16" class="anchored" data-anchor-id="sec-extrasVI"><span class="header-section-number">6.16</span> Extras!</h2>
<section id="evento-como-fator-ou-como-número" class="level3">
<h3 class="anchored" data-anchor-id="evento-como-fator-ou-como-número">Evento como fator ou como número</h3>
<p>Como mencionado na seção <a href="#sec-carrega_dados"><span>Section&nbsp;6.4</span></a>, o tipo da variável do evento (morte) afeta os resultados tanto da Kaplan-Meir quanto na Regressão de Cox.</p>
<p>Vamos criar alguns modelos utilizando o banco de dados <code>original</code> (variável óbito é um fator) e também o <code>db</code> (variável óbito é binária, 1 e 0).</p>
<p>Vamos começar observando a diferença do tipo da variável nos bancos utilizando a função <code>glimpse()</code>:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb68"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb68-1"><a href="#cb68-1" aria-hidden="true" tabindex="-1"></a><span class="fu">glimpse</span>(original<span class="sc">$</span>obito)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code> Factor w/ 2 levels "não","sim": 1 1 1 1 1 1 1 1 2 1 ...</code></pre>
</div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb70"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb70-1"><a href="#cb70-1" aria-hidden="true" tabindex="-1"></a><span class="fu">glimpse</span>(db<span class="sc">$</span>obito)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code> int [1:124] 0 0 0 0 0 0 0 0 1 0 ...</code></pre>
</div>
</div>
<p>E tem mais! Temos que lembrar que quando deixamos as variáveis como fatores elas sempre possuem um nível de referência. Já verificamos isso em outros exercícios utilizando a função <code>levels()</code>.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb72"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb72-1"><a href="#cb72-1" aria-hidden="true" tabindex="-1"></a><span class="fu">levels</span>(original<span class="sc">$</span>obito)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] "não" "sim"</code></pre>
</div>
</div>
<p>Veja só! A referência para a variável óbito é o “não”. Para fins didáditcos vamos criar três modelos:</p>
<p>Óbito como variável binária (banco <code>db</code>) Óbito como fator com nível de referência “não” (banco <code>original</code>) Óbito como fator com nível de referência “sim” (banco <code>original_sim</code>)</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb74"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb74-1"><a href="#cb74-1" aria-hidden="true" tabindex="-1"></a>original_sim <span class="ot">=</span> original</span>
<span id="cb74-2"><a href="#cb74-2" aria-hidden="true" tabindex="-1"></a>original_sim<span class="sc">$</span>obito <span class="ot">=</span> <span class="fu">relevel</span>(original_sim<span class="sc">$</span>obito, <span class="at">ref =</span> <span class="st">"sim"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>Agora vamos repetir todo o procedimento já demonstrado no início das análises, utilizando os três bancos de dados.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb75"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb75-1"><a href="#cb75-1" aria-hidden="true" tabindex="-1"></a>surv_db <span class="ot">&lt;-</span> <span class="fu">Surv</span>(<span class="at">time =</span> db<span class="sc">$</span>t_seg, <span class="at">event =</span> db<span class="sc">$</span>obito)</span>
<span id="cb75-2"><a href="#cb75-2" aria-hidden="true" tabindex="-1"></a>surv_oiriginal_não <span class="ot">&lt;-</span> <span class="fu">Surv</span>(<span class="at">time =</span> original<span class="sc">$</span>t_seg, <span class="at">event =</span> original<span class="sc">$</span>obito)</span>
<span id="cb75-3"><a href="#cb75-3" aria-hidden="true" tabindex="-1"></a>surv_oiriginal_sim <span class="ot">&lt;-</span> <span class="fu">Surv</span>(<span class="at">time =</span> original_sim<span class="sc">$</span>t_seg, <span class="at">event =</span> original_sim<span class="sc">$</span>obito)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb76"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb76-1"><a href="#cb76-1" aria-hidden="true" tabindex="-1"></a>fit_db <span class="ot">&lt;-</span> <span class="fu">survfit</span>(surv_db <span class="sc">~</span> <span class="dv">1</span>, <span class="at">data =</span> db)</span>
<span id="cb76-2"><a href="#cb76-2" aria-hidden="true" tabindex="-1"></a>fit_original_não <span class="ot">&lt;-</span> <span class="fu">survfit</span>(surv_oiriginal_não <span class="sc">~</span> <span class="dv">1</span>, <span class="at">data =</span> original)</span>
<span id="cb76-3"><a href="#cb76-3" aria-hidden="true" tabindex="-1"></a>fit_original_sim <span class="ot">&lt;-</span> <span class="fu">survfit</span>(surv_oiriginal_sim <span class="sc">~</span> <span class="dv">1</span>, <span class="at">data =</span> original_sim)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb77"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb77-1"><a href="#cb77-1" aria-hidden="true" tabindex="-1"></a><span class="fu">plot</span>(fit_db)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<p><img src="lista_6_files/figure-html/unnamed-chunk-53-1.png" class="img-fluid" width="672"></p>
</div>
<div class="sourceCode cell-code" id="cb78"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb78-1"><a href="#cb78-1" aria-hidden="true" tabindex="-1"></a><span class="fu">plot</span>(fit_original_não)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<p><img src="lista_6_files/figure-html/unnamed-chunk-53-2.png" class="img-fluid" width="672"></p>
</div>
<div class="sourceCode cell-code" id="cb79"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb79-1"><a href="#cb79-1" aria-hidden="true" tabindex="-1"></a><span class="fu">plot</span>(fit_original_sim)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<p><img src="lista_6_files/figure-html/unnamed-chunk-53-3.png" class="img-fluid" width="672"></p>
</div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb80"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb80-1"><a href="#cb80-1" aria-hidden="true" tabindex="-1"></a><span class="fu">ggsurvfit</span>(fit_db, <span class="at">linewidth =</span> <span class="dv">1</span>) <span class="sc">+</span></span>
<span id="cb80-2"><a href="#cb80-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggtitle</span>(<span class="st">"Binário"</span>) <span class="sc">+</span></span>
<span id="cb80-3"><a href="#cb80-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(<span class="at">x =</span> <span class="st">'Dias'</span>, <span class="at">y =</span> <span class="st">'Overall survival'</span>) <span class="sc">+</span></span>
<span id="cb80-4"><a href="#cb80-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">add_confidence_interval</span>() <span class="sc">+</span></span>
<span id="cb80-5"><a href="#cb80-5" aria-hidden="true" tabindex="-1"></a>    <span class="fu">add_risktable</span>() <span class="sc">+</span></span>
<span id="cb80-6"><a href="#cb80-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_ggsurvfit</span>() </span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<p><img src="lista_6_files/figure-html/unnamed-chunk-54-1.png" class="img-fluid" width="672"></p>
</div>
<div class="sourceCode cell-code" id="cb81"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb81-1"><a href="#cb81-1" aria-hidden="true" tabindex="-1"></a><span class="fu">ggcuminc</span>(fit_original_não, <span class="at">linewidth =</span> <span class="dv">1</span>, <span class="at">type =</span> <span class="st">"survival"</span> ) <span class="sc">+</span></span>
<span id="cb81-2"><a href="#cb81-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggtitle</span>(<span class="st">"Fator - Lelvel = Não"</span>) <span class="sc">+</span></span>
<span id="cb81-3"><a href="#cb81-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(<span class="at">x =</span> <span class="st">'Dias'</span>, <span class="at">y =</span> <span class="st">'Overall survival'</span>) <span class="sc">+</span></span>
<span id="cb81-4"><a href="#cb81-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">add_confidence_interval</span>() <span class="sc">+</span></span>
<span id="cb81-5"><a href="#cb81-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">add_risktable</span>() <span class="sc">+</span></span>
<span id="cb81-6"><a href="#cb81-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_ggsurvfit</span>() </span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stderr">
<pre><code>Plotting outcome "sim".</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>Warning in ggplot2::geom_step(ggplot2::aes(x = .data$time, y = .data$estimate),
: Ignoring unknown parameters: `type`</code></pre>
</div>
<div class="cell-output-display">
<p><img src="lista_6_files/figure-html/unnamed-chunk-54-2.png" class="img-fluid" width="672"></p>
</div>
<div class="sourceCode cell-code" id="cb84"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb84-1"><a href="#cb84-1" aria-hidden="true" tabindex="-1"></a><span class="fu">ggcuminc</span>(fit_original_sim, <span class="at">linewidth =</span> <span class="dv">1</span>) <span class="sc">+</span></span>
<span id="cb84-2"><a href="#cb84-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggtitle</span>(<span class="st">"Fator - Lelvel = Sim"</span>) <span class="sc">+</span></span>
<span id="cb84-3"><a href="#cb84-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(<span class="at">x =</span> <span class="st">'Dias'</span>, <span class="at">y =</span> <span class="st">'Overall survival'</span>) <span class="sc">+</span></span>
<span id="cb84-4"><a href="#cb84-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">add_confidence_interval</span>() <span class="sc">+</span></span>
<span id="cb84-5"><a href="#cb84-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">add_risktable</span>() <span class="sc">+</span></span>
<span id="cb84-6"><a href="#cb84-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_ggsurvfit</span>() </span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stderr">
<pre><code>Plotting outcome "não".</code></pre>
</div>
<div class="cell-output-display">
<p><img src="lista_6_files/figure-html/unnamed-chunk-54-3.png" class="img-fluid" width="672"></p>
</div>
</div>
<p>Como podemos observar, quando utilizamos a variável de evento como um fator, acabamos analisando o risco cumulativo e não a sobrevida.</p>
</section>
<section id="mais-gráficos" class="level3">
<h3 class="anchored" data-anchor-id="mais-gráficos">Mais gráficos!</h3>
<p>Com o ggplot2</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb86"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb86-1"><a href="#cb86-1" aria-hidden="true" tabindex="-1"></a>km_plot <span class="ot">=</span> <span class="fu">survfit2</span>(surv_obj <span class="sc">~</span> tx, <span class="at">data =</span> db) <span class="sc">%&gt;%</span></span>
<span id="cb86-2"><a href="#cb86-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">tidy_survfit</span>() <span class="sc">%&gt;%</span></span>
<span id="cb86-3"><a href="#cb86-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggplot</span>(<span class="fu">aes</span>(<span class="at">x =</span> time, <span class="at">y =</span> estimate,</span>
<span id="cb86-4"><a href="#cb86-4" aria-hidden="true" tabindex="-1"></a>             <span class="at">min =</span> conf.low, <span class="at">ymax =</span> conf.low,</span>
<span id="cb86-5"><a href="#cb86-5" aria-hidden="true" tabindex="-1"></a>             <span class="at">color =</span> strata, <span class="at">fill =</span> strata)) <span class="sc">+</span></span>
<span id="cb86-6"><a href="#cb86-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_step</span>()</span>
<span id="cb86-7"><a href="#cb86-7" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb86-8"><a href="#cb86-8" aria-hidden="true" tabindex="-1"></a>km_plot</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<p><img src="lista_6_files/figure-html/unnamed-chunk-55-1.png" class="img-fluid" width="672"></p>
</div>
</div>
<p>Com a função <code>ggsurvplot()</code> do pacote <code>survminer</code>.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb87"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb87-1"><a href="#cb87-1" aria-hidden="true" tabindex="-1"></a><span class="fu">ggsurvplot</span>(fit2, <span class="at">data =</span> db,</span>
<span id="cb87-2"><a href="#cb87-2" aria-hidden="true" tabindex="-1"></a>           <span class="at">size =</span> <span class="dv">1</span>,</span>
<span id="cb87-3"><a href="#cb87-3" aria-hidden="true" tabindex="-1"></a>           <span class="at">palette =</span> <span class="fu">c</span>(<span class="st">'#E7B800'</span>, <span class="st">'#2e9fdf'</span>),</span>
<span id="cb87-4"><a href="#cb87-4" aria-hidden="true" tabindex="-1"></a>           <span class="at">censor.shape =</span> <span class="st">'|'</span>, <span class="at">censor.size =</span> <span class="dv">4</span>,</span>
<span id="cb87-5"><a href="#cb87-5" aria-hidden="true" tabindex="-1"></a>           <span class="at">conf.int =</span> <span class="cn">TRUE</span>,</span>
<span id="cb87-6"><a href="#cb87-6" aria-hidden="true" tabindex="-1"></a>           <span class="at">pval =</span> <span class="cn">TRUE</span>,</span>
<span id="cb87-7"><a href="#cb87-7" aria-hidden="true" tabindex="-1"></a>           <span class="at">risk.table =</span> <span class="cn">TRUE</span>,</span>
<span id="cb87-8"><a href="#cb87-8" aria-hidden="true" tabindex="-1"></a>           <span class="at">risk.table.col =</span> <span class="st">'strata'</span>,</span>
<span id="cb87-9"><a href="#cb87-9" aria-hidden="true" tabindex="-1"></a>           <span class="at">legend.labs =</span> <span class="fu">list</span>(<span class="st">'0'</span> <span class="ot">=</span> <span class="st">'Transplante = sim'</span>, <span class="st">'1'</span> <span class="ot">=</span> <span class="st">'Transplante = não'</span>),</span>
<span id="cb87-10"><a href="#cb87-10" aria-hidden="true" tabindex="-1"></a>           <span class="at">risk.table.height =</span> <span class="fl">0.25</span>,</span>
<span id="cb87-11"><a href="#cb87-11" aria-hidden="true" tabindex="-1"></a>           <span class="at">ggtheme =</span> <span class="fu">theme_bw</span>())</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<p><img src="lista_6_files/figure-html/unnamed-chunk-56-1.png" class="img-fluid" width="672"></p>
</div>
</div>
<p>Gráficos de proporcionalidade com outras funções</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb88"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb88-1"><a href="#cb88-1" aria-hidden="true" tabindex="-1"></a><span class="fu">ggcoxdiagnostics</span>(cox_res, <span class="at">type =</span> <span class="st">"dfbeta"</span>, <span class="at">linear.predictions =</span> <span class="cn">FALSE</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stderr">
<pre><code>`geom_smooth()` using formula = 'y ~ x'</code></pre>
</div>
<div class="cell-output-display">
<p><img src="lista_6_files/figure-html/unnamed-chunk-57-1.png" class="img-fluid" width="672"></p>
</div>
</div>
<p>E um específico para variáveis contínuas.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb90"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb90-1"><a href="#cb90-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Não é importante para variáveis categóricas, mas fica o código para eventual consulta.</span></span>
<span id="cb90-2"><a href="#cb90-2" aria-hidden="true" tabindex="-1"></a><span class="fu">ggcoxdiagnostics</span>(cox_res, <span class="at">type =</span> <span class="st">"deviance"</span>, <span class="at">linear.predictions =</span> <span class="cn">FALSE</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stderr">
<pre><code>`geom_smooth()` using formula = 'y ~ x'</code></pre>
</div>
<div class="cell-output-display">
<p><img src="lista_6_files/figure-html/unnamed-chunk-58-1.png" class="img-fluid" width="672"></p>
</div>
</div>
</section>
<section id="pacots-alternativos-para-comparar-curvas" class="level3">
<h3 class="anchored" data-anchor-id="pacots-alternativos-para-comparar-curvas">Pacots alternativos para comparar curvas</h3>
<div class="cell">
<div class="sourceCode cell-code" id="cb92"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb92-1"><a href="#cb92-1" aria-hidden="true" tabindex="-1"></a><span class="fu">gehan.wilcoxon.test</span>(surv_obj <span class="sc">~</span> tx ,<span class="at">data=</span>db)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>
    Gehan-Wilcoxon

data:  
= 9.1531, p-value = 0.002483
alternative hypothesis: two-sided</code></pre>
</div>
</div>
<p><code>survdiff</code> Com rho = 0 este é o teste log-rank ou Mantel-Haenszel, e com rho = 1 é equivalente à modificação Peto &amp; Peto do teste Gehan-Wilcoxon.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb94"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb94-1"><a href="#cb94-1" aria-hidden="true" tabindex="-1"></a><span class="fu">survdiff</span>(surv_obj <span class="sc">~</span> tx, <span class="at">data=</span>db, <span class="at">rho =</span> <span class="dv">2</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>Call:
survdiff(formula = surv_obj ~ tx, data = db, rho = 2)

        N Observed Expected (O-E)^2/E (O-E)^2/V
tx=sim 60      7.4     14.0      3.12      9.19
tx=não 64     17.9     11.3      3.89      9.19

 Chisq= 9.2  on 1 degrees of freedom, p= 0.002 </code></pre>
</div>
</div>
</section>
<section id="tabela-completa-do-modelo-2" class="level3 page-columns page-full">
<h3 class="anchored" data-anchor-id="tabela-completa-do-modelo-2">Tabela completa do modelo 2</h3>
<div class="cell page-columns page-full">
<div class="sourceCode cell-code" id="cb96"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb96-1"><a href="#cb96-1" aria-hidden="true" tabindex="-1"></a>life_table2 <span class="ot">=</span> <span class="fu">survfit2</span>(<span class="fu">Surv</span>(<span class="at">time =</span> t_seg, <span class="at">event =</span> obito) <span class="sc">~</span> tx, <span class="at">data =</span> db) <span class="sc">%&gt;%</span></span>
<span id="cb96-2"><a href="#cb96-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">tidy_survfit</span>() </span>
<span id="cb96-3"><a href="#cb96-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb96-4"><a href="#cb96-4" aria-hidden="true" tabindex="-1"></a><span class="fu">kable</span>(life_table2)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display column-page">
<table data-quarto-postprocess="true" class="table table-sm table-striped small">
<thead>
<tr class="header">
<th style="text-align: right;" data-quarto-table-cell-role="th">time</th>
<th style="text-align: right;" data-quarto-table-cell-role="th">n.risk</th>
<th style="text-align: right;" data-quarto-table-cell-role="th">n.event</th>
<th style="text-align: right;" data-quarto-table-cell-role="th">n.censor</th>
<th style="text-align: right;" data-quarto-table-cell-role="th">cum.event</th>
<th style="text-align: right;" data-quarto-table-cell-role="th">cum.censor</th>
<th style="text-align: right;" data-quarto-table-cell-role="th">estimate</th>
<th style="text-align: right;" data-quarto-table-cell-role="th">std.error</th>
<th style="text-align: right;" data-quarto-table-cell-role="th">conf.high</th>
<th style="text-align: right;" data-quarto-table-cell-role="th">conf.low</th>
<th style="text-align: left;" data-quarto-table-cell-role="th">strata</th>
<th style="text-align: left;" data-quarto-table-cell-role="th">estimate_type</th>
<th style="text-align: left;" data-quarto-table-cell-role="th">estimate_type_label</th>
<th style="text-align: left;" data-quarto-table-cell-role="th">monotonicity_type</th>
<th style="text-align: left;" data-quarto-table-cell-role="th">strata_label</th>
<th style="text-align: right;" data-quarto-table-cell-role="th">conf.level</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: right;">0</td>
<td style="text-align: right;">60</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">1</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">1</td>
<td style="text-align: right;">1.0000000</td>
<td style="text-align: right;">0.0000000</td>
<td style="text-align: right;">1.0000000</td>
<td style="text-align: right;">1.0000000</td>
<td style="text-align: left;">sim</td>
<td style="text-align: left;">survival</td>
<td style="text-align: left;">Survival Probability</td>
<td style="text-align: left;">decreasing</td>
<td style="text-align: left;">tx</td>
<td style="text-align: right;">0.95</td>
</tr>
<tr class="even">
<td style="text-align: right;">3</td>
<td style="text-align: right;">59</td>
<td style="text-align: right;">1</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">1</td>
<td style="text-align: right;">1</td>
<td style="text-align: right;">0.9830508</td>
<td style="text-align: right;">0.0170946</td>
<td style="text-align: right;">1.0000000</td>
<td style="text-align: right;">0.9506595</td>
<td style="text-align: left;">sim</td>
<td style="text-align: left;">survival</td>
<td style="text-align: left;">Survival Probability</td>
<td style="text-align: left;">decreasing</td>
<td style="text-align: left;">tx</td>
<td style="text-align: right;">0.95</td>
</tr>
<tr class="odd">
<td style="text-align: right;">4</td>
<td style="text-align: right;">58</td>
<td style="text-align: right;">1</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">2</td>
<td style="text-align: right;">1</td>
<td style="text-align: right;">0.9661017</td>
<td style="text-align: right;">0.0243866</td>
<td style="text-align: right;">1.0000000</td>
<td style="text-align: right;">0.9210112</td>
<td style="text-align: left;">sim</td>
<td style="text-align: left;">survival</td>
<td style="text-align: left;">Survival Probability</td>
<td style="text-align: left;">decreasing</td>
<td style="text-align: left;">tx</td>
<td style="text-align: right;">0.95</td>
</tr>
<tr class="even">
<td style="text-align: right;">24</td>
<td style="text-align: right;">57</td>
<td style="text-align: right;">1</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">3</td>
<td style="text-align: right;">1</td>
<td style="text-align: right;">0.9491525</td>
<td style="text-align: right;">0.0301329</td>
<td style="text-align: right;">1.0000000</td>
<td style="text-align: right;">0.8947194</td>
<td style="text-align: left;">sim</td>
<td style="text-align: left;">survival</td>
<td style="text-align: left;">Survival Probability</td>
<td style="text-align: left;">decreasing</td>
<td style="text-align: left;">tx</td>
<td style="text-align: right;">0.95</td>
</tr>
<tr class="odd">
<td style="text-align: right;">26</td>
<td style="text-align: right;">56</td>
<td style="text-align: right;">1</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">4</td>
<td style="text-align: right;">1</td>
<td style="text-align: right;">0.9322034</td>
<td style="text-align: right;">0.0351093</td>
<td style="text-align: right;">0.9986097</td>
<td style="text-align: right;">0.8702130</td>
<td style="text-align: left;">sim</td>
<td style="text-align: left;">survival</td>
<td style="text-align: left;">Survival Probability</td>
<td style="text-align: left;">decreasing</td>
<td style="text-align: left;">tx</td>
<td style="text-align: right;">0.95</td>
</tr>
<tr class="even">
<td style="text-align: right;">29</td>
<td style="text-align: right;">55</td>
<td style="text-align: right;">1</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">5</td>
<td style="text-align: right;">1</td>
<td style="text-align: right;">0.9152542</td>
<td style="text-align: right;">0.0396152</td>
<td style="text-align: right;">0.9891503</td>
<td style="text-align: right;">0.8468787</td>
<td style="text-align: left;">sim</td>
<td style="text-align: left;">survival</td>
<td style="text-align: left;">Survival Probability</td>
<td style="text-align: left;">decreasing</td>
<td style="text-align: left;">tx</td>
<td style="text-align: right;">0.95</td>
</tr>
<tr class="odd">
<td style="text-align: right;">32</td>
<td style="text-align: right;">54</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">3</td>
<td style="text-align: right;">5</td>
<td style="text-align: right;">4</td>
<td style="text-align: right;">0.9152542</td>
<td style="text-align: right;">0.0396152</td>
<td style="text-align: right;">0.9891503</td>
<td style="text-align: right;">0.8468787</td>
<td style="text-align: left;">sim</td>
<td style="text-align: left;">survival</td>
<td style="text-align: left;">Survival Probability</td>
<td style="text-align: left;">decreasing</td>
<td style="text-align: left;">tx</td>
<td style="text-align: right;">0.95</td>
</tr>
<tr class="even">
<td style="text-align: right;">34</td>
<td style="text-align: right;">51</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">1</td>
<td style="text-align: right;">5</td>
<td style="text-align: right;">5</td>
<td style="text-align: right;">0.9152542</td>
<td style="text-align: right;">0.0396152</td>
<td style="text-align: right;">0.9891503</td>
<td style="text-align: right;">0.8468787</td>
<td style="text-align: left;">sim</td>
<td style="text-align: left;">survival</td>
<td style="text-align: left;">Survival Probability</td>
<td style="text-align: left;">decreasing</td>
<td style="text-align: left;">tx</td>
<td style="text-align: right;">0.95</td>
</tr>
<tr class="odd">
<td style="text-align: right;">35</td>
<td style="text-align: right;">50</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">3</td>
<td style="text-align: right;">5</td>
<td style="text-align: right;">8</td>
<td style="text-align: right;">0.9152542</td>
<td style="text-align: right;">0.0396152</td>
<td style="text-align: right;">0.9891503</td>
<td style="text-align: right;">0.8468787</td>
<td style="text-align: left;">sim</td>
<td style="text-align: left;">survival</td>
<td style="text-align: left;">Survival Probability</td>
<td style="text-align: left;">decreasing</td>
<td style="text-align: left;">tx</td>
<td style="text-align: right;">0.95</td>
</tr>
<tr class="even">
<td style="text-align: right;">36</td>
<td style="text-align: right;">47</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">1</td>
<td style="text-align: right;">5</td>
<td style="text-align: right;">9</td>
<td style="text-align: right;">0.9152542</td>
<td style="text-align: right;">0.0396152</td>
<td style="text-align: right;">0.9891503</td>
<td style="text-align: right;">0.8468787</td>
<td style="text-align: left;">sim</td>
<td style="text-align: left;">survival</td>
<td style="text-align: left;">Survival Probability</td>
<td style="text-align: left;">decreasing</td>
<td style="text-align: left;">tx</td>
<td style="text-align: right;">0.95</td>
</tr>
<tr class="odd">
<td style="text-align: right;">37</td>
<td style="text-align: right;">46</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">2</td>
<td style="text-align: right;">5</td>
<td style="text-align: right;">11</td>
<td style="text-align: right;">0.9152542</td>
<td style="text-align: right;">0.0396152</td>
<td style="text-align: right;">0.9891503</td>
<td style="text-align: right;">0.8468787</td>
<td style="text-align: left;">sim</td>
<td style="text-align: left;">survival</td>
<td style="text-align: left;">Survival Probability</td>
<td style="text-align: left;">decreasing</td>
<td style="text-align: left;">tx</td>
<td style="text-align: right;">0.95</td>
</tr>
<tr class="even">
<td style="text-align: right;">38</td>
<td style="text-align: right;">44</td>
<td style="text-align: right;">1</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">6</td>
<td style="text-align: right;">11</td>
<td style="text-align: right;">0.8944530</td>
<td style="text-align: right;">0.0458029</td>
<td style="text-align: right;">0.9784644</td>
<td style="text-align: right;">0.8176548</td>
<td style="text-align: left;">sim</td>
<td style="text-align: left;">survival</td>
<td style="text-align: left;">Survival Probability</td>
<td style="text-align: left;">decreasing</td>
<td style="text-align: left;">tx</td>
<td style="text-align: right;">0.95</td>
</tr>
<tr class="odd">
<td style="text-align: right;">39</td>
<td style="text-align: right;">43</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">1</td>
<td style="text-align: right;">6</td>
<td style="text-align: right;">12</td>
<td style="text-align: right;">0.8944530</td>
<td style="text-align: right;">0.0458029</td>
<td style="text-align: right;">0.9784644</td>
<td style="text-align: right;">0.8176548</td>
<td style="text-align: left;">sim</td>
<td style="text-align: left;">survival</td>
<td style="text-align: left;">Survival Probability</td>
<td style="text-align: left;">decreasing</td>
<td style="text-align: left;">tx</td>
<td style="text-align: right;">0.95</td>
</tr>
<tr class="even">
<td style="text-align: right;">40</td>
<td style="text-align: right;">42</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">1</td>
<td style="text-align: right;">6</td>
<td style="text-align: right;">13</td>
<td style="text-align: right;">0.8944530</td>
<td style="text-align: right;">0.0458029</td>
<td style="text-align: right;">0.9784644</td>
<td style="text-align: right;">0.8176548</td>
<td style="text-align: left;">sim</td>
<td style="text-align: left;">survival</td>
<td style="text-align: left;">Survival Probability</td>
<td style="text-align: left;">decreasing</td>
<td style="text-align: left;">tx</td>
<td style="text-align: right;">0.95</td>
</tr>
<tr class="odd">
<td style="text-align: right;">41</td>
<td style="text-align: right;">41</td>
<td style="text-align: right;">1</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">7</td>
<td style="text-align: right;">13</td>
<td style="text-align: right;">0.8726371</td>
<td style="text-align: right;">0.0520352</td>
<td style="text-align: right;">0.9663315</td>
<td style="text-align: right;">0.7880272</td>
<td style="text-align: left;">sim</td>
<td style="text-align: left;">survival</td>
<td style="text-align: left;">Survival Probability</td>
<td style="text-align: left;">decreasing</td>
<td style="text-align: left;">tx</td>
<td style="text-align: right;">0.95</td>
</tr>
<tr class="even">
<td style="text-align: right;">42</td>
<td style="text-align: right;">40</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">2</td>
<td style="text-align: right;">7</td>
<td style="text-align: right;">15</td>
<td style="text-align: right;">0.8726371</td>
<td style="text-align: right;">0.0520352</td>
<td style="text-align: right;">0.9663315</td>
<td style="text-align: right;">0.7880272</td>
<td style="text-align: left;">sim</td>
<td style="text-align: left;">survival</td>
<td style="text-align: left;">Survival Probability</td>
<td style="text-align: left;">decreasing</td>
<td style="text-align: left;">tx</td>
<td style="text-align: right;">0.95</td>
</tr>
<tr class="odd">
<td style="text-align: right;">44</td>
<td style="text-align: right;">38</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">1</td>
<td style="text-align: right;">7</td>
<td style="text-align: right;">16</td>
<td style="text-align: right;">0.8726371</td>
<td style="text-align: right;">0.0520352</td>
<td style="text-align: right;">0.9663315</td>
<td style="text-align: right;">0.7880272</td>
<td style="text-align: left;">sim</td>
<td style="text-align: left;">survival</td>
<td style="text-align: left;">Survival Probability</td>
<td style="text-align: left;">decreasing</td>
<td style="text-align: left;">tx</td>
<td style="text-align: right;">0.95</td>
</tr>
<tr class="even">
<td style="text-align: right;">45</td>
<td style="text-align: right;">37</td>
<td style="text-align: right;">1</td>
<td style="text-align: right;">1</td>
<td style="text-align: right;">8</td>
<td style="text-align: right;">17</td>
<td style="text-align: right;">0.8490523</td>
<td style="text-align: right;">0.0588083</td>
<td style="text-align: right;">0.9527789</td>
<td style="text-align: right;">0.7566181</td>
<td style="text-align: left;">sim</td>
<td style="text-align: left;">survival</td>
<td style="text-align: left;">Survival Probability</td>
<td style="text-align: left;">decreasing</td>
<td style="text-align: left;">tx</td>
<td style="text-align: right;">0.95</td>
</tr>
<tr class="odd">
<td style="text-align: right;">46</td>
<td style="text-align: right;">35</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">1</td>
<td style="text-align: right;">8</td>
<td style="text-align: right;">18</td>
<td style="text-align: right;">0.8490523</td>
<td style="text-align: right;">0.0588083</td>
<td style="text-align: right;">0.9527789</td>
<td style="text-align: right;">0.7566181</td>
<td style="text-align: left;">sim</td>
<td style="text-align: left;">survival</td>
<td style="text-align: left;">Survival Probability</td>
<td style="text-align: left;">decreasing</td>
<td style="text-align: left;">tx</td>
<td style="text-align: right;">0.95</td>
</tr>
<tr class="even">
<td style="text-align: right;">48</td>
<td style="text-align: right;">34</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">2</td>
<td style="text-align: right;">8</td>
<td style="text-align: right;">20</td>
<td style="text-align: right;">0.8490523</td>
<td style="text-align: right;">0.0588083</td>
<td style="text-align: right;">0.9527789</td>
<td style="text-align: right;">0.7566181</td>
<td style="text-align: left;">sim</td>
<td style="text-align: left;">survival</td>
<td style="text-align: left;">Survival Probability</td>
<td style="text-align: left;">decreasing</td>
<td style="text-align: left;">tx</td>
<td style="text-align: right;">0.95</td>
</tr>
<tr class="odd">
<td style="text-align: right;">49</td>
<td style="text-align: right;">32</td>
<td style="text-align: right;">1</td>
<td style="text-align: right;">2</td>
<td style="text-align: right;">9</td>
<td style="text-align: right;">22</td>
<td style="text-align: right;">0.8225194</td>
<td style="text-align: right;">0.0668317</td>
<td style="text-align: right;">0.9376341</td>
<td style="text-align: right;">0.7215375</td>
<td style="text-align: left;">sim</td>
<td style="text-align: left;">survival</td>
<td style="text-align: left;">Survival Probability</td>
<td style="text-align: left;">decreasing</td>
<td style="text-align: left;">tx</td>
<td style="text-align: right;">0.95</td>
</tr>
<tr class="even">
<td style="text-align: right;">51</td>
<td style="text-align: right;">29</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">1</td>
<td style="text-align: right;">9</td>
<td style="text-align: right;">23</td>
<td style="text-align: right;">0.8225194</td>
<td style="text-align: right;">0.0668317</td>
<td style="text-align: right;">0.9376341</td>
<td style="text-align: right;">0.7215375</td>
<td style="text-align: left;">sim</td>
<td style="text-align: left;">survival</td>
<td style="text-align: left;">Survival Probability</td>
<td style="text-align: left;">decreasing</td>
<td style="text-align: left;">tx</td>
<td style="text-align: right;">0.95</td>
</tr>
<tr class="odd">
<td style="text-align: right;">52</td>
<td style="text-align: right;">28</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">1</td>
<td style="text-align: right;">9</td>
<td style="text-align: right;">24</td>
<td style="text-align: right;">0.8225194</td>
<td style="text-align: right;">0.0668317</td>
<td style="text-align: right;">0.9376341</td>
<td style="text-align: right;">0.7215375</td>
<td style="text-align: left;">sim</td>
<td style="text-align: left;">survival</td>
<td style="text-align: left;">Survival Probability</td>
<td style="text-align: left;">decreasing</td>
<td style="text-align: left;">tx</td>
<td style="text-align: right;">0.95</td>
</tr>
<tr class="even">
<td style="text-align: right;">54</td>
<td style="text-align: right;">27</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">1</td>
<td style="text-align: right;">9</td>
<td style="text-align: right;">25</td>
<td style="text-align: right;">0.8225194</td>
<td style="text-align: right;">0.0668317</td>
<td style="text-align: right;">0.9376341</td>
<td style="text-align: right;">0.7215375</td>
<td style="text-align: left;">sim</td>
<td style="text-align: left;">survival</td>
<td style="text-align: left;">Survival Probability</td>
<td style="text-align: left;">decreasing</td>
<td style="text-align: left;">tx</td>
<td style="text-align: right;">0.95</td>
</tr>
<tr class="odd">
<td style="text-align: right;">55</td>
<td style="text-align: right;">26</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">4</td>
<td style="text-align: right;">9</td>
<td style="text-align: right;">29</td>
<td style="text-align: right;">0.8225194</td>
<td style="text-align: right;">0.0668317</td>
<td style="text-align: right;">0.9376341</td>
<td style="text-align: right;">0.7215375</td>
<td style="text-align: left;">sim</td>
<td style="text-align: left;">survival</td>
<td style="text-align: left;">Survival Probability</td>
<td style="text-align: left;">decreasing</td>
<td style="text-align: left;">tx</td>
<td style="text-align: right;">0.95</td>
</tr>
<tr class="even">
<td style="text-align: right;">57</td>
<td style="text-align: right;">22</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">1</td>
<td style="text-align: right;">9</td>
<td style="text-align: right;">30</td>
<td style="text-align: right;">0.8225194</td>
<td style="text-align: right;">0.0668317</td>
<td style="text-align: right;">0.9376341</td>
<td style="text-align: right;">0.7215375</td>
<td style="text-align: left;">sim</td>
<td style="text-align: left;">survival</td>
<td style="text-align: left;">Survival Probability</td>
<td style="text-align: left;">decreasing</td>
<td style="text-align: left;">tx</td>
<td style="text-align: right;">0.95</td>
</tr>
<tr class="odd">
<td style="text-align: right;">65</td>
<td style="text-align: right;">21</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">2</td>
<td style="text-align: right;">9</td>
<td style="text-align: right;">32</td>
<td style="text-align: right;">0.8225194</td>
<td style="text-align: right;">0.0668317</td>
<td style="text-align: right;">0.9376341</td>
<td style="text-align: right;">0.7215375</td>
<td style="text-align: left;">sim</td>
<td style="text-align: left;">survival</td>
<td style="text-align: left;">Survival Probability</td>
<td style="text-align: left;">decreasing</td>
<td style="text-align: left;">tx</td>
<td style="text-align: right;">0.95</td>
</tr>
<tr class="even">
<td style="text-align: right;">66</td>
<td style="text-align: right;">19</td>
<td style="text-align: right;">1</td>
<td style="text-align: right;">1</td>
<td style="text-align: right;">10</td>
<td style="text-align: right;">33</td>
<td style="text-align: right;">0.7792289</td>
<td style="text-align: right;">0.0859678</td>
<td style="text-align: right;">0.9222336</td>
<td style="text-align: right;">0.6583990</td>
<td style="text-align: left;">sim</td>
<td style="text-align: left;">survival</td>
<td style="text-align: left;">Survival Probability</td>
<td style="text-align: left;">decreasing</td>
<td style="text-align: left;">tx</td>
<td style="text-align: right;">0.95</td>
</tr>
<tr class="odd">
<td style="text-align: right;">67</td>
<td style="text-align: right;">17</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">1</td>
<td style="text-align: right;">10</td>
<td style="text-align: right;">34</td>
<td style="text-align: right;">0.7792289</td>
<td style="text-align: right;">0.0859678</td>
<td style="text-align: right;">0.9222336</td>
<td style="text-align: right;">0.6583990</td>
<td style="text-align: left;">sim</td>
<td style="text-align: left;">survival</td>
<td style="text-align: left;">Survival Probability</td>
<td style="text-align: left;">decreasing</td>
<td style="text-align: left;">tx</td>
<td style="text-align: right;">0.95</td>
</tr>
<tr class="even">
<td style="text-align: right;">73</td>
<td style="text-align: right;">16</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">1</td>
<td style="text-align: right;">10</td>
<td style="text-align: right;">35</td>
<td style="text-align: right;">0.7792289</td>
<td style="text-align: right;">0.0859678</td>
<td style="text-align: right;">0.9222336</td>
<td style="text-align: right;">0.6583990</td>
<td style="text-align: left;">sim</td>
<td style="text-align: left;">survival</td>
<td style="text-align: left;">Survival Probability</td>
<td style="text-align: left;">decreasing</td>
<td style="text-align: left;">tx</td>
<td style="text-align: right;">0.95</td>
</tr>
<tr class="odd">
<td style="text-align: right;">74</td>
<td style="text-align: right;">15</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">1</td>
<td style="text-align: right;">10</td>
<td style="text-align: right;">36</td>
<td style="text-align: right;">0.7792289</td>
<td style="text-align: right;">0.0859678</td>
<td style="text-align: right;">0.9222336</td>
<td style="text-align: right;">0.6583990</td>
<td style="text-align: left;">sim</td>
<td style="text-align: left;">survival</td>
<td style="text-align: left;">Survival Probability</td>
<td style="text-align: left;">decreasing</td>
<td style="text-align: left;">tx</td>
<td style="text-align: right;">0.95</td>
</tr>
<tr class="even">
<td style="text-align: right;">75</td>
<td style="text-align: right;">14</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">1</td>
<td style="text-align: right;">10</td>
<td style="text-align: right;">37</td>
<td style="text-align: right;">0.7792289</td>
<td style="text-align: right;">0.0859678</td>
<td style="text-align: right;">0.9222336</td>
<td style="text-align: right;">0.6583990</td>
<td style="text-align: left;">sim</td>
<td style="text-align: left;">survival</td>
<td style="text-align: left;">Survival Probability</td>
<td style="text-align: left;">decreasing</td>
<td style="text-align: left;">tx</td>
<td style="text-align: right;">0.95</td>
</tr>
<tr class="odd">
<td style="text-align: right;">77</td>
<td style="text-align: right;">13</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">1</td>
<td style="text-align: right;">10</td>
<td style="text-align: right;">38</td>
<td style="text-align: right;">0.7792289</td>
<td style="text-align: right;">0.0859678</td>
<td style="text-align: right;">0.9222336</td>
<td style="text-align: right;">0.6583990</td>
<td style="text-align: left;">sim</td>
<td style="text-align: left;">survival</td>
<td style="text-align: left;">Survival Probability</td>
<td style="text-align: left;">decreasing</td>
<td style="text-align: left;">tx</td>
<td style="text-align: right;">0.95</td>
</tr>
<tr class="even">
<td style="text-align: right;">82</td>
<td style="text-align: right;">12</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">1</td>
<td style="text-align: right;">10</td>
<td style="text-align: right;">39</td>
<td style="text-align: right;">0.7792289</td>
<td style="text-align: right;">0.0859678</td>
<td style="text-align: right;">0.9222336</td>
<td style="text-align: right;">0.6583990</td>
<td style="text-align: left;">sim</td>
<td style="text-align: left;">survival</td>
<td style="text-align: left;">Survival Probability</td>
<td style="text-align: left;">decreasing</td>
<td style="text-align: left;">tx</td>
<td style="text-align: right;">0.95</td>
</tr>
<tr class="odd">
<td style="text-align: right;">83</td>
<td style="text-align: right;">11</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">2</td>
<td style="text-align: right;">10</td>
<td style="text-align: right;">41</td>
<td style="text-align: right;">0.7792289</td>
<td style="text-align: right;">0.0859678</td>
<td style="text-align: right;">0.9222336</td>
<td style="text-align: right;">0.6583990</td>
<td style="text-align: left;">sim</td>
<td style="text-align: left;">survival</td>
<td style="text-align: left;">Survival Probability</td>
<td style="text-align: left;">decreasing</td>
<td style="text-align: left;">tx</td>
<td style="text-align: right;">0.95</td>
</tr>
<tr class="even">
<td style="text-align: right;">87</td>
<td style="text-align: right;">9</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">1</td>
<td style="text-align: right;">10</td>
<td style="text-align: right;">42</td>
<td style="text-align: right;">0.7792289</td>
<td style="text-align: right;">0.0859678</td>
<td style="text-align: right;">0.9222336</td>
<td style="text-align: right;">0.6583990</td>
<td style="text-align: left;">sim</td>
<td style="text-align: left;">survival</td>
<td style="text-align: left;">Survival Probability</td>
<td style="text-align: left;">decreasing</td>
<td style="text-align: left;">tx</td>
<td style="text-align: right;">0.95</td>
</tr>
<tr class="odd">
<td style="text-align: right;">89</td>
<td style="text-align: right;">8</td>
<td style="text-align: right;">1</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">11</td>
<td style="text-align: right;">42</td>
<td style="text-align: right;">0.6818253</td>
<td style="text-align: right;">0.1588949</td>
<td style="text-align: right;">0.9309465</td>
<td style="text-align: right;">0.4993689</td>
<td style="text-align: left;">sim</td>
<td style="text-align: left;">survival</td>
<td style="text-align: left;">Survival Probability</td>
<td style="text-align: left;">decreasing</td>
<td style="text-align: left;">tx</td>
<td style="text-align: right;">0.95</td>
</tr>
<tr class="even">
<td style="text-align: right;">90</td>
<td style="text-align: right;">7</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">1</td>
<td style="text-align: right;">11</td>
<td style="text-align: right;">43</td>
<td style="text-align: right;">0.6818253</td>
<td style="text-align: right;">0.1588949</td>
<td style="text-align: right;">0.9309465</td>
<td style="text-align: right;">0.4993689</td>
<td style="text-align: left;">sim</td>
<td style="text-align: left;">survival</td>
<td style="text-align: left;">Survival Probability</td>
<td style="text-align: left;">decreasing</td>
<td style="text-align: left;">tx</td>
<td style="text-align: right;">0.95</td>
</tr>
<tr class="odd">
<td style="text-align: right;">92</td>
<td style="text-align: right;">6</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">1</td>
<td style="text-align: right;">11</td>
<td style="text-align: right;">44</td>
<td style="text-align: right;">0.6818253</td>
<td style="text-align: right;">0.1588949</td>
<td style="text-align: right;">0.9309465</td>
<td style="text-align: right;">0.4993689</td>
<td style="text-align: left;">sim</td>
<td style="text-align: left;">survival</td>
<td style="text-align: left;">Survival Probability</td>
<td style="text-align: left;">decreasing</td>
<td style="text-align: left;">tx</td>
<td style="text-align: right;">0.95</td>
</tr>
<tr class="even">
<td style="text-align: right;">96</td>
<td style="text-align: right;">5</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">1</td>
<td style="text-align: right;">11</td>
<td style="text-align: right;">45</td>
<td style="text-align: right;">0.6818253</td>
<td style="text-align: right;">0.1588949</td>
<td style="text-align: right;">0.9309465</td>
<td style="text-align: right;">0.4993689</td>
<td style="text-align: left;">sim</td>
<td style="text-align: left;">survival</td>
<td style="text-align: left;">Survival Probability</td>
<td style="text-align: left;">decreasing</td>
<td style="text-align: left;">tx</td>
<td style="text-align: right;">0.95</td>
</tr>
<tr class="odd">
<td style="text-align: right;">97</td>
<td style="text-align: right;">4</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">2</td>
<td style="text-align: right;">11</td>
<td style="text-align: right;">47</td>
<td style="text-align: right;">0.6818253</td>
<td style="text-align: right;">0.1588949</td>
<td style="text-align: right;">0.9309465</td>
<td style="text-align: right;">0.4993689</td>
<td style="text-align: left;">sim</td>
<td style="text-align: left;">survival</td>
<td style="text-align: left;">Survival Probability</td>
<td style="text-align: left;">decreasing</td>
<td style="text-align: left;">tx</td>
<td style="text-align: right;">0.95</td>
</tr>
<tr class="even">
<td style="text-align: right;">98</td>
<td style="text-align: right;">2</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">1</td>
<td style="text-align: right;">11</td>
<td style="text-align: right;">48</td>
<td style="text-align: right;">0.6818253</td>
<td style="text-align: right;">0.1588949</td>
<td style="text-align: right;">0.9309465</td>
<td style="text-align: right;">0.4993689</td>
<td style="text-align: left;">sim</td>
<td style="text-align: left;">survival</td>
<td style="text-align: left;">Survival Probability</td>
<td style="text-align: left;">decreasing</td>
<td style="text-align: left;">tx</td>
<td style="text-align: right;">0.95</td>
</tr>
<tr class="odd">
<td style="text-align: right;">99</td>
<td style="text-align: right;">1</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">1</td>
<td style="text-align: right;">11</td>
<td style="text-align: right;">49</td>
<td style="text-align: right;">0.6818253</td>
<td style="text-align: right;">0.1588949</td>
<td style="text-align: right;">0.9309465</td>
<td style="text-align: right;">0.4993689</td>
<td style="text-align: left;">sim</td>
<td style="text-align: left;">survival</td>
<td style="text-align: left;">Survival Probability</td>
<td style="text-align: left;">decreasing</td>
<td style="text-align: left;">tx</td>
<td style="text-align: right;">0.95</td>
</tr>
<tr class="even">
<td style="text-align: right;">0</td>
<td style="text-align: right;">64</td>
<td style="text-align: right;">2</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">2</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0.9687500</td>
<td style="text-align: right;">0.0224507</td>
<td style="text-align: right;">1.0000000</td>
<td style="text-align: right;">0.9270468</td>
<td style="text-align: left;">não</td>
<td style="text-align: left;">survival</td>
<td style="text-align: left;">Survival Probability</td>
<td style="text-align: left;">decreasing</td>
<td style="text-align: left;">tx</td>
<td style="text-align: right;">0.95</td>
</tr>
<tr class="odd">
<td style="text-align: right;">3</td>
<td style="text-align: right;">62</td>
<td style="text-align: right;">1</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">3</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0.9531250</td>
<td style="text-align: right;">0.0277208</td>
<td style="text-align: right;">1.0000000</td>
<td style="text-align: right;">0.9027217</td>
<td style="text-align: left;">não</td>
<td style="text-align: left;">survival</td>
<td style="text-align: left;">Survival Probability</td>
<td style="text-align: left;">decreasing</td>
<td style="text-align: left;">tx</td>
<td style="text-align: right;">0.95</td>
</tr>
<tr class="even">
<td style="text-align: right;">4</td>
<td style="text-align: right;">61</td>
<td style="text-align: right;">1</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">4</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0.9375000</td>
<td style="text-align: right;">0.0322749</td>
<td style="text-align: right;">0.9987199</td>
<td style="text-align: right;">0.8800328</td>
<td style="text-align: left;">não</td>
<td style="text-align: left;">survival</td>
<td style="text-align: left;">Survival Probability</td>
<td style="text-align: left;">decreasing</td>
<td style="text-align: left;">tx</td>
<td style="text-align: right;">0.95</td>
</tr>
<tr class="odd">
<td style="text-align: right;">6</td>
<td style="text-align: right;">60</td>
<td style="text-align: right;">1</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">5</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0.9218750</td>
<td style="text-align: right;">0.0363889</td>
<td style="text-align: right;">0.9900254</td>
<td style="text-align: right;">0.8584159</td>
<td style="text-align: left;">não</td>
<td style="text-align: left;">survival</td>
<td style="text-align: left;">Survival Probability</td>
<td style="text-align: left;">decreasing</td>
<td style="text-align: left;">tx</td>
<td style="text-align: right;">0.95</td>
</tr>
<tr class="even">
<td style="text-align: right;">8</td>
<td style="text-align: right;">59</td>
<td style="text-align: right;">2</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">7</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0.8906250</td>
<td style="text-align: right;">0.0438048</td>
<td style="text-align: right;">0.9704688</td>
<td style="text-align: right;">0.8173502</td>
<td style="text-align: left;">não</td>
<td style="text-align: left;">survival</td>
<td style="text-align: left;">Survival Probability</td>
<td style="text-align: left;">decreasing</td>
<td style="text-align: left;">tx</td>
<td style="text-align: right;">0.95</td>
</tr>
<tr class="odd">
<td style="text-align: right;">11</td>
<td style="text-align: right;">57</td>
<td style="text-align: right;">1</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">8</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0.8750000</td>
<td style="text-align: right;">0.0472456</td>
<td style="text-align: right;">0.9598946</td>
<td style="text-align: right;">0.7976136</td>
<td style="text-align: left;">não</td>
<td style="text-align: left;">survival</td>
<td style="text-align: left;">Survival Probability</td>
<td style="text-align: left;">decreasing</td>
<td style="text-align: left;">tx</td>
<td style="text-align: right;">0.95</td>
</tr>
<tr class="even">
<td style="text-align: right;">13</td>
<td style="text-align: right;">56</td>
<td style="text-align: right;">1</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">9</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0.8593750</td>
<td style="text-align: right;">0.0505650</td>
<td style="text-align: right;">0.9489071</td>
<td style="text-align: right;">0.7782905</td>
<td style="text-align: left;">não</td>
<td style="text-align: left;">survival</td>
<td style="text-align: left;">Survival Probability</td>
<td style="text-align: left;">decreasing</td>
<td style="text-align: left;">tx</td>
<td style="text-align: right;">0.95</td>
</tr>
<tr class="odd">
<td style="text-align: right;">14</td>
<td style="text-align: right;">55</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">1</td>
<td style="text-align: right;">9</td>
<td style="text-align: right;">1</td>
<td style="text-align: right;">0.8593750</td>
<td style="text-align: right;">0.0505650</td>
<td style="text-align: right;">0.9489071</td>
<td style="text-align: right;">0.7782905</td>
<td style="text-align: left;">não</td>
<td style="text-align: left;">survival</td>
<td style="text-align: left;">Survival Probability</td>
<td style="text-align: left;">decreasing</td>
<td style="text-align: left;">tx</td>
<td style="text-align: right;">0.95</td>
</tr>
<tr class="even">
<td style="text-align: right;">15</td>
<td style="text-align: right;">54</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">1</td>
<td style="text-align: right;">9</td>
<td style="text-align: right;">2</td>
<td style="text-align: right;">0.8593750</td>
<td style="text-align: right;">0.0505650</td>
<td style="text-align: right;">0.9489071</td>
<td style="text-align: right;">0.7782905</td>
<td style="text-align: left;">não</td>
<td style="text-align: left;">survival</td>
<td style="text-align: left;">Survival Probability</td>
<td style="text-align: left;">decreasing</td>
<td style="text-align: left;">tx</td>
<td style="text-align: right;">0.95</td>
</tr>
<tr class="odd">
<td style="text-align: right;">16</td>
<td style="text-align: right;">53</td>
<td style="text-align: right;">1</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">10</td>
<td style="text-align: right;">2</td>
<td style="text-align: right;">0.8431604</td>
<td style="text-align: right;">0.0540339</td>
<td style="text-align: right;">0.9373546</td>
<td style="text-align: right;">0.7584316</td>
<td style="text-align: left;">não</td>
<td style="text-align: left;">survival</td>
<td style="text-align: left;">Survival Probability</td>
<td style="text-align: left;">decreasing</td>
<td style="text-align: left;">tx</td>
<td style="text-align: right;">0.95</td>
</tr>
<tr class="even">
<td style="text-align: right;">18</td>
<td style="text-align: right;">52</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">1</td>
<td style="text-align: right;">10</td>
<td style="text-align: right;">3</td>
<td style="text-align: right;">0.8431604</td>
<td style="text-align: right;">0.0540339</td>
<td style="text-align: right;">0.9373546</td>
<td style="text-align: right;">0.7584316</td>
<td style="text-align: left;">não</td>
<td style="text-align: left;">survival</td>
<td style="text-align: left;">Survival Probability</td>
<td style="text-align: left;">decreasing</td>
<td style="text-align: left;">tx</td>
<td style="text-align: right;">0.95</td>
</tr>
<tr class="odd">
<td style="text-align: right;">19</td>
<td style="text-align: right;">51</td>
<td style="text-align: right;">1</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">11</td>
<td style="text-align: right;">3</td>
<td style="text-align: right;">0.8266278</td>
<td style="text-align: right;">0.0575484</td>
<td style="text-align: right;">0.9253272</td>
<td style="text-align: right;">0.7384562</td>
<td style="text-align: left;">não</td>
<td style="text-align: left;">survival</td>
<td style="text-align: left;">Survival Probability</td>
<td style="text-align: left;">decreasing</td>
<td style="text-align: left;">tx</td>
<td style="text-align: right;">0.95</td>
</tr>
<tr class="even">
<td style="text-align: right;">22</td>
<td style="text-align: right;">50</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">1</td>
<td style="text-align: right;">11</td>
<td style="text-align: right;">4</td>
<td style="text-align: right;">0.8266278</td>
<td style="text-align: right;">0.0575484</td>
<td style="text-align: right;">0.9253272</td>
<td style="text-align: right;">0.7384562</td>
<td style="text-align: left;">não</td>
<td style="text-align: left;">survival</td>
<td style="text-align: left;">Survival Probability</td>
<td style="text-align: left;">decreasing</td>
<td style="text-align: left;">tx</td>
<td style="text-align: right;">0.95</td>
</tr>
<tr class="odd">
<td style="text-align: right;">24</td>
<td style="text-align: right;">49</td>
<td style="text-align: right;">1</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">12</td>
<td style="text-align: right;">4</td>
<td style="text-align: right;">0.8097579</td>
<td style="text-align: right;">0.0611309</td>
<td style="text-align: right;">0.9128300</td>
<td style="text-align: right;">0.7183241</td>
<td style="text-align: left;">não</td>
<td style="text-align: left;">survival</td>
<td style="text-align: left;">Survival Probability</td>
<td style="text-align: left;">decreasing</td>
<td style="text-align: left;">tx</td>
<td style="text-align: right;">0.95</td>
</tr>
<tr class="even">
<td style="text-align: right;">25</td>
<td style="text-align: right;">48</td>
<td style="text-align: right;">1</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">13</td>
<td style="text-align: right;">4</td>
<td style="text-align: right;">0.7928879</td>
<td style="text-align: right;">0.0646549</td>
<td style="text-align: right;">0.9000075</td>
<td style="text-align: right;">0.6985178</td>
<td style="text-align: left;">não</td>
<td style="text-align: left;">survival</td>
<td style="text-align: left;">Survival Probability</td>
<td style="text-align: left;">decreasing</td>
<td style="text-align: left;">tx</td>
<td style="text-align: right;">0.95</td>
</tr>
<tr class="odd">
<td style="text-align: right;">27</td>
<td style="text-align: right;">47</td>
<td style="text-align: right;">1</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">14</td>
<td style="text-align: right;">4</td>
<td style="text-align: right;">0.7760180</td>
<td style="text-align: right;">0.0681380</td>
<td style="text-align: right;">0.8868924</td>
<td style="text-align: right;">0.6790044</td>
<td style="text-align: left;">não</td>
<td style="text-align: left;">survival</td>
<td style="text-align: left;">Survival Probability</td>
<td style="text-align: left;">decreasing</td>
<td style="text-align: left;">tx</td>
<td style="text-align: right;">0.95</td>
</tr>
<tr class="even">
<td style="text-align: right;">29</td>
<td style="text-align: right;">46</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">1</td>
<td style="text-align: right;">14</td>
<td style="text-align: right;">5</td>
<td style="text-align: right;">0.7760180</td>
<td style="text-align: right;">0.0681380</td>
<td style="text-align: right;">0.8868924</td>
<td style="text-align: right;">0.6790044</td>
<td style="text-align: left;">não</td>
<td style="text-align: left;">survival</td>
<td style="text-align: left;">Survival Probability</td>
<td style="text-align: left;">decreasing</td>
<td style="text-align: left;">tx</td>
<td style="text-align: right;">0.95</td>
</tr>
<tr class="odd">
<td style="text-align: right;">30</td>
<td style="text-align: right;">45</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">4</td>
<td style="text-align: right;">14</td>
<td style="text-align: right;">9</td>
<td style="text-align: right;">0.7760180</td>
<td style="text-align: right;">0.0681380</td>
<td style="text-align: right;">0.8868924</td>
<td style="text-align: right;">0.6790044</td>
<td style="text-align: left;">não</td>
<td style="text-align: left;">survival</td>
<td style="text-align: left;">Survival Probability</td>
<td style="text-align: left;">decreasing</td>
<td style="text-align: left;">tx</td>
<td style="text-align: right;">0.95</td>
</tr>
<tr class="even">
<td style="text-align: right;">31</td>
<td style="text-align: right;">41</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">1</td>
<td style="text-align: right;">14</td>
<td style="text-align: right;">10</td>
<td style="text-align: right;">0.7760180</td>
<td style="text-align: right;">0.0681380</td>
<td style="text-align: right;">0.8868924</td>
<td style="text-align: right;">0.6790044</td>
<td style="text-align: left;">não</td>
<td style="text-align: left;">survival</td>
<td style="text-align: left;">Survival Probability</td>
<td style="text-align: left;">decreasing</td>
<td style="text-align: left;">tx</td>
<td style="text-align: right;">0.95</td>
</tr>
<tr class="odd">
<td style="text-align: right;">32</td>
<td style="text-align: right;">40</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">2</td>
<td style="text-align: right;">14</td>
<td style="text-align: right;">12</td>
<td style="text-align: right;">0.7760180</td>
<td style="text-align: right;">0.0681380</td>
<td style="text-align: right;">0.8868924</td>
<td style="text-align: right;">0.6790044</td>
<td style="text-align: left;">não</td>
<td style="text-align: left;">survival</td>
<td style="text-align: left;">Survival Probability</td>
<td style="text-align: left;">decreasing</td>
<td style="text-align: left;">tx</td>
<td style="text-align: right;">0.95</td>
</tr>
<tr class="even">
<td style="text-align: right;">34</td>
<td style="text-align: right;">38</td>
<td style="text-align: right;">3</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">17</td>
<td style="text-align: right;">12</td>
<td style="text-align: right;">0.7147534</td>
<td style="text-align: right;">0.0830568</td>
<td style="text-align: right;">0.8411128</td>
<td style="text-align: right;">0.6073768</td>
<td style="text-align: left;">não</td>
<td style="text-align: left;">survival</td>
<td style="text-align: left;">Survival Probability</td>
<td style="text-align: left;">decreasing</td>
<td style="text-align: left;">tx</td>
<td style="text-align: right;">0.95</td>
</tr>
<tr class="odd">
<td style="text-align: right;">36</td>
<td style="text-align: right;">35</td>
<td style="text-align: right;">1</td>
<td style="text-align: right;">5</td>
<td style="text-align: right;">18</td>
<td style="text-align: right;">17</td>
<td style="text-align: right;">0.6943319</td>
<td style="text-align: right;">0.0879702</td>
<td style="text-align: right;">0.8249877</td>
<td style="text-align: right;">0.5843684</td>
<td style="text-align: left;">não</td>
<td style="text-align: left;">survival</td>
<td style="text-align: left;">Survival Probability</td>
<td style="text-align: left;">decreasing</td>
<td style="text-align: left;">tx</td>
<td style="text-align: right;">0.95</td>
</tr>
<tr class="even">
<td style="text-align: right;">37</td>
<td style="text-align: right;">29</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">3</td>
<td style="text-align: right;">18</td>
<td style="text-align: right;">20</td>
<td style="text-align: right;">0.6943319</td>
<td style="text-align: right;">0.0879702</td>
<td style="text-align: right;">0.8249877</td>
<td style="text-align: right;">0.5843684</td>
<td style="text-align: left;">não</td>
<td style="text-align: left;">survival</td>
<td style="text-align: left;">Survival Probability</td>
<td style="text-align: left;">decreasing</td>
<td style="text-align: left;">tx</td>
<td style="text-align: right;">0.95</td>
</tr>
<tr class="odd">
<td style="text-align: right;">40</td>
<td style="text-align: right;">26</td>
<td style="text-align: right;">1</td>
<td style="text-align: right;">1</td>
<td style="text-align: right;">19</td>
<td style="text-align: right;">21</td>
<td style="text-align: right;">0.6676268</td>
<td style="text-align: right;">0.0963183</td>
<td style="text-align: right;">0.8063435</td>
<td style="text-align: right;">0.5527738</td>
<td style="text-align: left;">não</td>
<td style="text-align: left;">survival</td>
<td style="text-align: left;">Survival Probability</td>
<td style="text-align: left;">decreasing</td>
<td style="text-align: left;">tx</td>
<td style="text-align: right;">0.95</td>
</tr>
<tr class="even">
<td style="text-align: right;">41</td>
<td style="text-align: right;">24</td>
<td style="text-align: right;">1</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">20</td>
<td style="text-align: right;">21</td>
<td style="text-align: right;">0.6398090</td>
<td style="text-align: right;">0.1053035</td>
<td style="text-align: right;">0.7864748</td>
<td style="text-align: right;">0.5204942</td>
<td style="text-align: left;">não</td>
<td style="text-align: left;">survival</td>
<td style="text-align: left;">Survival Probability</td>
<td style="text-align: left;">decreasing</td>
<td style="text-align: left;">tx</td>
<td style="text-align: right;">0.95</td>
</tr>
<tr class="odd">
<td style="text-align: right;">42</td>
<td style="text-align: right;">23</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">2</td>
<td style="text-align: right;">20</td>
<td style="text-align: right;">23</td>
<td style="text-align: right;">0.6398090</td>
<td style="text-align: right;">0.1053035</td>
<td style="text-align: right;">0.7864748</td>
<td style="text-align: right;">0.5204942</td>
<td style="text-align: left;">não</td>
<td style="text-align: left;">survival</td>
<td style="text-align: left;">Survival Probability</td>
<td style="text-align: left;">decreasing</td>
<td style="text-align: left;">tx</td>
<td style="text-align: right;">0.95</td>
</tr>
<tr class="even">
<td style="text-align: right;">44</td>
<td style="text-align: right;">21</td>
<td style="text-align: right;">1</td>
<td style="text-align: right;">2</td>
<td style="text-align: right;">21</td>
<td style="text-align: right;">25</td>
<td style="text-align: right;">0.6093419</td>
<td style="text-align: right;">0.1160593</td>
<td style="text-align: right;">0.7649815</td>
<td style="text-align: right;">0.4853680</td>
<td style="text-align: left;">não</td>
<td style="text-align: left;">survival</td>
<td style="text-align: left;">Survival Probability</td>
<td style="text-align: left;">decreasing</td>
<td style="text-align: left;">tx</td>
<td style="text-align: right;">0.95</td>
</tr>
<tr class="odd">
<td style="text-align: right;">46</td>
<td style="text-align: right;">18</td>
<td style="text-align: right;">1</td>
<td style="text-align: right;">2</td>
<td style="text-align: right;">22</td>
<td style="text-align: right;">27</td>
<td style="text-align: right;">0.5754896</td>
<td style="text-align: right;">0.1293744</td>
<td style="text-align: right;">0.7415854</td>
<td style="text-align: right;">0.4465949</td>
<td style="text-align: left;">não</td>
<td style="text-align: left;">survival</td>
<td style="text-align: left;">Survival Probability</td>
<td style="text-align: left;">decreasing</td>
<td style="text-align: left;">tx</td>
<td style="text-align: right;">0.95</td>
</tr>
<tr class="even">
<td style="text-align: right;">50</td>
<td style="text-align: right;">15</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">1</td>
<td style="text-align: right;">22</td>
<td style="text-align: right;">28</td>
<td style="text-align: right;">0.5754896</td>
<td style="text-align: right;">0.1293744</td>
<td style="text-align: right;">0.7415854</td>
<td style="text-align: right;">0.4465949</td>
<td style="text-align: left;">não</td>
<td style="text-align: left;">survival</td>
<td style="text-align: left;">Survival Probability</td>
<td style="text-align: left;">decreasing</td>
<td style="text-align: left;">tx</td>
<td style="text-align: right;">0.95</td>
</tr>
<tr class="odd">
<td style="text-align: right;">51</td>
<td style="text-align: right;">14</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">1</td>
<td style="text-align: right;">22</td>
<td style="text-align: right;">29</td>
<td style="text-align: right;">0.5754896</td>
<td style="text-align: right;">0.1293744</td>
<td style="text-align: right;">0.7415854</td>
<td style="text-align: right;">0.4465949</td>
<td style="text-align: left;">não</td>
<td style="text-align: left;">survival</td>
<td style="text-align: left;">Survival Probability</td>
<td style="text-align: left;">decreasing</td>
<td style="text-align: left;">tx</td>
<td style="text-align: right;">0.95</td>
</tr>
<tr class="even">
<td style="text-align: right;">54</td>
<td style="text-align: right;">13</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">1</td>
<td style="text-align: right;">22</td>
<td style="text-align: right;">30</td>
<td style="text-align: right;">0.5754896</td>
<td style="text-align: right;">0.1293744</td>
<td style="text-align: right;">0.7415854</td>
<td style="text-align: right;">0.4465949</td>
<td style="text-align: left;">não</td>
<td style="text-align: left;">survival</td>
<td style="text-align: left;">Survival Probability</td>
<td style="text-align: left;">decreasing</td>
<td style="text-align: left;">tx</td>
<td style="text-align: right;">0.95</td>
</tr>
<tr class="odd">
<td style="text-align: right;">56</td>
<td style="text-align: right;">12</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">1</td>
<td style="text-align: right;">22</td>
<td style="text-align: right;">31</td>
<td style="text-align: right;">0.5754896</td>
<td style="text-align: right;">0.1293744</td>
<td style="text-align: right;">0.7415854</td>
<td style="text-align: right;">0.4465949</td>
<td style="text-align: left;">não</td>
<td style="text-align: left;">survival</td>
<td style="text-align: left;">Survival Probability</td>
<td style="text-align: left;">decreasing</td>
<td style="text-align: left;">tx</td>
<td style="text-align: right;">0.95</td>
</tr>
<tr class="even">
<td style="text-align: right;">58</td>
<td style="text-align: right;">11</td>
<td style="text-align: right;">1</td>
<td style="text-align: right;">3</td>
<td style="text-align: right;">23</td>
<td style="text-align: right;">34</td>
<td style="text-align: right;">0.5231723</td>
<td style="text-align: right;">0.1607130</td>
<td style="text-align: right;">0.7168758</td>
<td style="text-align: right;">0.3818086</td>
<td style="text-align: left;">não</td>
<td style="text-align: left;">survival</td>
<td style="text-align: left;">Survival Probability</td>
<td style="text-align: left;">decreasing</td>
<td style="text-align: left;">tx</td>
<td style="text-align: right;">0.95</td>
</tr>
<tr class="odd">
<td style="text-align: right;">60</td>
<td style="text-align: right;">7</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">1</td>
<td style="text-align: right;">23</td>
<td style="text-align: right;">35</td>
<td style="text-align: right;">0.5231723</td>
<td style="text-align: right;">0.1607130</td>
<td style="text-align: right;">0.7168758</td>
<td style="text-align: right;">0.3818086</td>
<td style="text-align: left;">não</td>
<td style="text-align: left;">survival</td>
<td style="text-align: left;">Survival Probability</td>
<td style="text-align: left;">decreasing</td>
<td style="text-align: left;">tx</td>
<td style="text-align: right;">0.95</td>
</tr>
<tr class="even">
<td style="text-align: right;">65</td>
<td style="text-align: right;">6</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">1</td>
<td style="text-align: right;">23</td>
<td style="text-align: right;">36</td>
<td style="text-align: right;">0.5231723</td>
<td style="text-align: right;">0.1607130</td>
<td style="text-align: right;">0.7168758</td>
<td style="text-align: right;">0.3818086</td>
<td style="text-align: left;">não</td>
<td style="text-align: left;">survival</td>
<td style="text-align: left;">Survival Probability</td>
<td style="text-align: left;">decreasing</td>
<td style="text-align: left;">tx</td>
<td style="text-align: right;">0.95</td>
</tr>
<tr class="odd">
<td style="text-align: right;">71</td>
<td style="text-align: right;">5</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">1</td>
<td style="text-align: right;">23</td>
<td style="text-align: right;">37</td>
<td style="text-align: right;">0.5231723</td>
<td style="text-align: right;">0.1607130</td>
<td style="text-align: right;">0.7168758</td>
<td style="text-align: right;">0.3818086</td>
<td style="text-align: left;">não</td>
<td style="text-align: left;">survival</td>
<td style="text-align: left;">Survival Probability</td>
<td style="text-align: left;">decreasing</td>
<td style="text-align: left;">tx</td>
<td style="text-align: right;">0.95</td>
</tr>
<tr class="even">
<td style="text-align: right;">77</td>
<td style="text-align: right;">4</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">1</td>
<td style="text-align: right;">23</td>
<td style="text-align: right;">38</td>
<td style="text-align: right;">0.5231723</td>
<td style="text-align: right;">0.1607130</td>
<td style="text-align: right;">0.7168758</td>
<td style="text-align: right;">0.3818086</td>
<td style="text-align: left;">não</td>
<td style="text-align: left;">survival</td>
<td style="text-align: left;">Survival Probability</td>
<td style="text-align: left;">decreasing</td>
<td style="text-align: left;">tx</td>
<td style="text-align: right;">0.95</td>
</tr>
<tr class="odd">
<td style="text-align: right;">80</td>
<td style="text-align: right;">3</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">1</td>
<td style="text-align: right;">23</td>
<td style="text-align: right;">39</td>
<td style="text-align: right;">0.5231723</td>
<td style="text-align: right;">0.1607130</td>
<td style="text-align: right;">0.7168758</td>
<td style="text-align: right;">0.3818086</td>
<td style="text-align: left;">não</td>
<td style="text-align: left;">survival</td>
<td style="text-align: left;">Survival Probability</td>
<td style="text-align: left;">decreasing</td>
<td style="text-align: left;">tx</td>
<td style="text-align: right;">0.95</td>
</tr>
<tr class="even">
<td style="text-align: right;">82</td>
<td style="text-align: right;">2</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">1</td>
<td style="text-align: right;">23</td>
<td style="text-align: right;">40</td>
<td style="text-align: right;">0.5231723</td>
<td style="text-align: right;">0.1607130</td>
<td style="text-align: right;">0.7168758</td>
<td style="text-align: right;">0.3818086</td>
<td style="text-align: left;">não</td>
<td style="text-align: left;">survival</td>
<td style="text-align: left;">Survival Probability</td>
<td style="text-align: left;">decreasing</td>
<td style="text-align: left;">tx</td>
<td style="text-align: right;">0.95</td>
</tr>
<tr class="odd">
<td style="text-align: right;">97</td>
<td style="text-align: right;">1</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">1</td>
<td style="text-align: right;">23</td>
<td style="text-align: right;">41</td>
<td style="text-align: right;">0.5231723</td>
<td style="text-align: right;">0.1607130</td>
<td style="text-align: right;">0.7168758</td>
<td style="text-align: right;">0.3818086</td>
<td style="text-align: left;">não</td>
<td style="text-align: left;">survival</td>
<td style="text-align: left;">Survival Probability</td>
<td style="text-align: left;">decreasing</td>
<td style="text-align: left;">tx</td>
<td style="text-align: right;">0.95</td>
</tr>
</tbody>
</table>


</div>
<div class="sourceCode cell-code" id="cb97"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb97-1"><a href="#cb97-1" aria-hidden="true" tabindex="-1"></a><span class="fu">summary</span>(life_table2)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>      time           n.risk        n.event          n.censor    
 Min.   : 0.00   Min.   : 1.0   Min.   :0.0000   Min.   :0.000  
 1st Qu.:28.00   1st Qu.:13.5   1st Qu.:0.0000   1st Qu.:0.000  
 Median :42.00   Median :34.0   Median :0.0000   Median :1.000  
 Mean   :46.25   Mean   :31.9   Mean   :0.4096   Mean   :1.084  
 3rd Qu.:65.50   3rd Qu.:50.0   3rd Qu.:1.0000   3rd Qu.:1.000  
 Max.   :99.00   Max.   :64.0   Max.   :3.0000   Max.   :5.000  
   cum.event       cum.censor       estimate        std.error      
 Min.   : 0.00   Min.   : 0.00   Min.   :0.5232   Min.   :0.00000  
 1st Qu.: 7.00   1st Qu.: 4.00   1st Qu.:0.6818   1st Qu.:0.05056  
 Median :10.00   Median :20.00   Median :0.7929   Median :0.06683  
 Mean   :11.48   Mean   :20.04   Mean   :0.7757   Mean   :0.08234  
 3rd Qu.:14.00   3rd Qu.:34.50   3rd Qu.:0.8726   3rd Qu.:0.11068  
 Max.   :23.00   Max.   :49.00   Max.   :1.0000   Max.   :0.16071  
   conf.high         conf.low      strata   estimate_type     
 Min.   :0.7169   Min.   :0.3818   sim:43   Length:83         
 1st Qu.:0.8869   1st Qu.:0.5099   não:40   Class :character  
 Median :0.9309   Median :0.6985            Mode  :character  
 Mean   :0.9015   Mean   :0.6716                              
 3rd Qu.:0.9663   3rd Qu.:0.7880                              
 Max.   :1.0000   Max.   :1.0000                              
 estimate_type_label monotonicity_type  strata_label         conf.level  
 Length:83           Length:83          Length:83          Min.   :0.95  
 Class :character    Class :character   Class :character   1st Qu.:0.95  
 Mode  :character    Mode  :character   Mode  :character   Median :0.95  
                                                           Mean   :0.95  
                                                           3rd Qu.:0.95  
                                                           Max.   :0.95  </code></pre>
</div>
<div class="sourceCode cell-code" id="cb99"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb99-1"><a href="#cb99-1" aria-hidden="true" tabindex="-1"></a><span class="fu">summary</span>(life_table2, <span class="at">times =</span> tempos_específicos)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>      time           n.risk        n.event          n.censor    
 Min.   : 0.00   Min.   : 1.0   Min.   :0.0000   Min.   :0.000  
 1st Qu.:28.00   1st Qu.:13.5   1st Qu.:0.0000   1st Qu.:0.000  
 Median :42.00   Median :34.0   Median :0.0000   Median :1.000  
 Mean   :46.25   Mean   :31.9   Mean   :0.4096   Mean   :1.084  
 3rd Qu.:65.50   3rd Qu.:50.0   3rd Qu.:1.0000   3rd Qu.:1.000  
 Max.   :99.00   Max.   :64.0   Max.   :3.0000   Max.   :5.000  
   cum.event       cum.censor       estimate        std.error      
 Min.   : 0.00   Min.   : 0.00   Min.   :0.5232   Min.   :0.00000  
 1st Qu.: 7.00   1st Qu.: 4.00   1st Qu.:0.6818   1st Qu.:0.05056  
 Median :10.00   Median :20.00   Median :0.7929   Median :0.06683  
 Mean   :11.48   Mean   :20.04   Mean   :0.7757   Mean   :0.08234  
 3rd Qu.:14.00   3rd Qu.:34.50   3rd Qu.:0.8726   3rd Qu.:0.11068  
 Max.   :23.00   Max.   :49.00   Max.   :1.0000   Max.   :0.16071  
   conf.high         conf.low      strata   estimate_type     
 Min.   :0.7169   Min.   :0.3818   sim:43   Length:83         
 1st Qu.:0.8869   1st Qu.:0.5099   não:40   Class :character  
 Median :0.9309   Median :0.6985            Mode  :character  
 Mean   :0.9015   Mean   :0.6716                              
 3rd Qu.:0.9663   3rd Qu.:0.7880                              
 Max.   :1.0000   Max.   :1.0000                              
 estimate_type_label monotonicity_type  strata_label         conf.level  
 Length:83           Length:83          Length:83          Min.   :0.95  
 Class :character    Class :character   Class :character   1st Qu.:0.95  
 Mode  :character    Mode  :character   Mode  :character   Median :0.95  
                                                           Mean   :0.95  
                                                           3rd Qu.:0.95  
                                                           Max.   :0.95  </code></pre>
</div>
<div class="sourceCode cell-code" id="cb101"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb101-1"><a href="#cb101-1" aria-hidden="true" tabindex="-1"></a><span class="fu">head</span>(life_table2)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 6 × 16
   time n.risk n.event n.censor cum.event cum.censor estimate std.error
  &lt;dbl&gt;  &lt;dbl&gt;   &lt;dbl&gt;    &lt;dbl&gt;     &lt;dbl&gt;      &lt;dbl&gt;    &lt;dbl&gt;     &lt;dbl&gt;
1     0     60       0        1         0          1    1        0     
2     3     59       1        0         1          1    0.983    0.0171
3     4     58       1        0         2          1    0.966    0.0244
4    24     57       1        0         3          1    0.949    0.0301
5    26     56       1        0         4          1    0.932    0.0351
6    29     55       1        0         5          1    0.915    0.0396
# ℹ 8 more variables: conf.high &lt;dbl&gt;, conf.low &lt;dbl&gt;, strata &lt;fct&gt;,
#   estimate_type &lt;chr&gt;, estimate_type_label &lt;chr&gt;, monotonicity_type &lt;chr&gt;,
#   strata_label &lt;chr&gt;, conf.level &lt;dbl&gt;</code></pre>
</div>
</div>
</section>
<section id="código-não-usado" class="level3">
<h3 class="anchored" data-anchor-id="código-não-usado">Código não usado</h3>
<div class="cell">
<div class="sourceCode cell-code" id="cb103"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb103-1"><a href="#cb103-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Create the new data  </span></span>
<span id="cb103-2"><a href="#cb103-2" aria-hidden="true" tabindex="-1"></a>new_df <span class="ot">&lt;-</span> <span class="fu">with</span>(db,</span>
<span id="cb103-3"><a href="#cb103-3" aria-hidden="true" tabindex="-1"></a>               <span class="fu">data.frame</span>(<span class="at">tx =</span> <span class="fu">c</span>(<span class="st">"sim"</span>, <span class="st">"não"</span>)</span>
<span id="cb103-4"><a href="#cb103-4" aria-hidden="true" tabindex="-1"></a>               )</span>
<span id="cb103-5"><a href="#cb103-5" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb103-6"><a href="#cb103-6" aria-hidden="true" tabindex="-1"></a><span class="fu">glimpse</span>(new_df)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>Rows: 2
Columns: 1
$ tx &lt;chr&gt; "sim", "não"</code></pre>
</div>
<div class="sourceCode cell-code" id="cb105"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb105-1"><a href="#cb105-1" aria-hidden="true" tabindex="-1"></a>new_df<span class="sc">$</span>tx <span class="ot">=</span> <span class="fu">as.factor</span>(new_df<span class="sc">$</span>tx)</span>
<span id="cb105-2"><a href="#cb105-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb105-3"><a href="#cb105-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb105-4"><a href="#cb105-4" aria-hidden="true" tabindex="-1"></a><span class="co"># Survival curves with new data</span></span>
<span id="cb105-5"><a href="#cb105-5" aria-hidden="true" tabindex="-1"></a><span class="co">#%%%%%%%%%%%%%%%%%%%%%%%%%%%</span></span>
<span id="cb105-6"><a href="#cb105-6" aria-hidden="true" tabindex="-1"></a>fit_cox <span class="ot">&lt;-</span> <span class="fu">survfit</span>(cox_res, <span class="at">newdata =</span> new_df)</span>
<span id="cb105-7"><a href="#cb105-7" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb105-8"><a href="#cb105-8" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb105-9"><a href="#cb105-9" aria-hidden="true" tabindex="-1"></a><span class="fu">ggsurvplot</span>(fit_cox, <span class="at">data =</span> db,</span>
<span id="cb105-10"><a href="#cb105-10" aria-hidden="true" tabindex="-1"></a>           <span class="at">size =</span> <span class="dv">1</span>,</span>
<span id="cb105-11"><a href="#cb105-11" aria-hidden="true" tabindex="-1"></a>           <span class="at">palette =</span> <span class="fu">c</span>(<span class="st">'#E7B800'</span>, <span class="st">'#2e9fdf'</span>),</span>
<span id="cb105-12"><a href="#cb105-12" aria-hidden="true" tabindex="-1"></a>           <span class="at">censor.shape =</span> <span class="st">'|'</span>, <span class="at">censor.size =</span> <span class="dv">4</span>,</span>
<span id="cb105-13"><a href="#cb105-13" aria-hidden="true" tabindex="-1"></a>           <span class="at">conf.int =</span> <span class="cn">TRUE</span>,</span>
<span id="cb105-14"><a href="#cb105-14" aria-hidden="true" tabindex="-1"></a>           <span class="at">pval =</span> <span class="cn">TRUE</span>,</span>
<span id="cb105-15"><a href="#cb105-15" aria-hidden="true" tabindex="-1"></a>          <span class="co"># risk.table = TRUE,</span></span>
<span id="cb105-16"><a href="#cb105-16" aria-hidden="true" tabindex="-1"></a>         <span class="co">#  risk.table.col = 'strata',</span></span>
<span id="cb105-17"><a href="#cb105-17" aria-hidden="true" tabindex="-1"></a>           <span class="at">legend.labs =</span> <span class="fu">list</span>(<span class="st">'0'</span> <span class="ot">=</span> <span class="st">'Transplante = sim'</span>, <span class="st">'1'</span> <span class="ot">=</span> <span class="st">'Transplante = não'</span>),</span>
<span id="cb105-18"><a href="#cb105-18" aria-hidden="true" tabindex="-1"></a>           <span class="at">risk.table.height =</span> <span class="fl">0.25</span>,</span>
<span id="cb105-19"><a href="#cb105-19" aria-hidden="true" tabindex="-1"></a>           <span class="at">ggtheme =</span> <span class="fu">theme_bw</span>())</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stderr">
<pre><code>Warning in .pvalue(fit, data = data, method = method, pval = pval, pval.coord = pval.coord, : There are no survival curves to be compared. 
 This is a null model.</code></pre>
</div>
<div class="cell-output-display">
<p><img src="lista_6_files/figure-html/unnamed-chunk-62-1.png" class="img-fluid" width="672"></p>
</div>
</div>
</section>
<section id="para-salvar-os-valores-de-sobrevida" class="level3">
<h3 class="anchored" data-anchor-id="para-salvar-os-valores-de-sobrevida">Para salvar os valores de sobrevida</h3>
<div class="cell">
<div class="sourceCode cell-code" id="cb107"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb107-1"><a href="#cb107-1" aria-hidden="true" tabindex="-1"></a>surv_fit_cox <span class="ot">=</span> <span class="fu">survfit</span>(cox_res)</span>
<span id="cb107-2"><a href="#cb107-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb107-3"><a href="#cb107-3" aria-hidden="true" tabindex="-1"></a><span class="co"># Extrai os tempos de sobrevida e as estimativas de sobrevida</span></span>
<span id="cb107-4"><a href="#cb107-4" aria-hidden="true" tabindex="-1"></a>surv_df_cox <span class="ot">&lt;-</span> <span class="fu">data.frame</span>(<span class="at">time =</span> surv_fit_cox<span class="sc">$</span>time, <span class="at">surv =</span> surv_fit_cox<span class="sc">$</span>surv)</span>
<span id="cb107-5"><a href="#cb107-5" aria-hidden="true" tabindex="-1"></a>surv_df_cox</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>   time      surv
1     0 0.9919270
2     3 0.9837071
3     4 0.9754200
4     6 0.9712508
5     8 0.9628064
6    11 0.9585298
7    13 0.9542158
8    14 0.9542158
9    15 0.9542158
10   16 0.9497436
11   18 0.9497436
12   19 0.9451662
13   22 0.9451662
14   24 0.9357670
15   25 0.9310329
16   26 0.9262516
17   27 0.9214703
18   29 0.9166403
19   30 0.9166403
20   31 0.9166403
21   32 0.9166403
22   34 0.8995899
23   35 0.8995899
24   36 0.8936099
25   37 0.8936099
26   38 0.8862225
27   39 0.8862225
28   40 0.8787730
29   41 0.8630231
30   42 0.8630231
31   44 0.8544152
32   45 0.8449676
33   46 0.8354131
34   48 0.8354131
35   49 0.8245091
36   50 0.8245091
37   51 0.8245091
38   52 0.8245091
39   54 0.8245091
40   55 0.8245091
41   56 0.8245091
42   57 0.8245091
43   58 0.8091983
44   60 0.8091983
45   65 0.8091983
46   66 0.7855423
47   67 0.7855423
48   71 0.7855423
49   73 0.7855423
50   74 0.7855423
51   75 0.7855423
52   77 0.7855423
53   80 0.7855423
54   82 0.7855423
55   83 0.7855423
56   87 0.7855423
57   89 0.7169271
58   90 0.7169271
59   92 0.7169271
60   96 0.7169271
61   97 0.7169271
62   98 0.7169271
63   99 0.7169271</code></pre>
</div>
</div>
</section>
</section>
<section id="referências" class="level2" data-number="6.17">
<h2 data-number="6.17" class="anchored" data-anchor-id="referências"><span class="header-section-number">6.17</span> Referências</h2>
<p><a href="https://bookdown.org/mpfoley1973/survival/semiparametric.html#fitting-the-model-1" class="uri">https://bookdown.org/mpfoley1973/survival/semiparametric.html#fitting-the-model-1</a></p>
<p><a href="https://biostatsquid.com/easy-survival-analysis-r-tutorial/" class="uri">https://biostatsquid.com/easy-survival-analysis-r-tutorial/</a></p>
<p><a href="https://www.youtube.com/watch?v=XrvCCFQRCZE" class="uri">https://www.youtube.com/watch?v=XrvCCFQRCZE</a></p>
<p><a href="https://www.youtube.com/watch?v=vX3l36ptrTU&amp;list=PLqzoL9-eJTNDdnKvep_YHIwk2AMqHhuJ0" class="uri">https://www.youtube.com/watch?v=vX3l36ptrTU&amp;list=PLqzoL9-eJTNDdnKvep_YHIwk2AMqHhuJ0</a></p>
<p><a href="http://www.sthda.com/english/wiki/cox-proportional-hazards-model" class="uri">http://www.sthda.com/english/wiki/cox-proportional-hazards-model</a></p>
</section>
<section id="versões-dos-pacotes" class="level2" data-number="6.18">
<h2 data-number="6.18" class="anchored" data-anchor-id="versões-dos-pacotes"><span class="header-section-number">6.18</span> Versões dos pacotes</h2>
<div class="cell">
<div class="sourceCode cell-code" id="cb109"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb109-1"><a href="#cb109-1" aria-hidden="true" tabindex="-1"></a><span class="fu">report</span>(<span class="fu">sessionInfo</span>())</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>Analyses were conducted using the R Statistical language (version 4.3.1; R Core
Team, 2023) on Windows 11 x64 (build 22621), using the packages effectsize
(version 0.8.6; Ben-Shachar MS et al., 2020), lpSolve (version 5.6.19;
Berkelaar M, others, 2023), survMisc (version 0.5.6; Dardis C, 2022), tm
(version 0.7.11; Feinerer I, Hornik K, 2023), flexplot (version 0.20.5; Fife D,
2024), lubridate (version 1.9.3; Grolemund G, Wickham H, 2011), coxphf (version
1.13.4; Heinze G et al., 2023), NLP (version 0.2.1; Hornik K, 2020), coin
(version 1.4.3; Hothorn T et al., 2006), ggpubr (version 0.6.0; Kassambara A,
2023), survminer (version 0.4.9; Kassambara A et al., 2021),
PHInfiniteEstimates (version 2.9.5; Kolassa JE, Zhang J, 2023), parameters
(version 0.21.3; Lüdecke D et al., 2020), performance (version 0.10.8; Lüdecke
D et al., 2021), easystats (version 0.6.0; Lüdecke D et al., 2022), see
(version 0.8.1; Lüdecke D et al., 2021), insight (version 0.19.6; Lüdecke D et
al., 2019), bayestestR (version 0.13.1; Makowski D et al., 2019), modelbased
(version 0.8.6; Makowski D et al., 2020), report (version 0.5.7; Makowski D et
al., 2023), correlation (version 0.8.4; Makowski D et al., 2022), condSURV
(version 2.0.4; Meira-Machado L, Sestelo M, 2023), tibble (version 3.2.1;
Müller K, Wickham H, 2023), datawizard (version 0.9.0; Patil I et al., 2022),
foreign (version 0.8.85; R Core Team, 2023), nph (version 2.1; Ristl R et al.,
2021), broom (version 1.0.5; Robinson D et al., 2023), ggsurvfit (version
1.0.0; Sjoberg D et al., 2023), gtsummary (version 1.7.2; Sjoberg D et al.,
2021), rempsyc (version 0.1.6; Thériault R, 2023), survival (version 3.5.7;
Therneau T, 2023), ggplot2 (version 3.4.4; Wickham H, 2016), forcats (version
1.0.0; Wickham H, 2023), stringr (version 1.5.1; Wickham H, 2023), tidyverse
(version 2.0.0; Wickham H et al., 2019), dplyr (version 1.1.3; Wickham H et
al., 2023), purrr (version 1.0.2; Wickham H, Henry L, 2023), readr (version
2.1.4; Wickham H et al., 2023), tidyr (version 1.3.0; Wickham H et al., 2023)
and kableExtra (version 1.3.4; Zhu H, 2021).

References
----------
  - Ben-Shachar MS, Lüdecke D, Makowski D (2020). "effectsize: Estimation of
Effect Size Indices and Standardized Parameters." _Journal of Open Source
Software_, *5*(56), 2815. doi:10.21105/joss.02815
&lt;https://doi.org/10.21105/joss.02815&gt;, &lt;https://doi.org/10.21105/joss.02815&gt;.
  - Berkelaar M, others (2023). _lpSolve: Interface to 'Lp_solve' v. 5.5 to Solve
Linear/Integer Programs_. R package version 5.6.19,
&lt;https://CRAN.R-project.org/package=lpSolve&gt;.
  - Dardis C (2022). _survMisc: Miscellaneous Functions for Survival Data_. R
package version 0.5.6, &lt;https://CRAN.R-project.org/package=survMisc&gt;.
  - Feinerer I, Hornik K (2023). _tm: Text Mining Package_. R package version
0.7-11, &lt;https://CRAN.R-project.org/package=tm&gt;. Feinerer I, Hornik K, Meyer D
(2008). "Text Mining Infrastructure in R." _Journal of Statistical Software_,
*25*(5), 1-54. doi:10.18637/jss.v025.i05
&lt;https://doi.org/10.18637/jss.v025.i05&gt;.
  - Fife D (2024). _flexplot: Graphically Based Data Analysis Using 'flexplot'_.
R package version 0.20.5.
  - Grolemund G, Wickham H (2011). "Dates and Times Made Easy with lubridate."
_Journal of Statistical Software_, *40*(3), 1-25.
&lt;https://www.jstatsoft.org/v40/i03/&gt;.
  - Heinze G, Ploner M, Jiricka L, Steiner G (2023). _coxphf: Cox Regression with
Firth's Penalized Likelihood_. R package version 1.13.4,
&lt;https://CRAN.R-project.org/package=coxphf&gt;.
  - Hornik K (2020). _NLP: Natural Language Processing Infrastructure_. R package
version 0.2-1, &lt;https://CRAN.R-project.org/package=NLP&gt;.
  - Hothorn T, Hornik K, van de Wiel MA, Zeileis A (2006). "A Lego system for
conditional inference." _The American Statistician_, *60*(3), 257-263.
doi:10.1198/000313006X118430 &lt;https://doi.org/10.1198/000313006X118430&gt;.
Hothorn T, Hornik K, van de Wiel MA, Zeileis A (2008). "Implementing a class of
permutation tests: The coin package." _Journal of Statistical Software_,
*28*(8), 1-23. doi:10.18637/jss.v028.i08
&lt;https://doi.org/10.18637/jss.v028.i08&gt;.
  - Kassambara A (2023). _ggpubr: 'ggplot2' Based Publication Ready Plots_. R
package version 0.6.0, &lt;https://CRAN.R-project.org/package=ggpubr&gt;.
  - Kassambara A, Kosinski M, Biecek P (2021). _survminer: Drawing Survival
Curves using 'ggplot2'_. R package version 0.4.9,
&lt;https://CRAN.R-project.org/package=survminer&gt;.
  - Kolassa JE, Zhang J (2023). _PHInfiniteEstimates: Tools for Inference in the
Presence of a Monotone Likelihood_. R package version 2.9.5,
&lt;https://CRAN.R-project.org/package=PHInfiniteEstimates&gt;.
  - Lüdecke D, Ben-Shachar M, Patil I, Makowski D (2020). "Extracting, Computing
and Exploring the Parameters of Statistical Models using R." _Journal of Open
Source Software_, *5*(53), 2445. doi:10.21105/joss.02445
&lt;https://doi.org/10.21105/joss.02445&gt;.
  - Lüdecke D, Ben-Shachar M, Patil I, Waggoner P, Makowski D (2021).
"performance: An R Package for Assessment, Comparison and Testing of
Statistical Models." _Journal of Open Source Software_, *6*(60), 3139.
doi:10.21105/joss.03139 &lt;https://doi.org/10.21105/joss.03139&gt;.
  - Lüdecke D, Ben-Shachar M, Patil I, Wiernik B, Makowski D (2022). "easystats:
Framework for Easy Statistical Modeling, Visualization, and Reporting." _CRAN_.
R package, &lt;https://easystats.github.io/easystats/&gt;.
  - Lüdecke D, Patil I, Ben-Shachar M, Wiernik B, Waggoner P, Makowski D (2021).
"see: An R Package for Visualizing Statistical Models." _Journal of Open Source
Software_, *6*(64), 3393. doi:10.21105/joss.03393
&lt;https://doi.org/10.21105/joss.03393&gt;.
  - Lüdecke D, Waggoner P, Makowski D (2019). "insight: A Unified Interface to
Access Information from Model Objects in R." _Journal of Open Source Software_,
*4*(38), 1412. doi:10.21105/joss.01412 &lt;https://doi.org/10.21105/joss.01412&gt;.
  - Makowski D, Ben-Shachar M, Lüdecke D (2019). "bayestestR: Describing Effects
and their Uncertainty, Existence and Significance within the Bayesian
Framework." _Journal of Open Source Software_, *4*(40), 1541.
doi:10.21105/joss.01541 &lt;https://doi.org/10.21105/joss.01541&gt;,
&lt;https://joss.theoj.org/papers/10.21105/joss.01541&gt;.
  - Makowski D, Ben-Shachar M, Patil I, Lüdecke D (2020). "Estimation of
Model-Based Predictions, Contrasts and Means." _CRAN_.
&lt;https://github.com/easystats/modelbased&gt;.
  - Makowski D, Lüdecke D, Patil I, Thériault R, Ben-Shachar M, Wiernik B (2023).
"Automated Results Reporting as a Practical Tool to Improve Reproducibility and
Methodological Best Practices Adoption." _CRAN_.
&lt;https://easystats.github.io/report/&gt;.
  - Makowski D, Wiernik B, Patil I, Lüdecke D, Ben-Shachar M (2022).
"correlation: Methods for Correlation Analysis." Version 0.8.3,
&lt;https://CRAN.R-project.org/package=correlation&gt;. Makowski D, Ben-Shachar M,
Patil I, Lüdecke D (2020). "Methods and Algorithms for Correlation Analysis in
R." _Journal of Open Source Software_, *5*(51), 2306. doi:10.21105/joss.02306
&lt;https://doi.org/10.21105/joss.02306&gt;,
&lt;https://joss.theoj.org/papers/10.21105/joss.02306&gt;.
  - Meira-Machado L, Sestelo M (2023). _condSURV: Estimation of the Conditional
Survival Function for Ordered Multivariate Failure Time Data_. R package
version 2.0.4, &lt;https://CRAN.R-project.org/package=condSURV&gt;.
  - Müller K, Wickham H (2023). _tibble: Simple Data Frames_. R package version
3.2.1, &lt;https://CRAN.R-project.org/package=tibble&gt;.
  - Patil I, Makowski D, Ben-Shachar M, Wiernik B, Bacher E, Lüdecke D (2022).
"datawizard: An R Package for Easy Data Preparation and Statistical
Transformations." _Journal of Open Source Software_, *7*(78), 4684.
doi:10.21105/joss.04684 &lt;https://doi.org/10.21105/joss.04684&gt;.
  - R Core Team (2023). _foreign: Read Data Stored by 'Minitab', 'S', 'SAS',
'SPSS', 'Stata', 'Systat', 'Weka', 'dBase', ..._. R package version 0.8-85,
&lt;https://CRAN.R-project.org/package=foreign&gt;.
  - R Core Team (2023). _R: A Language and Environment for Statistical
Computing_. R Foundation for Statistical Computing, Vienna, Austria.
&lt;https://www.R-project.org/&gt;.
  - Ristl R, Ballarini N, Götte H, Schüler A, Posch M, König F (2021). "Delayed
treatment effects, treatment switching and heterogeneous patient populations:
How to design and analyze RCTs in oncology." _Pharmaceutical statistics_,
*20*(1), 129-145.
  - Robinson D, Hayes A, Couch S (2023). _broom: Convert Statistical Objects into
Tidy Tibbles_. R package version 1.0.5,
&lt;https://CRAN.R-project.org/package=broom&gt;.
  - Sjoberg D, Baillie M, Fruechtenicht C, Haesendonckx S, Treis T (2023).
_ggsurvfit: Flexible Time-to-Event Figures_. R package version 1.0.0,
&lt;https://CRAN.R-project.org/package=ggsurvfit&gt;.
  - Sjoberg D, Whiting K, Curry M, Lavery J, Larmarange J (2021). "Reproducible
Summary Tables with the gtsummary Package." _The R Journal_, *13*, 570-580.
doi:10.32614/RJ-2021-053 &lt;https://doi.org/10.32614/RJ-2021-053&gt;,
&lt;https://doi.org/10.32614/RJ-2021-053&gt;.
  - Thériault R (2023). "rempsyc: Convenience functions for psychology." _Journal
of Open Source Software_, *8*(87), 5466. doi:10.21105/joss.05466
&lt;https://doi.org/10.21105/joss.05466&gt;, &lt;https://doi.org/10.21105/joss.05466&gt;.
  - Therneau T (2023). _A Package for Survival Analysis in R_. R package version
3.5-7, &lt;https://CRAN.R-project.org/package=survival&gt;. Terry M. Therneau,
Patricia M. Grambsch (2000). _Modeling Survival Data: Extending the Cox Model_.
Springer, New York. ISBN 0-387-98784-3.
  - Wickham H (2016). _ggplot2: Elegant Graphics for Data Analysis_.
Springer-Verlag New York. ISBN 978-3-319-24277-4,
&lt;https://ggplot2.tidyverse.org&gt;.
  - Wickham H (2023). _forcats: Tools for Working with Categorical Variables
(Factors)_. R package version 1.0.0,
&lt;https://CRAN.R-project.org/package=forcats&gt;.
  - Wickham H (2023). _stringr: Simple, Consistent Wrappers for Common String
Operations_. R package version 1.5.1,
&lt;https://CRAN.R-project.org/package=stringr&gt;.
  - Wickham H, Averick M, Bryan J, Chang W, McGowan LD, François R, Grolemund G,
Hayes A, Henry L, Hester J, Kuhn M, Pedersen TL, Miller E, Bache SM, Müller K,
Ooms J, Robinson D, Seidel DP, Spinu V, Takahashi K, Vaughan D, Wilke C, Woo K,
Yutani H (2019). "Welcome to the tidyverse." _Journal of Open Source Software_,
*4*(43), 1686. doi:10.21105/joss.01686 &lt;https://doi.org/10.21105/joss.01686&gt;.
  - Wickham H, François R, Henry L, Müller K, Vaughan D (2023). _dplyr: A Grammar
of Data Manipulation_. R package version 1.1.3,
&lt;https://CRAN.R-project.org/package=dplyr&gt;.
  - Wickham H, Henry L (2023). _purrr: Functional Programming Tools_. R package
version 1.0.2, &lt;https://CRAN.R-project.org/package=purrr&gt;.
  - Wickham H, Hester J, Bryan J (2023). _readr: Read Rectangular Text Data_. R
package version 2.1.4, &lt;https://CRAN.R-project.org/package=readr&gt;.
  - Wickham H, Vaughan D, Girlich M (2023). _tidyr: Tidy Messy Data_. R package
version 1.3.0, &lt;https://CRAN.R-project.org/package=tidyr&gt;.
  - Zhu H (2021). _kableExtra: Construct Complex Table with 'kable' and Pipe
Syntax_. R package version 1.3.4,
&lt;https://CRAN.R-project.org/package=kableExtra&gt;.</code></pre>
</div>
</div>


</section>

</main> <!-- /main -->
<script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();  
  const icon = "";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const isCodeAnnotation = (el) => {
    for (const clz of el.classList) {
      if (clz.startsWith('code-annotation-')) {                     
        return true;
      }
    }
    return false;
  }
  const clipboard = new window.ClipboardJS('.code-copy-button', {
    text: function(trigger) {
      const codeEl = trigger.previousElementSibling.cloneNode(true);
      for (const childEl of codeEl.children) {
        if (isCodeAnnotation(childEl)) {
          childEl.remove();
        }
      }
      return codeEl.innerText;
    }
  });
  clipboard.on('success', function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "Copied!");
    let tooltip;
    if (window.bootstrap) {
      button.setAttribute("data-bs-toggle", "tooltip");
      button.setAttribute("data-bs-placement", "left");
      button.setAttribute("data-bs-title", "Copied!");
      tooltip = new bootstrap.Tooltip(button, 
        { trigger: "manual", 
          customClass: "code-copy-button-tooltip",
          offset: [0, -8]});
      tooltip.show();    
    }
    setTimeout(function() {
      if (tooltip) {
        tooltip.hide();
        button.removeAttribute("data-bs-title");
        button.removeAttribute("data-bs-toggle");
        button.removeAttribute("data-bs-placement");
      }
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  });
  function tippyHover(el, contentFn) {
    const config = {
      allowHTML: true,
      content: contentFn,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start'
    };
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      // use id or data attribute instead here
      let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      return note.innerHTML;
    });
  }
      let selectedAnnoteEl;
      const selectorForAnnotation = ( cell, annotation) => {
        let cellAttr = 'data-code-cell="' + cell + '"';
        let lineAttr = 'data-code-annotation="' +  annotation + '"';
        const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
        return selector;
      }
      const selectCodeLines = (annoteEl) => {
        const doc = window.document;
        const targetCell = annoteEl.getAttribute("data-target-cell");
        const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
        const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
        const lines = annoteSpan.getAttribute("data-code-lines").split(",");
        const lineIds = lines.map((line) => {
          return targetCell + "-" + line;
        })
        let top = null;
        let height = null;
        let parent = null;
        if (lineIds.length > 0) {
            //compute the position of the single el (top and bottom and make a div)
            const el = window.document.getElementById(lineIds[0]);
            top = el.offsetTop;
            height = el.offsetHeight;
            parent = el.parentElement.parentElement;
          if (lineIds.length > 1) {
            const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
            const bottom = lastEl.offsetTop + lastEl.offsetHeight;
            height = bottom - top;
          }
          if (top !== null && height !== null && parent !== null) {
            // cook up a div (if necessary) and position it 
            let div = window.document.getElementById("code-annotation-line-highlight");
            if (div === null) {
              div = window.document.createElement("div");
              div.setAttribute("id", "code-annotation-line-highlight");
              div.style.position = 'absolute';
              parent.appendChild(div);
            }
            div.style.top = top - 2 + "px";
            div.style.height = height + 4 + "px";
            let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
            if (gutterDiv === null) {
              gutterDiv = window.document.createElement("div");
              gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
              gutterDiv.style.position = 'absolute';
              const codeCell = window.document.getElementById(targetCell);
              const gutter = codeCell.querySelector('.code-annotation-gutter');
              gutter.appendChild(gutterDiv);
            }
            gutterDiv.style.top = top - 2 + "px";
            gutterDiv.style.height = height + 4 + "px";
          }
          selectedAnnoteEl = annoteEl;
        }
      };
      const unselectCodeLines = () => {
        const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
        elementsIds.forEach((elId) => {
          const div = window.document.getElementById(elId);
          if (div) {
            div.remove();
          }
        });
        selectedAnnoteEl = undefined;
      };
      // Attach click handler to the DT
      const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
      for (const annoteDlNode of annoteDls) {
        annoteDlNode.addEventListener('click', (event) => {
          const clickedEl = event.target;
          if (clickedEl !== selectedAnnoteEl) {
            unselectCodeLines();
            const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
            if (activeEl) {
              activeEl.classList.remove('code-annotation-active');
            }
            selectCodeLines(clickedEl);
            clickedEl.classList.add('code-annotation-active');
          } else {
            // Unselect the line
            unselectCodeLines();
            clickedEl.classList.remove('code-annotation-active');
          }
        });
      }
  const findCites = (el) => {
    const parentEl = el.parentElement;
    if (parentEl) {
      const cites = parentEl.dataset.cites;
      if (cites) {
        return {
          el,
          cites: cites.split(' ')
        };
      } else {
        return findCites(el.parentElement)
      }
    } else {
      return undefined;
    }
  };
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const citeInfo = findCites(ref);
    if (citeInfo) {
      tippyHover(citeInfo.el, function() {
        var popup = window.document.createElement('div');
        citeInfo.cites.forEach(function(cite) {
          var citeDiv = window.document.createElement('div');
          citeDiv.classList.add('hanging-indent');
          citeDiv.classList.add('csl-entry');
          var biblioDiv = window.document.getElementById('ref-' + cite);
          if (biblioDiv) {
            citeDiv.innerHTML = biblioDiv.innerHTML;
          }
          popup.appendChild(citeDiv);
        });
        return popup.innerHTML;
      });
    }
  }
});
</script>
<nav class="page-navigation">
  <div class="nav-page nav-page-previous">
      <a href="./survival.html" class="pagination-link">
        <i class="bi bi-arrow-left-short"></i> <span class="nav-page-text">SURVIVAL</span>
      </a>          
  </div>
  <div class="nav-page nav-page-next">
      <a href="./lista_6_1.html" class="pagination-link">
        <span class="nav-page-text"><span class="chapter-number">7</span>&nbsp; <span class="chapter-title">Lista 6.1 - Cox tempo dependente</span></span> <i class="bi bi-arrow-right-short"></i>
      </a>
  </div>
</nav>
</div> <!-- /content -->



</body></html>