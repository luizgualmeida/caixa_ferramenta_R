{
  "hash": "e9d66962519d28c8772c3d09e20ac5b7",
  "result": {
    "markdown": "# Lista 6 - Kaplan-Meier e Cox Regression {#sec-lista-6}\n\nTemos os dados de 124 pacientes que estão na fila para um transplante de rim. Temos as variáveis:\n\n-   T_seg -- tempo de seguimento (em meses);\n\n-   tx - fez transplante (sim, não);\n\n-   óbito - morte do paciente (sim, não);\n\n-   t_tx - tempo até o transplante (em meses).\n\nCom base nos dados:\n\n\n\n## Carregando pacotes\n\n\n::: {.cell}\n\n```{.r .cell-code}\nlibrary(tidyverse)\nlibrary(flexplot)\nlibrary(foreign)\nlibrary(dplyr)\nlibrary(tm)\nlibrary(ggplot2)\nlibrary(forcats)\nlibrary(rempsyc)\nlibrary(easystats)\nlibrary(kableExtra)\nlibrary(gtsummary)\n\n#Específicos para survival\nlibrary(survival)\nlibrary(ggsurvfit)\nlibrary(survminer)\nlibrary(broom)\nlibrary(survMisc)\nlibrary(PHInfiniteEstimates)\nlibrary(coin)\nlibrary(condSURV)\n```\n:::\n\n\n## Limpando o ambiente\n\nQuando executamos diversos comandos no R muitas vezes acabamos deixando o ambiente meio \"sujo\". Cheio de variáveis que não estamos mais utilizando, ou pacotes que estão carregados e não serão utilizados no momento.\n\nEm longas sessões utilizando o R é sempre bom dar uma limpada no ambiente entre um projeto e outro. Para isso podemos executar o código abaixo:\n\n\n::: {.cell}\n\n```{.r .cell-code}\n# Limpa o ambiente\nrm(list = ls(all.names = TRUE)) # will clear all objects including hidden objects\ngc() # free up memory and report the memory usage\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n          used  (Mb) gc trigger  (Mb) max used  (Mb)\nNcells 3170881 169.4    4805995 256.7  4805995 256.7\nVcells 5390829  41.2   10154066  77.5  8395055  64.1\n```\n:::\n\n```{.r .cell-code}\noptions(max.print = .Machine$integer.max, scipen = 999, stringsAsFactors = F, dplyr.summarise.inform = F) # avoid truncated output in R console and scientific notation\n\n# Set seed\nset.seed(42)\n```\n:::\n\n\n## Definindo um tema para os gráficos\n\nPreenhcer todos os parâmetros da função ggplot() é uma tarefa morosa e repetitiva. Podemos criar um tema para todos os nossos gráficos e assim manter a consistência nas figuras e não precisar ficar escrevendo toda hora aquele parâmetro para mudar a espessura da linha do eixo X...\n\nUma vez definido o tema, podemos apenas chamá-lo dentro da função ggplot para repetir o padrão. Vamos armazenar todas as informações da padronização em uma variável com o código a seguir:\n\n\n::: {.cell}\n\n```{.r .cell-code}\nmeu_tema <- theme(plot.title = element_text(size = rel(2)),\n                  panel.grid.major.y = element_line(colour = 'gray'),\n                  panel.grid.minor.y = element_line(colour = 'gray'),\n                  panel.grid.major.x = element_blank(),\n                  panel.grid.minor.x = element_blank(),\n                  plot.background = element_rect(fill = NULL, colour = 'white'),\n                  panel.background = element_rect(fill = 'white'),\n                  # Axis stuff\n                  axis.line = element_line(colour = 'black', linewidth = 1),\n                  axis.text = element_text(colour = \"black\", face = 'bold'),\n                  axis.text.x = element_text(size = rel(1)),\n                  axis.text.y = element_text(size = rel(1)),\n                  axis.title = element_text(size = rel(1.2)),\n                  axis.ticks = element_line(colour = 'black', linewidth = 1.2),\n                  # Legend stuff\n                  legend.position = \"bottom\",\n                  legend.margin = margin(6, 6, 6, 6),\n                  legend.title = element_text(face = 'bold'),\n                  legend.background = element_blank(),\n                  legend.box.background = element_rect(colour = \"black\"))\n```\n:::\n\n\nVamos utilizar o tema em nossos gráficos mais adiante!\n\n## Carregando os dados e modificando o tipo de variável {#sec-carrega_dados}\n\nComo de costume, vamos carregar os dados e ver os tipos das variáveis que temos no banco de dados.\n\n\n::: {.cell}\n\n```{.r .cell-code}\noriginal = read.spss(\"teste Cox tempo dep Tx.sav\", to.data.frame=TRUE)\nglimpse(original)\n```\n\n::: {.cell-output .cell-output-stdout}\n```\nRows: 124\nColumns: 5\n$ id    <chr> \"13758618I                     \", \"13750502G                    …\n$ t_seg <dbl> 99, 98, 97, 97, 97, 96, 92, 90, 89, 87, 83, 83, 82, 82, 80, 77, …\n$ t_tx  <dbl> 22, 81, NA, 25, 93, 5, 1, 30, 88, 28, 30, 13, 49, NA, NA, 10, NA…\n$ tx    <fct> sim, sim, não, sim, sim, sim, sim, sim, sim, sim, sim, sim, sim,…\n$ obito <fct> não, não, não, não, não, não, não, não, sim, não, não, não, não,…\n```\n:::\n:::\n\n\n::: callout-warning\n## Cuidado!\n\nA variável do evento (`óbito` em nosso exemplo) PRECISA ser recodificada para uma variável numérica binária, ou seja, 1 e 0 caso queira realizar a análise de sobrevida.\n:::\n\nNa seção @sec-extrasVI, exploraremos as distinções entre conduzir as análises com os fatores \"sim\" e \"não\" versus os números 1 e 0.\n\nInicialmente, ajustaremos a variável para aceitar os valores 1 e 0, representando a ocorrência do evento e a censura, respectivamente. Para isso, empregaremos o operador pipe %\\>% para duplicar a base de dados original e efetuar a modificação no mesmo script. O operador pipe é útil para executar várias operações em uma única sequência de código.\n\n\n::: {.cell}\n\n```{.r .cell-code}\ndb <- original %>%\n  mutate(\n    obito = as.integer(obito == \"sim\") # para transformar sim e não em 1 e 0, respectivamente\n  )\n\nglimpse(db)\n```\n\n::: {.cell-output .cell-output-stdout}\n```\nRows: 124\nColumns: 5\n$ id    <chr> \"13758618I                     \", \"13750502G                    …\n$ t_seg <dbl> 99, 98, 97, 97, 97, 96, 92, 90, 89, 87, 83, 83, 82, 82, 80, 77, …\n$ t_tx  <dbl> 22, 81, NA, 25, 93, 5, 1, 30, 88, 28, 30, 13, 49, NA, NA, 10, NA…\n$ tx    <fct> sim, sim, não, sim, sim, sim, sim, sim, sim, sim, sim, sim, sim,…\n$ obito <int> 0, 0, 0, 0, 0, 0, 0, 0, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0…\n```\n:::\n:::\n\n\nPronto, agora temos que óbito assumiu os valores de números 1 e 0.\n\nOutra análise exploratória importante a fazer nos dados é observar se há dados faltantes (NA) e onde eles estão, caso estejam presentes. Se uma variável tiver muitos NAs, vamos precisar de cautela para inserir a variável na análise.\n\n\n::: {.cell}\n\n```{.r .cell-code}\n# Verificando NAs\ndata.frame(\n  nas_t_seg = sum(is.na(db$t_seg)),\n  nas_t_seg = sum(is.na(db$t_tx)),\n  nas_tx = sum(is.na(db$tx)),\n  nas_obito = sum(is.na(db$obito))\n)\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n  nas_t_seg nas_t_seg.1 nas_tx nas_obito\n1         0          64      0         0\n```\n:::\n:::\n\n::: {.cell .column-page}\n\n```{.r .cell-code}\nkable(report(db))\n```\n\n::: {.cell-output-display}\n`````{=html}\n<table>\n <thead>\n  <tr>\n   <th style=\"text-align:left;\">   </th>\n   <th style=\"text-align:left;\"> Variable </th>\n   <th style=\"text-align:left;\"> Level </th>\n   <th style=\"text-align:right;\"> n_Obs </th>\n   <th style=\"text-align:right;\"> percentage_Obs </th>\n   <th style=\"text-align:right;\"> percentage_Missing </th>\n   <th style=\"text-align:right;\"> Mean </th>\n   <th style=\"text-align:right;\"> SD </th>\n   <th style=\"text-align:right;\"> Median </th>\n   <th style=\"text-align:right;\"> MAD </th>\n   <th style=\"text-align:right;\"> Min </th>\n   <th style=\"text-align:right;\"> Max </th>\n   <th style=\"text-align:right;\"> Skewness </th>\n   <th style=\"text-align:right;\"> Kurtosis </th>\n   <th style=\"text-align:right;\"> n_Entries </th>\n   <th style=\"text-align:right;\"> n_Missing </th>\n  </tr>\n </thead>\n<tbody>\n  <tr>\n   <td style=\"text-align:left;\"> 3 </td>\n   <td style=\"text-align:left;\"> id </td>\n   <td style=\"text-align:left;\"> NA </td>\n   <td style=\"text-align:right;\"> 124 </td>\n   <td style=\"text-align:right;\">  </td>\n   <td style=\"text-align:right;\"> 0.00 </td>\n   <td style=\"text-align:right;\">  </td>\n   <td style=\"text-align:right;\">  </td>\n   <td style=\"text-align:right;\">  </td>\n   <td style=\"text-align:right;\">  </td>\n   <td style=\"text-align:right;\">  </td>\n   <td style=\"text-align:right;\">  </td>\n   <td style=\"text-align:right;\">  </td>\n   <td style=\"text-align:right;\">  </td>\n   <td style=\"text-align:right;\"> 124.00 </td>\n   <td style=\"text-align:right;\"> 0 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:left;\"> 5 </td>\n   <td style=\"text-align:left;\"> t_seg </td>\n   <td style=\"text-align:left;\"> NA </td>\n   <td style=\"text-align:right;\"> 124 </td>\n   <td style=\"text-align:right;\">  </td>\n   <td style=\"text-align:right;\"> 0.00 </td>\n   <td style=\"text-align:right;\"> 45.22 </td>\n   <td style=\"text-align:right;\"> 24.08 </td>\n   <td style=\"text-align:right;\"> 42.00 </td>\n   <td style=\"text-align:right;\"> 19.27 </td>\n   <td style=\"text-align:right;\"> 0.00 </td>\n   <td style=\"text-align:right;\"> 99.00 </td>\n   <td style=\"text-align:right;\"> 0.38 </td>\n   <td style=\"text-align:right;\"> -0.19 </td>\n   <td style=\"text-align:right;\">  </td>\n   <td style=\"text-align:right;\">  </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:left;\"> 6 </td>\n   <td style=\"text-align:left;\"> t_tx </td>\n   <td style=\"text-align:left;\"> NA </td>\n   <td style=\"text-align:right;\"> 124 </td>\n   <td style=\"text-align:right;\">  </td>\n   <td style=\"text-align:right;\"> 51.61 </td>\n   <td style=\"text-align:right;\"> 19.90 </td>\n   <td style=\"text-align:right;\"> 20.05 </td>\n   <td style=\"text-align:right;\">  </td>\n   <td style=\"text-align:right;\"> 16.31 </td>\n   <td style=\"text-align:right;\"> 1.00 </td>\n   <td style=\"text-align:right;\"> 93.00 </td>\n   <td style=\"text-align:right;\"> 1.99 </td>\n   <td style=\"text-align:right;\"> 4.70 </td>\n   <td style=\"text-align:right;\">  </td>\n   <td style=\"text-align:right;\">  </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:left;\"> 1 </td>\n   <td style=\"text-align:left;\"> tx </td>\n   <td style=\"text-align:left;\"> sim </td>\n   <td style=\"text-align:right;\"> 60 </td>\n   <td style=\"text-align:right;\"> 48.39 </td>\n   <td style=\"text-align:right;\">  </td>\n   <td style=\"text-align:right;\">  </td>\n   <td style=\"text-align:right;\">  </td>\n   <td style=\"text-align:right;\">  </td>\n   <td style=\"text-align:right;\">  </td>\n   <td style=\"text-align:right;\">  </td>\n   <td style=\"text-align:right;\">  </td>\n   <td style=\"text-align:right;\">  </td>\n   <td style=\"text-align:right;\">  </td>\n   <td style=\"text-align:right;\">  </td>\n   <td style=\"text-align:right;\">  </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:left;\"> 2 </td>\n   <td style=\"text-align:left;\"> tx </td>\n   <td style=\"text-align:left;\"> não </td>\n   <td style=\"text-align:right;\"> 64 </td>\n   <td style=\"text-align:right;\"> 51.61 </td>\n   <td style=\"text-align:right;\">  </td>\n   <td style=\"text-align:right;\">  </td>\n   <td style=\"text-align:right;\">  </td>\n   <td style=\"text-align:right;\">  </td>\n   <td style=\"text-align:right;\">  </td>\n   <td style=\"text-align:right;\">  </td>\n   <td style=\"text-align:right;\">  </td>\n   <td style=\"text-align:right;\">  </td>\n   <td style=\"text-align:right;\">  </td>\n   <td style=\"text-align:right;\">  </td>\n   <td style=\"text-align:right;\">  </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:left;\"> 4 </td>\n   <td style=\"text-align:left;\"> obito </td>\n   <td style=\"text-align:left;\"> NA </td>\n   <td style=\"text-align:right;\"> 124 </td>\n   <td style=\"text-align:right;\">  </td>\n   <td style=\"text-align:right;\"> 0.00 </td>\n   <td style=\"text-align:right;\"> 0.27 </td>\n   <td style=\"text-align:right;\"> 0.45 </td>\n   <td style=\"text-align:right;\"> 0.00 </td>\n   <td style=\"text-align:right;\"> 0.00 </td>\n   <td style=\"text-align:right;\"> 0.00 </td>\n   <td style=\"text-align:right;\"> 1.00 </td>\n   <td style=\"text-align:right;\"> 1.02 </td>\n   <td style=\"text-align:right;\"> -0.97 </td>\n   <td style=\"text-align:right;\">  </td>\n   <td style=\"text-align:right;\">  </td>\n  </tr>\n</tbody>\n</table>\n\n`````\n:::\n:::\n\n\nO número de NAs na variável t_tx é alto (51.61%) pelo simples motivo de que pessoas que não fizeram transplante não possuem a marca do tempo que fizeram o transplante. Em todo caso podemos verificar se existem indivíduos que fizeram o transplante mas não possuem a marca do tempo em que fizeram o transplante.\n\n\n::: {.cell}\n\n```{.r .cell-code}\ndb %>%\n  filter(tx == \"sim\" & is.na(t_tx))\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n[1] id    t_seg t_tx  tx    obito\n<0 linhas> (ou row.names de comprimento 0)\n```\n:::\n:::\n\n\nO código acima filtra os dados de pessoas que fizeram o transplante (tx sim) e que tenham NA na coluna t_tx. Como o resultado volta com zero elementos, podemos concluir que todas as pessoas que fizeram o transplante, possuem a marca do horário em que o transplante foi feito.\n\nNa tabela acima podemos perceber também que a porcentagem de pessoas que não fizeram o transplante (51.61) é a mesma porcentagem de dados faltantes (missing) da variável t_tx (51.61)\n\nPor fim, podemos ver quantas pessoas morreram pela causa de morte do desfecho durante o período de observação.\n\n\n::: {.cell .column-body-inset}\n\n```{.r .cell-code}\nkable(table(db$obito))\n```\n\n::: {.cell-output-display}\n`````{=html}\n<table>\n <thead>\n  <tr>\n   <th style=\"text-align:left;\"> Var1 </th>\n   <th style=\"text-align:right;\"> Freq </th>\n  </tr>\n </thead>\n<tbody>\n  <tr>\n   <td style=\"text-align:left;\"> 0 </td>\n   <td style=\"text-align:right;\"> 90 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:left;\"> 1 </td>\n   <td style=\"text-align:right;\"> 34 </td>\n  </tr>\n</tbody>\n</table>\n\n`````\n:::\n:::\n\n\nLembrando que 1 é o evento, que no nosso exemplo é ocorrência do óbito\n\nVamos agora às análises.\n\n\n## Criando a estrutura de dados\n\nIniciamos especificando para a função `Surv()` as colunas referentes ao tempo observado e aos eventos de interesse, que, neste caso, são os óbitos.\n\n\n::: {.cell}\n\n```{.r .cell-code}\nsurv_obj <- Surv(time = db$t_seg, event = db$obito)\n```\n:::\n\n\n\n## a) Tábua de vida\n\n::: callout-note\n#### Exercício\n\nFaça duas tábuas de vida em função da variável óbito comparando grupos que fizeram ou não transplante: Ambas com período 0 até 99 meses. A primeira dividida em períodos de 20 meses e a segunda com períodos de 1 mês. Faça um parágrafo descrevendo as diferenças nos gráficos.\n:::\n\nAgora vamos criar a tabela de vida. Por enquanto, não faremos a separação dos dados por grupos.\n\n\n::: {.cell}\n\n```{.r .cell-code}\nfit1 <- survfit(surv_obj ~ 1, data = db)\n```\n:::\n\n\nA função `summary()` também pode ser utilizada para verificar os resultados dos modelos de sobrevida.\n\n\n::: {.cell}\n\n```{.r .cell-code}\nsummary(fit1)\n```\n\n::: {.cell-output .cell-output-stdout}\n```\nCall: survfit(formula = surv_obj ~ 1, data = db)\n\n time n.risk n.event survival std.err lower 95% CI upper 95% CI\n    0    124       2    0.984  0.0113        0.962        1.000\n    3    121       2    0.968  0.0159        0.937        0.999\n    4    119       2    0.951  0.0194        0.914        0.990\n    6    117       1    0.943  0.0208        0.903        0.985\n    8    116       2    0.927  0.0234        0.882        0.974\n   11    114       1    0.919  0.0246        0.872        0.968\n   13    113       1    0.911  0.0257        0.862        0.962\n   16    110       1    0.902  0.0268        0.851        0.956\n   19    108       1    0.894  0.0278        0.841        0.950\n   24    106       2    0.877  0.0297        0.821        0.937\n   25    104       1    0.869  0.0306        0.811        0.931\n   26    103       1    0.860  0.0314        0.801        0.924\n   27    102       1    0.852  0.0323        0.791        0.917\n   29    101       1    0.843  0.0330        0.781        0.911\n   34     89       3    0.815  0.0358        0.748        0.888\n   36     82       1    0.805  0.0367        0.736        0.880\n   38     70       1    0.794  0.0379        0.723        0.871\n   40     68       1    0.782  0.0391        0.709        0.862\n   41     65       2    0.758  0.0414        0.681        0.844\n   44     59       1    0.745  0.0427        0.666        0.834\n   45     55       1    0.731  0.0440        0.650        0.823\n   46     53       1    0.718  0.0453        0.634        0.812\n   49     47       1    0.702  0.0468        0.616        0.800\n   58     32       1    0.680  0.0502        0.589        0.786\n   66     24       1    0.652  0.0556        0.552        0.771\n   89      9       1    0.580  0.0843        0.436        0.771\n```\n:::\n:::\n\n\nE a função função `tidy_survfit()` nos oferece uma tabela bem mais completa.\n\n\n::: {.cell}\n\n```{.r .cell-code}\ntidy_survfit(fit1)\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n# A tibble: 63 × 14\n    time n.risk n.event n.censor cum.event cum.censor estimate std.error\n   <dbl>  <dbl>   <dbl>    <dbl>     <dbl>      <dbl>    <dbl>     <dbl>\n 1     0    124       2        1         2          1    0.984    0.0115\n 2     3    121       2        0         4          1    0.968    0.0165\n 3     4    119       2        0         6          1    0.951    0.0204\n 4     6    117       1        0         7          1    0.943    0.0221\n 5     8    116       2        0         9          1    0.927    0.0253\n 6    11    114       1        0        10          1    0.919    0.0268\n 7    13    113       1        0        11          1    0.911    0.0282\n 8    14    112       0        1        11          2    0.911    0.0282\n 9    15    111       0        1        11          3    0.911    0.0282\n10    16    110       1        0        12          3    0.902    0.0297\n# ℹ 53 more rows\n# ℹ 6 more variables: conf.high <dbl>, conf.low <dbl>, estimate_type <chr>,\n#   estimate_type_label <chr>, monotonicity_type <chr>, conf.level <dbl>\n```\n:::\n:::\n\n\n\n\n## b) Kaplan-Meier\n\n::: callout-note\n#### Exercício\n\nFaça uma curva de Kaplan-meyer comparando os grupos que fizeram vs não fizeram transplante em relação ao óbito. Analise o gráfico e as saídas do teste.\n:::\n\nPara produzir um gráfico Kaplan-Meier simples podemos utilizar a função `plot()`.\n\n\n::: {.cell}\n\n```{.r .cell-code}\nplot(fit1)\n```\n\n::: {.cell-output-display}\n![](lista_6_files/figure-html/unnamed-chunk-14-1.png){width=672}\n:::\n:::\n\n\nMeio pobrezinho e sem cor ne?\n\nPodemos melhorar utilizando a função `ggsurvfit()`, do pacote com o mesmo nome.\n\n\n::: {.cell}\n\n```{.r .cell-code}\nfit1_km = ggsurvfit(fit1, linewidth = 1) +\n  labs(x = 'Dias', y = 'Overall survival') +\n  add_confidence_interval() +\n  add_risktable() +\n  scale_ggsurvfit() \n\nfit1_km\n```\n\n::: {.cell-output-display}\n![](lista_6_files/figure-html/unnamed-chunk-15-1.png){width=672}\n:::\n:::\n\n\nAté aqui estamos vendo o gráfico da sobrevida sem separar por grupos. A seguir vamos comparar entre os grupos que receberam ou não o transplante de rins.\n\n## Separando por transplante e nos tempos 0, 20, 40, 60, 80\n\nQueremos comparar a sobrevida entre quem fez e não fez o transplante. Para isso podemos especificar no modelo que o transplante (tx) será uma das variáveis independentes.\n\n\n::: {.cell}\n\n```{.r .cell-code}\nfit2 = survfit(surv_obj ~ tx, # basta colocar tx como uma variável preditora no modelo\n               data = db) \n\n\nsummary(fit2)\n```\n\n::: {.cell-output .cell-output-stdout}\n```\nCall: survfit(formula = surv_obj ~ tx, data = db)\n\n                tx=sim \n time n.risk n.event survival std.err lower 95% CI upper 95% CI\n    3     59       1    0.983  0.0168        0.951        1.000\n    4     58       1    0.966  0.0236        0.921        1.000\n   24     57       1    0.949  0.0286        0.895        1.000\n   26     56       1    0.932  0.0327        0.870        0.999\n   29     55       1    0.915  0.0363        0.847        0.989\n   38     44       1    0.894  0.0410        0.818        0.978\n   41     41       1    0.873  0.0454        0.788        0.966\n   45     37       1    0.849  0.0499        0.757        0.953\n   49     32       1    0.823  0.0550        0.722        0.938\n   66     19       1    0.779  0.0670        0.658        0.922\n   89      8       1    0.682  0.1083        0.499        0.931\n\n                tx=não \n time n.risk n.event survival std.err lower 95% CI upper 95% CI\n    0     64       2    0.969  0.0217        0.927        1.000\n    3     62       1    0.953  0.0264        0.903        1.000\n    4     61       1    0.938  0.0303        0.880        0.999\n    6     60       1    0.922  0.0335        0.858        0.990\n    8     59       2    0.891  0.0390        0.817        0.970\n   11     57       1    0.875  0.0413        0.798        0.960\n   13     56       1    0.859  0.0435        0.778        0.949\n   16     53       1    0.843  0.0456        0.758        0.937\n   19     51       1    0.827  0.0476        0.738        0.925\n   24     49       1    0.810  0.0495        0.718        0.913\n   25     48       1    0.793  0.0513        0.699        0.900\n   27     47       1    0.776  0.0529        0.679        0.887\n   34     38       3    0.715  0.0594        0.607        0.841\n   36     35       1    0.694  0.0611        0.584        0.825\n   40     26       1    0.668  0.0643        0.553        0.806\n   41     24       1    0.640  0.0674        0.520        0.786\n   44     21       1    0.609  0.0707        0.485        0.765\n   46     18       1    0.575  0.0745        0.447        0.742\n   58     11       1    0.523  0.0841        0.382        0.717\n```\n:::\n:::\n\n\nA função `summary()` aceita um parâmetro com intervalos específicos para aparecer nos resultados. Vamos utilizar a função `seq()` para criar uma sequência de números que vai do 0 ao 100 com intervalos de 20 em 20.\n\n\n::: {.cell}\n\n```{.r .cell-code}\n# Cria o intervalo de tempo\n\ntempos_específicos <- seq(0, 100, by = 20) # sequencia de 0 a 100 em intervalos de 20.\n```\n:::\n\n\nAplicando o intervalo na função temos o seguinte script:\n\n\n::: {.cell}\n\n```{.r .cell-code}\nsummary(fit2, times = tempos_específicos)\n```\n\n::: {.cell-output .cell-output-stdout}\n```\nCall: survfit(formula = surv_obj ~ tx, data = db)\n\n                tx=sim \n time n.risk n.event survival std.err lower 95% CI upper 95% CI\n    0     60       0    1.000  0.0000        1.000        1.000\n   20     57       2    0.966  0.0236        0.921        1.000\n   40     42       4    0.894  0.0410        0.818        0.978\n   60     21       3    0.823  0.0550        0.722        0.938\n   80     12       1    0.779  0.0670        0.658        0.922\n\n                tx=não \n time n.risk n.event survival std.err lower 95% CI upper 95% CI\n    0     64       2    0.969  0.0217        0.927        1.000\n   20     50       9    0.827  0.0476        0.738        0.925\n   40     26       8    0.668  0.0643        0.553        0.806\n   60      7       4    0.523  0.0841        0.382        0.717\n   80      3       0    0.523  0.0841        0.382        0.717\n```\n:::\n:::\n\n\nPodemos nos perguntar também qual é a probabilidade de sobreviver após um certo tempo. Para obter a resposta basta ajustar o parâmetro `times` da função `summary()` para o tempo desejado.\n\n\n::: {.cell}\n\n```{.r .cell-code}\nsummary(fit2, times = 75)\n```\n\n::: {.cell-output .cell-output-stdout}\n```\nCall: survfit(formula = surv_obj ~ tx, data = db)\n\n                tx=sim \n        time       n.risk      n.event     survival      std.err lower 95% CI \n      75.000       14.000       10.000        0.779        0.067        0.658 \nupper 95% CI \n       0.922 \n\n                tx=não \n        time       n.risk      n.event     survival      std.err lower 95% CI \n     75.0000       4.0000      23.0000       0.5232       0.0841       0.3818 \nupper 95% CI \n      0.7169 \n```\n:::\n:::\n\n\nNa análise do tempo de sobrevivência neste modelo, observamos o seguinte:\n\nPara o grupo que **realizou** o transplante (tx=sim):\n\n-   Aos 75 meses, havia 14 indivíduos em risco.\n\n-   10 eventos ocorreram até esse momento.\n\n-   A taxa de sobrevivência foi de 0.779, com um desvio padrão de 0.067.\n\n-   O intervalo de confiança de 95% para a taxa de sobrevivência variou de 0.658 a 0.922.\n\nPara o grupo que **não realizou** o transplante (tx=não):\n\n-   Aos 75 meses, havia 4 indivíduos em risco.\n\n-   23 eventos ocorreram até esse momento.\n\n-   A taxa de sobrevivência foi de 0.5232, com um desvio padrão de 0.0841.\n\n-   O intervalo de confiança de 95% para a taxa de sobrevivência variou de 0.3818 a 0.7169.\n\nPodemos ainda calcular quantas vezes a probabilidade de sobrevivência é maior no grupo que realizou o transplante em comparação com o grupo que não o fez.\n\n\n::: {.cell}\n\n```{.r .cell-code}\nsummary(fit2, times = 75)$surv[1] / summary(fit2, times = 75)$surv[2]\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n[1] 1.489431\n```\n:::\n:::\n\n\nO resultado revela que a probabilidade de sobrevivência no grupo que fez o transplante é aproximadamente 1.5 vezes maior do que no grupo que não o realizou.\n\n### Kaplan-Meir do novo modelo\n\nVamos salvar o plot padrão do segundo modelo para adicionar mais alguns parâmetros e incrementar a visualização dos resultados.\n\n\n::: {.cell}\n\n```{.r .cell-code}\nfit2_km = ggsurvfit(fit2, linewidth = 1) +\n  labs(x = 'Tempo (meses)', y = '% Probabilidade de sobrevivência') +\n  add_confidence_interval() +\n  #add_risktable() + \n  scale_ggsurvfit() \n\nfit2_km\n```\n\n::: {.cell-output-display}\n![](lista_6_files/figure-html/unnamed-chunk-21-1.png){width=672}\n:::\n:::\n\n\nCom o plot salvo, podemos adicionar mais elementos aos poucos, como as linhas tracejadas para enfatizar diferenças.\n\n\n::: {.cell}\n\n```{.r .cell-code}\nfit2_km +\n  geom_vline(xintercept = 75, \n             linetype = 'dashed', \n             colour = 'red', \n             size = 1) + # adiciona a linha vermelha vertical \n  geom_hline(yintercept = summary(fit2, times = 75)$surv, \n             linetype = 'dashed', \n             colour = 'red', size = 1) # adiciona as linhas vermelhas horizontais.\n```\n\n::: {.cell-output-display}\n![](lista_6_files/figure-html/unnamed-chunk-22-1.png){width=672}\n:::\n:::\n\n\n### Porcentagem fixa, tempos diferentes\n\nA função ggsurvfit oferece vários parâmetros interessantes. Um deles, bastante útil, permite traçar uma linha para comparar o tempo em que a probabilidade de sobrevivência X ocorre entre grupos diferentes.\n\nEm quanto tempo será que a probabilidade de sobrevida chega a 75% nos dois grupos? Vamos utilizar o parâmetro `add_quantile()` para ter uma estimativa gráfica.\n\n\n::: {.cell}\n\n```{.r .cell-code}\nfit2 %>% \n  ggsurvfit(linewidth = 1) +\n  labs(x = 'Tempo (meses)', y = '% Probabilidade de sobrevivência') +\n  add_confidence_interval() +\n  #  add_risktable() +\n  add_quantile(y_value = 0.75, color = \"gray50\", linewidth = 0.75) +\n  scale_ggsurvfit()\n```\n\n::: {.cell-output-display}\n![](lista_6_files/figure-html/unnamed-chunk-23-1.png){width=672}\n:::\n:::\n\n\nAo examinarmos a imagem, observamos que o grupo que não passou pelo transplante atinge uma probabilidade de sobrevida de 75% em aproximadamente 35 meses. Por outro lado, no grupo que se submeteu ao transplante, essa mesma probabilidade só ocorre por volta do 90º mês, sendo ainda maior antes desse período.\n\n### Escolhendo um intervalo de tempo\n\nCaso você queira apresentar apenas um período específico de tempo em sua análise, podemos fazer isso utilizando o parâmetro `coord_cartesian()`.\n\n\n::: {.cell}\n\n```{.r .cell-code}\nggsurvfit(fit2, linewidth = 1) +\n  labs(x = 'Tempo (meses)', y = '% Probabilidade de sobrevivência') +\n  add_confidence_interval() +\n  # add_risktable() +\n  scale_ggsurvfit() + \n  coord_cartesian(xlim = c(0, 60)) # coloque os números que\n```\n\n::: {.cell-output-display}\n![](lista_6_files/figure-html/unnamed-chunk-24-1.png){width=672}\n:::\n:::\n\n\nPersonalize os limites do intervalo de tempo em sua análise ajustando os valores \"0\" e \"60\", de acordo com suas necessidades específicas.\n\n## Comparando as curvas\n\n-   Log-rank: utilizar para comparar o primeiro terço do gráfico\n\n-   Gehan: utilizar para comparar o meio do gráfico\n\n-   Tarone: utilizar para comparar o final do gráfico\n\n-   Peto-Peto: parecido com o Log-rank, utilizar para comparar o primeiro terço do gráfico\n\nPacote mais indicado para utilizar é o `coin`.\n\n### Tipos de testes possíveis\n\n\"logrank\", \"Gehan-Breslow\", \"Tarone-Ware\", \"Peto-Peto\", \"Prentice\", \"Prentice-Marek\", \"Andersen-Borgan-Gill-Keiding\", \"Fleming-Harrington\", \"Gaugler-Kim-Liao\", \"Self\"\n\n#### Log-rank\n\n\n::: {.cell}\n\n```{.r .cell-code}\ncoin::logrank_test(surv_obj ~ tx, data = db, type = \"logrank\" ) # padrão é o log-rank\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n\n\tAsymptotic Two-Sample Logrank Test\n\ndata:  surv_obj by tx (sim, não)\nZ = 2.9275, p-value = 0.003417\nalternative hypothesis: true theta is not equal to 1\n```\n:::\n:::\n\n\n#### Gehan-Breslow\n\n\n::: {.cell}\n\n```{.r .cell-code}\ncoin::logrank_test(surv_obj ~ tx ,data = db, type = \"Gehan-Breslow\")\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n\n\tAsymptotic Two-Sample Gehan-Breslow Test\n\ndata:  surv_obj by tx (sim, não)\nZ = 3.0103, p-value = 0.00261\nalternative hypothesis: true theta is not equal to 1\n```\n:::\n:::\n\n\n#### Tarone-Ware\n\n\n::: {.cell}\n\n```{.r .cell-code}\ncoin::logrank_test(surv_obj ~ tx ,data = db, type = \"Tarone-Ware\")\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n\n\tAsymptotic Two-Sample Tarone-Ware Test\n\ndata:  surv_obj by tx (sim, não)\nZ = 3.0338, p-value = 0.002415\nalternative hypothesis: true theta is not equal to 1\n```\n:::\n:::\n\n\n#### Peto-Peto\n\n\n::: {.cell}\n\n```{.r .cell-code}\ncoin::logrank_test(surv_obj ~ tx ,data = db, type = \"Peto-Peto\")\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n\n\tAsymptotic Two-Sample Peto-Peto Test\n\ndata:  surv_obj by tx (sim, não)\nZ = 2.9857, p-value = 0.002829\nalternative hypothesis: true theta is not equal to 1\n```\n:::\n:::\n\n\nEm todos os testes a hipótese alternativa sugere que o verdadeiro parâmetro theta não é igual a 1, indicando assim que há diferenças significativas nas curvas de sobrevida entre os dois grupos analisados. Em termos práticos, isso sugere que a probabilidade de sobrevivência varia de maneira estatisticamente significativa entre os grupos que fizeram ou não o transplante.\n\n## c) Cox Regression\n\n::: callout-note\n#### Exercício\n\nReproduza a análise do item b) com uma Cox Regression. Descreva os resultados\n:::\n\nCompare com base no resultado da Cox, qual seria a diferença na sobrevida (HR) entre uma pessoa que fez e outra que não fez transplante com 50 meses de observação\n\nA Regressão de Cox é uma técnica estatística utilizada para analisar a relação entre variáveis explicativas e o tempo até um evento ocorrer, como a morte. Ao contrário de modelos de regressão linear, a Regressão de Cox lida com dados de sobrevida, levando em consideração o tempo até o evento ou a censura. O código apresentado realiza uma Regressão de Cox com a função `coxph()`.\n\n\n::: {.cell}\n\n```{.r .cell-code}\n# Cox regression ======================================================\n# Fit the model\ncox_res <- coxph(Surv(time = db$t_seg, event = db$obito) ~ tx, data = db)\n```\n:::\n\n\nO código acima ajusta o modelo de Regressão de Cox. A variável dependente é definida como o tempo (t_seg) até o evento (obito) ocorrer, e a variável independente é tx.\n\nNotem que dentro da função `coxph()`, repetimos o código para gerar a tabela de vida.Durante a criação da estrutura dos dados, armazenamos a tabela de vida em uma variável chamada `surv_obj`. Podemos reutilizá-la na Regressão de Cox, evitando a necessidade de reescrever o código.\n\nVamos fazer isso!\n\n\n::: {.cell}\n\n```{.r .cell-code}\ncox_res_2 = coxph(surv_obj ~ tx, data = db)\n```\n:::\n\n\nBem mais limpo, não? E como vamos escrever mais alguns modelos, é uma boa prática salvar o padrão que se repete em uma variável.\n\n### Resultados dos modelos\n\nSabe qual função vamos utilizar para verificar o resultado? Sim, a `summary()`.\n\nPrimeiro vamos verificar se as duas formas que escrevemos os modelos geram os mesmos resultados.\n\n\n::: {.cell}\n\n```{.r .cell-code}\nsummary(cox_res)\n```\n\n::: {.cell-output .cell-output-stdout}\n```\nCall:\ncoxph(formula = Surv(time = db$t_seg, event = db$obito) ~ tx, \n    data = db)\n\n  n= 124, number of events= 34 \n\n        coef exp(coef) se(coef)     z Pr(>|z|)   \ntxnão 1.0787    2.9409   0.3753 2.874  0.00405 **\n---\nSignif. codes:  0 '***' 0.001 '**' 0.01 '*' 0.05 '.' 0.1 ' ' 1\n\n      exp(coef) exp(-coef) lower .95 upper .95\ntxnão     2.941       0.34     1.409     6.136\n\nConcordance= 0.638  (se = 0.04 )\nLikelihood ratio test= 8.99  on 1 df,   p=0.003\nWald test            = 8.26  on 1 df,   p=0.004\nScore (logrank) test = 9.01  on 1 df,   p=0.003\n```\n:::\n:::\n\n\n------------------------------------------------------------------------\n\n\n::: {.cell}\n\n```{.r .cell-code}\nsummary(cox_res_2)\n```\n\n::: {.cell-output .cell-output-stdout}\n```\nCall:\ncoxph(formula = surv_obj ~ tx, data = db)\n\n  n= 124, number of events= 34 \n\n        coef exp(coef) se(coef)     z Pr(>|z|)   \ntxnão 1.0787    2.9409   0.3753 2.874  0.00405 **\n---\nSignif. codes:  0 '***' 0.001 '**' 0.01 '*' 0.05 '.' 0.1 ' ' 1\n\n      exp(coef) exp(-coef) lower .95 upper .95\ntxnão     2.941       0.34     1.409     6.136\n\nConcordance= 0.638  (se = 0.04 )\nLikelihood ratio test= 8.99  on 1 df,   p=0.003\nWald test            = 8.26  on 1 df,   p=0.004\nScore (logrank) test = 9.01  on 1 df,   p=0.003\n```\n:::\n:::\n\n\n------------------------------------------------------------------------\n\nBoa! Os resultados são idênticos, então podemos manter o padrão de escrevr o modelo utilizando a tábua de vida salva em uma variável.\n\nEmbora o resultado da função summary() para modelos de Regressão de Cox possa não ser visualmente atraente, ele oferece informações detalhadas sobre como o modelo se ajusta aos dados. Vamos analisar cada componente separadamente:\n\n1.  **Sumário do Modelo:**\n\n    -   **Call**: Indica a chamada da função utilizada para ajustar o modelo.\n\n    -   **n= 124, number of events= 34:** Informa o número total de observações (n) e o número de eventos ocorridos (number of events).\n\n2.  **Coeficientes:**\n\n    -   **coef:** O coeficiente estimado para a variável tx.\n\n    -   **exp(coef):** A interpretação deste valor é que, para pessoas do grupo que não fizeram o transplante (txnão), o risco de o evento (morte) ocorrer aumenta em 2.941 vezes.\n\n    -   **se(coef):** O erro padrão do coeficiente.\n\n3.  **Teste de Hipótese para Coeficientes:**\n\n    -   **z:** O valor z do teste de Wald, indicando quão longe o coeficiente está da média em termos de erros padrão.\n\n    -   **Pr(\\>\\|z\\|):** O p-valor associado ao teste de Wald. No exemplo, 0.00405 sugere que o efeito da variável tx é estatisticamente significativo.\n\n    -   **Significância codes:** \\*\\* indica significância a 0.01.\n\n4.  **Intervalo de Confiança para Exp(Coef):**\n\n    -   **exp(coef) exp(-coef) lower .95 upper .95:** O intervalo de confiança de 95% para o efeito da variável tx.\n\n5.  **Medidas de Desempenho do Modelo:**\n\n    -   **Concordance= 0.638:** A concordância é uma medida de quão bem o modelo prevê a ordem de eventos.\n\n    -   **Likelihood ratio test= 8.99, p=0.003:** O teste de razão de verossimilhança avalia se o modelo é significativamente melhor do que um modelo nulo. O p-valor sugere que o modelo é estatisticamente significativo.\n\n    -   **Wald test= 8.26, p=0.004:** O teste de Wald também avalia a significância global do modelo.\n\n    -   **Score (logrank) test= 9.01, p=0.003:** O teste de log-rank compara as curvas de sobrevivência entre os grupos.\n\nE claro que temos formas melhores de visualizar e mostrar os dados mais importantes. Vamos utilizar a função `tbl_regression()` do pacote `gtsummary`, que pega um objeto de modelo de regressão e retorna uma tabela formatada pronta para publicação.\n\n\n::: {.cell}\n\n```{.r .cell-code}\ntbl_regression(cox_res, exponentiate = TRUE)\n```\n\n::: {.cell-output-display}\n```{=html}\n<div id=\"qeayjdrzqo\" style=\"padding-left:0px;padding-right:0px;padding-top:10px;padding-bottom:10px;overflow-x:auto;overflow-y:auto;width:auto;height:auto;\">\n<style>#qeayjdrzqo table {\n  font-family: system-ui, 'Segoe UI', Roboto, Helvetica, Arial, sans-serif, 'Apple Color Emoji', 'Segoe UI Emoji', 'Segoe UI Symbol', 'Noto Color Emoji';\n  -webkit-font-smoothing: antialiased;\n  -moz-osx-font-smoothing: grayscale;\n}\n\n#qeayjdrzqo thead, #qeayjdrzqo tbody, #qeayjdrzqo tfoot, #qeayjdrzqo tr, #qeayjdrzqo td, #qeayjdrzqo th {\n  border-style: none;\n}\n\n#qeayjdrzqo p {\n  margin: 0;\n  padding: 0;\n}\n\n#qeayjdrzqo .gt_table {\n  display: table;\n  border-collapse: collapse;\n  line-height: normal;\n  margin-left: auto;\n  margin-right: auto;\n  color: #333333;\n  font-size: 16px;\n  font-weight: normal;\n  font-style: normal;\n  background-color: #FFFFFF;\n  width: auto;\n  border-top-style: solid;\n  border-top-width: 2px;\n  border-top-color: #A8A8A8;\n  border-right-style: none;\n  border-right-width: 2px;\n  border-right-color: #D3D3D3;\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #A8A8A8;\n  border-left-style: none;\n  border-left-width: 2px;\n  border-left-color: #D3D3D3;\n}\n\n#qeayjdrzqo .gt_caption {\n  padding-top: 4px;\n  padding-bottom: 4px;\n}\n\n#qeayjdrzqo .gt_title {\n  color: #333333;\n  font-size: 125%;\n  font-weight: initial;\n  padding-top: 4px;\n  padding-bottom: 4px;\n  padding-left: 5px;\n  padding-right: 5px;\n  border-bottom-color: #FFFFFF;\n  border-bottom-width: 0;\n}\n\n#qeayjdrzqo .gt_subtitle {\n  color: #333333;\n  font-size: 85%;\n  font-weight: initial;\n  padding-top: 3px;\n  padding-bottom: 5px;\n  padding-left: 5px;\n  padding-right: 5px;\n  border-top-color: #FFFFFF;\n  border-top-width: 0;\n}\n\n#qeayjdrzqo .gt_heading {\n  background-color: #FFFFFF;\n  text-align: center;\n  border-bottom-color: #FFFFFF;\n  border-left-style: none;\n  border-left-width: 1px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 1px;\n  border-right-color: #D3D3D3;\n}\n\n#qeayjdrzqo .gt_bottom_border {\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n}\n\n#qeayjdrzqo .gt_col_headings {\n  border-top-style: solid;\n  border-top-width: 2px;\n  border-top-color: #D3D3D3;\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n  border-left-style: none;\n  border-left-width: 1px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 1px;\n  border-right-color: #D3D3D3;\n}\n\n#qeayjdrzqo .gt_col_heading {\n  color: #333333;\n  background-color: #FFFFFF;\n  font-size: 100%;\n  font-weight: normal;\n  text-transform: inherit;\n  border-left-style: none;\n  border-left-width: 1px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 1px;\n  border-right-color: #D3D3D3;\n  vertical-align: bottom;\n  padding-top: 5px;\n  padding-bottom: 6px;\n  padding-left: 5px;\n  padding-right: 5px;\n  overflow-x: hidden;\n}\n\n#qeayjdrzqo .gt_column_spanner_outer {\n  color: #333333;\n  background-color: #FFFFFF;\n  font-size: 100%;\n  font-weight: normal;\n  text-transform: inherit;\n  padding-top: 0;\n  padding-bottom: 0;\n  padding-left: 4px;\n  padding-right: 4px;\n}\n\n#qeayjdrzqo .gt_column_spanner_outer:first-child {\n  padding-left: 0;\n}\n\n#qeayjdrzqo .gt_column_spanner_outer:last-child {\n  padding-right: 0;\n}\n\n#qeayjdrzqo .gt_column_spanner {\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n  vertical-align: bottom;\n  padding-top: 5px;\n  padding-bottom: 5px;\n  overflow-x: hidden;\n  display: inline-block;\n  width: 100%;\n}\n\n#qeayjdrzqo .gt_spanner_row {\n  border-bottom-style: hidden;\n}\n\n#qeayjdrzqo .gt_group_heading {\n  padding-top: 8px;\n  padding-bottom: 8px;\n  padding-left: 5px;\n  padding-right: 5px;\n  color: #333333;\n  background-color: #FFFFFF;\n  font-size: 100%;\n  font-weight: initial;\n  text-transform: inherit;\n  border-top-style: solid;\n  border-top-width: 2px;\n  border-top-color: #D3D3D3;\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n  border-left-style: none;\n  border-left-width: 1px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 1px;\n  border-right-color: #D3D3D3;\n  vertical-align: middle;\n  text-align: left;\n}\n\n#qeayjdrzqo .gt_empty_group_heading {\n  padding: 0.5px;\n  color: #333333;\n  background-color: #FFFFFF;\n  font-size: 100%;\n  font-weight: initial;\n  border-top-style: solid;\n  border-top-width: 2px;\n  border-top-color: #D3D3D3;\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n  vertical-align: middle;\n}\n\n#qeayjdrzqo .gt_from_md > :first-child {\n  margin-top: 0;\n}\n\n#qeayjdrzqo .gt_from_md > :last-child {\n  margin-bottom: 0;\n}\n\n#qeayjdrzqo .gt_row {\n  padding-top: 8px;\n  padding-bottom: 8px;\n  padding-left: 5px;\n  padding-right: 5px;\n  margin: 10px;\n  border-top-style: solid;\n  border-top-width: 1px;\n  border-top-color: #D3D3D3;\n  border-left-style: none;\n  border-left-width: 1px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 1px;\n  border-right-color: #D3D3D3;\n  vertical-align: middle;\n  overflow-x: hidden;\n}\n\n#qeayjdrzqo .gt_stub {\n  color: #333333;\n  background-color: #FFFFFF;\n  font-size: 100%;\n  font-weight: initial;\n  text-transform: inherit;\n  border-right-style: solid;\n  border-right-width: 2px;\n  border-right-color: #D3D3D3;\n  padding-left: 5px;\n  padding-right: 5px;\n}\n\n#qeayjdrzqo .gt_stub_row_group {\n  color: #333333;\n  background-color: #FFFFFF;\n  font-size: 100%;\n  font-weight: initial;\n  text-transform: inherit;\n  border-right-style: solid;\n  border-right-width: 2px;\n  border-right-color: #D3D3D3;\n  padding-left: 5px;\n  padding-right: 5px;\n  vertical-align: top;\n}\n\n#qeayjdrzqo .gt_row_group_first td {\n  border-top-width: 2px;\n}\n\n#qeayjdrzqo .gt_row_group_first th {\n  border-top-width: 2px;\n}\n\n#qeayjdrzqo .gt_summary_row {\n  color: #333333;\n  background-color: #FFFFFF;\n  text-transform: inherit;\n  padding-top: 8px;\n  padding-bottom: 8px;\n  padding-left: 5px;\n  padding-right: 5px;\n}\n\n#qeayjdrzqo .gt_first_summary_row {\n  border-top-style: solid;\n  border-top-color: #D3D3D3;\n}\n\n#qeayjdrzqo .gt_first_summary_row.thick {\n  border-top-width: 2px;\n}\n\n#qeayjdrzqo .gt_last_summary_row {\n  padding-top: 8px;\n  padding-bottom: 8px;\n  padding-left: 5px;\n  padding-right: 5px;\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n}\n\n#qeayjdrzqo .gt_grand_summary_row {\n  color: #333333;\n  background-color: #FFFFFF;\n  text-transform: inherit;\n  padding-top: 8px;\n  padding-bottom: 8px;\n  padding-left: 5px;\n  padding-right: 5px;\n}\n\n#qeayjdrzqo .gt_first_grand_summary_row {\n  padding-top: 8px;\n  padding-bottom: 8px;\n  padding-left: 5px;\n  padding-right: 5px;\n  border-top-style: double;\n  border-top-width: 6px;\n  border-top-color: #D3D3D3;\n}\n\n#qeayjdrzqo .gt_last_grand_summary_row_top {\n  padding-top: 8px;\n  padding-bottom: 8px;\n  padding-left: 5px;\n  padding-right: 5px;\n  border-bottom-style: double;\n  border-bottom-width: 6px;\n  border-bottom-color: #D3D3D3;\n}\n\n#qeayjdrzqo .gt_striped {\n  background-color: rgba(128, 128, 128, 0.05);\n}\n\n#qeayjdrzqo .gt_table_body {\n  border-top-style: solid;\n  border-top-width: 2px;\n  border-top-color: #D3D3D3;\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n}\n\n#qeayjdrzqo .gt_footnotes {\n  color: #333333;\n  background-color: #FFFFFF;\n  border-bottom-style: none;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n  border-left-style: none;\n  border-left-width: 2px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 2px;\n  border-right-color: #D3D3D3;\n}\n\n#qeayjdrzqo .gt_footnote {\n  margin: 0px;\n  font-size: 90%;\n  padding-top: 4px;\n  padding-bottom: 4px;\n  padding-left: 5px;\n  padding-right: 5px;\n}\n\n#qeayjdrzqo .gt_sourcenotes {\n  color: #333333;\n  background-color: #FFFFFF;\n  border-bottom-style: none;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n  border-left-style: none;\n  border-left-width: 2px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 2px;\n  border-right-color: #D3D3D3;\n}\n\n#qeayjdrzqo .gt_sourcenote {\n  font-size: 90%;\n  padding-top: 4px;\n  padding-bottom: 4px;\n  padding-left: 5px;\n  padding-right: 5px;\n}\n\n#qeayjdrzqo .gt_left {\n  text-align: left;\n}\n\n#qeayjdrzqo .gt_center {\n  text-align: center;\n}\n\n#qeayjdrzqo .gt_right {\n  text-align: right;\n  font-variant-numeric: tabular-nums;\n}\n\n#qeayjdrzqo .gt_font_normal {\n  font-weight: normal;\n}\n\n#qeayjdrzqo .gt_font_bold {\n  font-weight: bold;\n}\n\n#qeayjdrzqo .gt_font_italic {\n  font-style: italic;\n}\n\n#qeayjdrzqo .gt_super {\n  font-size: 65%;\n}\n\n#qeayjdrzqo .gt_footnote_marks {\n  font-size: 75%;\n  vertical-align: 0.4em;\n  position: initial;\n}\n\n#qeayjdrzqo .gt_asterisk {\n  font-size: 100%;\n  vertical-align: 0;\n}\n\n#qeayjdrzqo .gt_indent_1 {\n  text-indent: 5px;\n}\n\n#qeayjdrzqo .gt_indent_2 {\n  text-indent: 10px;\n}\n\n#qeayjdrzqo .gt_indent_3 {\n  text-indent: 15px;\n}\n\n#qeayjdrzqo .gt_indent_4 {\n  text-indent: 20px;\n}\n\n#qeayjdrzqo .gt_indent_5 {\n  text-indent: 25px;\n}\n</style>\n<table class=\"gt_table\" data-quarto-disable-processing=\"false\" data-quarto-bootstrap=\"false\">\n  <thead>\n    \n    <tr class=\"gt_col_headings\">\n      <th class=\"gt_col_heading gt_columns_bottom_border gt_left\" rowspan=\"1\" colspan=\"1\" scope=\"col\" id=\"&lt;strong&gt;Characteristic&lt;/strong&gt;\"><strong>Characteristic</strong></th>\n      <th class=\"gt_col_heading gt_columns_bottom_border gt_center\" rowspan=\"1\" colspan=\"1\" scope=\"col\" id=\"&lt;strong&gt;HR&lt;/strong&gt;&lt;span class=&quot;gt_footnote_marks&quot; style=&quot;white-space:nowrap;font-style:italic;font-weight:normal;&quot;&gt;&lt;sup&gt;1&lt;/sup&gt;&lt;/span&gt;\"><strong>HR</strong><span class=\"gt_footnote_marks\" style=\"white-space:nowrap;font-style:italic;font-weight:normal;\"><sup>1</sup></span></th>\n      <th class=\"gt_col_heading gt_columns_bottom_border gt_center\" rowspan=\"1\" colspan=\"1\" scope=\"col\" id=\"&lt;strong&gt;95% CI&lt;/strong&gt;&lt;span class=&quot;gt_footnote_marks&quot; style=&quot;white-space:nowrap;font-style:italic;font-weight:normal;&quot;&gt;&lt;sup&gt;1&lt;/sup&gt;&lt;/span&gt;\"><strong>95% CI</strong><span class=\"gt_footnote_marks\" style=\"white-space:nowrap;font-style:italic;font-weight:normal;\"><sup>1</sup></span></th>\n      <th class=\"gt_col_heading gt_columns_bottom_border gt_center\" rowspan=\"1\" colspan=\"1\" scope=\"col\" id=\"&lt;strong&gt;p-value&lt;/strong&gt;\"><strong>p-value</strong></th>\n    </tr>\n  </thead>\n  <tbody class=\"gt_table_body\">\n    <tr><td headers=\"label\" class=\"gt_row gt_left\">tx</td>\n<td headers=\"estimate\" class=\"gt_row gt_center\"><br /></td>\n<td headers=\"ci\" class=\"gt_row gt_center\"><br /></td>\n<td headers=\"p.value\" class=\"gt_row gt_center\"><br /></td></tr>\n    <tr><td headers=\"label\" class=\"gt_row gt_left\">    sim</td>\n<td headers=\"estimate\" class=\"gt_row gt_center\">—</td>\n<td headers=\"ci\" class=\"gt_row gt_center\">—</td>\n<td headers=\"p.value\" class=\"gt_row gt_center\"><br /></td></tr>\n    <tr><td headers=\"label\" class=\"gt_row gt_left\">    não</td>\n<td headers=\"estimate\" class=\"gt_row gt_center\">2.94</td>\n<td headers=\"ci\" class=\"gt_row gt_center\">1.41, 6.14</td>\n<td headers=\"p.value\" class=\"gt_row gt_center\">0.004</td></tr>\n  </tbody>\n  \n  <tfoot class=\"gt_footnotes\">\n    <tr>\n      <td class=\"gt_footnote\" colspan=\"4\"><span class=\"gt_footnote_marks\" style=\"white-space:nowrap;font-style:italic;font-weight:normal;\"><sup>1</sup></span> HR = Hazard Ratio, CI = Confidence Interval</td>\n    </tr>\n  </tfoot>\n</table>\n</div>\n```\n:::\n:::\n\n\nPra fazer isso aí no word demoraria uns 30 minutos hein? E ficaria feia ainda. Com uma linha de código fizemos miséria!\n\n### Plots do modelo e do resultado\n\nTendo ajustado um modelo de Cox aos dados, é possível visualizar a proporção de sobrevivência prevista em qualquer momento para um determinado grupo de risco.\n\nNeste caso, construímos um novo banco de dados com duas linhas, uma para cada valor de tx.\n\n\n::: {.cell}\n\n```{.r .cell-code}\ntx_df <- with(db,\n              data.frame(tx = c(\"sim\", \"não\")\n              )\n)\nkable(tx_df)\n```\n\n::: {.cell-output-display}\n`````{=html}\n<table>\n <thead>\n  <tr>\n   <th style=\"text-align:left;\"> tx </th>\n  </tr>\n </thead>\n<tbody>\n  <tr>\n   <td style=\"text-align:left;\"> sim </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:left;\"> não </td>\n  </tr>\n</tbody>\n</table>\n\n`````\n:::\n:::\n\n\nAgora podemos utilizar o nosso modelo para prever os valores de sobrevida e criar um gráfico da Regressão de Cox.\n\n\n::: {.cell}\n\n```{.r .cell-code}\ncox_graph <- survfit(cox_res, newdata = tx_df)\n\nggsurvplot(cox_graph, conf.int = TRUE, legend.labs=c(\"tx=sim\", \"tx=não\"),\n           ggtheme = theme_minimal(),\n           data = db)\n```\n\n::: {.cell-output-display}\n![](lista_6_files/figure-html/unnamed-chunk-35-1.png){width=672}\n:::\n:::\n\n\n::: callout-caution\n## Cuidado!\n\nO gráfico do modelo da Regressão de Cox é diferente do gráfico da Kaplan-Meir! O cálculo da regressão distorce os valores e encaixa o modelo aos dados. Observe a diferença!\n:::\n\n\n::: {.cell}\n\n```{.r .cell-code}\n# Gráfico da Kaplan-Meir\nfit2_km\n```\n\n::: {.cell-output-display}\n![](lista_6_files/figure-html/unnamed-chunk-36-1.png){width=672}\n:::\n:::\n\n\nNão podemos deixar e fora o gráfico do modelo. Com pouca tinta (e pouco código) vamos mostrar tudo o que a função `summary()` nos proporcionou. Para isso vamos utilizar a função `ggforest()` do pacote `survminer`.\n\n\n::: {.cell}\n\n```{.r .cell-code}\nggforest(cox_res, data = db)\n```\n\n::: {.cell-output-display}\n![](lista_6_files/figure-html/unnamed-chunk-37-1.png){width=672}\n:::\n:::\n\n\nSe não escorreu uma lágrima aí do outro lado da tela agora, eu desisto. E olha que utilizamos apenas uma variável independente no modelo!\n\n## Hazard ratio e risco relativo (CONFIRMAR O CONTEÚDO)\n\nVocês repararam que tanto na tabela quanto no gráfico com os resultados no modelo aparece o resultado como \"Hazard Ratio\"... pois bem, isso está errado!\n\n::: callout-warning\n#### Atenção!\n\nO risco relativo compara a probabilidade **cumulativa** de um evento ocorrer entre dois grupos ao longo de um período específico, enquanto o hazard ratio avalia a **razão instantânea** de riscos proporcionais entre os grupos, considerando a variação no risco ao longo do tempo. Enquanto o risco relativo se concentra em eventos cumulativos, o hazard ratio destaca as diferenças nas taxas instantâneas de falha, sendo especialmente útil em análises de sobrevida e estudos onde a dinâmica temporal do risco é crucial.\n:::\n\n## d) Hazard Ratio\n\n::: callout-note\n#### Exercício\n\nCompare com base no resultado da Cox, qual seria a diferença na sobrevida (HR) entre uma pessoa que fez e outra que não fez transplante com 50 meses de observação\n:::\n\nPara de fato calcular o Hazard Ratio precisamos utilizar nosso modelo para prever a sobrevida em um tempo específico de nosso interesse.\n\nVamos começar salvando nosso modelo em uma variável\n\n\n::: {.cell}\n\n```{.r .cell-code}\n# Ajuste do modelo de regressão de Cox\ncox_res <- coxph(Surv(time = t_seg, event = obito) ~ tx, data = db)\n```\n:::\n\n\nAgora vamos criar um conjunto de dados com informações simuladas sobre tempo de seguimento, ocorrência de evento (óbito), e uma variável indicadora de tratamento. Como queremos comparar o tempo de sobrevida entre quem fez ou não o transplante, a única variável que terá valores diferentes será a tx.\n\n\n::: {.cell}\n\n```{.r .cell-code}\npred_dat <- data.frame(t_seg = c(41,41),\n                       obito = c(0,0), \n                       tx = c(\"sim\",\"não\")\n                       )\nkable(pred_dat)\n```\n\n::: {.cell-output-display}\n`````{=html}\n<table>\n <thead>\n  <tr>\n   <th style=\"text-align:right;\"> t_seg </th>\n   <th style=\"text-align:right;\"> obito </th>\n   <th style=\"text-align:left;\"> tx </th>\n  </tr>\n </thead>\n<tbody>\n  <tr>\n   <td style=\"text-align:right;\"> 41 </td>\n   <td style=\"text-align:right;\"> 0 </td>\n   <td style=\"text-align:left;\"> sim </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:right;\"> 41 </td>\n   <td style=\"text-align:right;\"> 0 </td>\n   <td style=\"text-align:left;\"> não </td>\n  </tr>\n</tbody>\n</table>\n\n`````\n:::\n:::\n\n\nA seguir vamos utiliza a função `predict()` para fazer previsões com base em nosso modelo previamente ajustado (cox_res).\n\n\n::: {.cell}\n\n```{.r .cell-code}\npreds <- predict(cox_res, newdata = pred_dat, type = \"survival\", se.fit = TRUE)\n```\n:::\n\n\nSalvamos o resultado da função em uma variável para poder adicionar os resultados das predições em nosso dataframe criado anteriormente (pred_dat). Queremos os resultados da média e do Intervalo de Confiança. Para isso executamos o código a seguir:\n\n\n::: {.cell}\n\n```{.r .cell-code}\npred_dat$prob <- preds$fit\npred_dat$lcl <- preds$fit - 1.96*preds$se.fit\npred_dat$ucl <- preds$fit + 1.96*preds$se.fit\nkable(pred_dat)\n```\n\n::: {.cell-output-display}\n`````{=html}\n<table>\n <thead>\n  <tr>\n   <th style=\"text-align:right;\"> t_seg </th>\n   <th style=\"text-align:right;\"> obito </th>\n   <th style=\"text-align:left;\"> tx </th>\n   <th style=\"text-align:right;\"> prob </th>\n   <th style=\"text-align:right;\"> lcl </th>\n   <th style=\"text-align:right;\"> ucl </th>\n  </tr>\n </thead>\n<tbody>\n  <tr>\n   <td style=\"text-align:right;\"> 41 </td>\n   <td style=\"text-align:right;\"> 0 </td>\n   <td style=\"text-align:left;\"> sim </td>\n   <td style=\"text-align:right;\"> 0.8630231 </td>\n   <td style=\"text-align:right;\"> 0.7805057 </td>\n   <td style=\"text-align:right;\"> 0.9455404 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:right;\"> 41 </td>\n   <td style=\"text-align:right;\"> 0 </td>\n   <td style=\"text-align:left;\"> não </td>\n   <td style=\"text-align:right;\"> 0.6484075 </td>\n   <td style=\"text-align:right;\"> 0.5224067 </td>\n   <td style=\"text-align:right;\"> 0.7744083 </td>\n  </tr>\n</tbody>\n</table>\n\n`````\n:::\n:::\n\n\nPor fim, podemos finalmente verificar o Hazard Ratio no tempo de 41 meses, dividindo a probabilidade de sobrevida do grupo que fez o transplante pela probabilidade de sobrevida do grupo que não fez o transplante.\n\n\n::: {.cell}\n\n```{.r .cell-code}\nHR_41 = pred_dat$prob[1] / pred_dat$prob[2] # Diferença na sobrevida (HR) no tempo 41 meses \nHR_41\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n[1] 1.330989\n```\n:::\n:::\n\n\n------------------------------------------------------------------------\n\nTemos que no tempo de 41 meses a probabilidade de sobrevida de quem não fez o transplante é 1.33 menor do que quem fez o transplante.\n\nCaso tenha interesse em mais pontos, podemos criar vários tempos de interesse em um único dataframe e repetir o código.\n\n\n::: {.cell}\n\n```{.r .cell-code}\nmulti_pred_dat <- data.frame(t_seg = c(41,41, 50, 50, 80, 80),\n                       obito = c(0,0,0,0,0,0), \n                       tx = c(\"sim\",\"não\",\"sim\",\"não\",\"sim\",\"não\")\n                       )\n\npreds <- predict(cox_res, newdata = multi_pred_dat, type = \"survival\", se.fit = TRUE)\n\nmulti_pred_dat$prob <- preds$fit\nmulti_pred_dat$lcl <- preds$fit - 1.96*preds$se.fit\nmulti_pred_dat$ucl <- preds$fit + 1.96*preds$se.fit\n\nHR_41 = multi_pred_dat$prob[1] / multi_pred_dat$prob[2] # 41 \nHR_50 = multi_pred_dat$prob[3] / multi_pred_dat$prob[4] # 50 \nHR_80 = multi_pred_dat$prob[5] / multi_pred_dat$prob[6] # 80 \n\ntabela_HR = data.frame(Tempo = c(41, 50, 80),\n                       HR_Não = c(HR_41, HR_50, HR_80))\nkable(tabela_HR)\n```\n\n::: {.cell-output-display}\n`````{=html}\n<table>\n <thead>\n  <tr>\n   <th style=\"text-align:right;\"> Tempo </th>\n   <th style=\"text-align:right;\"> HR_Não </th>\n  </tr>\n </thead>\n<tbody>\n  <tr>\n   <td style=\"text-align:right;\"> 41 </td>\n   <td style=\"text-align:right;\"> 1.330989 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:right;\"> 50 </td>\n   <td style=\"text-align:right;\"> 1.454309 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:right;\"> 80 </td>\n   <td style=\"text-align:right;\"> 1.597592 </td>\n  </tr>\n</tbody>\n</table>\n\n`````\n:::\n:::\n\n\n## Verificando os pressupostos da Cox regression\n\nA Regressão de Cox é uma técnica robusta, mas, como qualquer método estatístico, possui alguns pressupostos importantes. Os principais pressupostos da Regressão de Cox são:\n\n1.  **Proporcionalidade dos Riscos:**\n\n    -   O pressuposto fundamental é que os riscos relativos entre dois grupos são constantes ao longo do tempo. Em outras palavras, a razão instantânea de riscos (hazard ratio) entre grupos não muda com o tempo. Este é o pressuposto de proporcionalidade dos riscos.\n\n2.  **Independência Censura:**\n\n    -   A censura dos dados deve ser independente da probabilidade de falha. Isso significa que a probabilidade de um evento censurado (ocorrido após o fim do acompanhamento) deve ser a mesma para todos os grupos.\n\n3.  **Linearidade no Logaritmo dos Riscos:**\n\n    -   A relação entre as variáveis independentes e o logaritmo do risco deve ser linear. Isso é crucial para a interpretação dos coeficientes como log-riscos instantâneos.\n\n4.  **Auscência de Colinearidade:**\n\n    -   As variáveis independentes no modelo não devem estar altamente correlacionadas (colinearidade). A colinearidade pode levar a estimativas imprecisas dos coeficientes.\n\n5.  **Ausência de Efeito de Interferência:**\n\n    -   Não deve haver efeito de interferência entre indivíduos, o que significa que o status de um indivíduo não deve influenciar diretamente o tempo de falha de outro indivíduo.\n\n6.  **Adequação do Modelo:**\n\n    -   O modelo escolhido deve ser apropriado para os dados. Avaliações de adequação, como testes de resíduos, podem ser úteis para verificar a qualidade do ajuste do modelo aos dados.\n\nOs pressupostos de 2 a 6 são inerentes ao desenho do experimento e do acompanhamento durante as observações. O único que vamos abordar aqui no tutorial é o de proporcionalidade dos riscos.\n\n### Proporcionalidade dos riscos\n\nTemos duas formas de avaliar a proporcionalidade dos riscos\n\n#### **1) Análise do gráfico da Kaplan-Meier**\n\nAo analisar o gráfico de Kaplan-Meier para diferentes grupos, é crucial observar se as curvas de sobrevivência são aproximadamente paralelas ou se cruzam entre si. Se as curvas são paralelas, isso sugere proporcionalidade dos riscos, indicando que as diferenças nas taxas de falha entre os grupos são constantes ao longo do tempo. No entanto, se as curvas se cruzam, isso indica uma possível violação da proporcionalidade dos riscos.\n\nCruzamentos nas curvas podem indicar mudanças na relação de risco entre os grupos ao longo do tempo. Essa mudança pode ser devido a diferentes dinâmicas de risco em períodos distintos do estudo. Se as curvas se cruzarem, a aplicação da Regressão de Cox não deve ser feita para não gerar interpretações erradas!\n\n\n::: {.cell}\n\n```{.r .cell-code}\nfit2_km\n```\n\n::: {.cell-output-display}\n![](lista_6_files/figure-html/unnamed-chunk-44-1.png){width=672}\n:::\n:::\n\n\nPodemos observar que em nosso exemplo as linhas de sobrevida não cruzam, portanto podemos assumir que os riscos são proporcionais pela análise gráfica.\n\n#### **2) Resíduos de Schoenfeld**\n\nA segunda forma para se avaliar a suposição de proporcionalidade dos riscos na Regressão de Cox vamos utilizar o teste de Schoenfeld, que verifica se há uma relação sistemática entre os resíduos de Schoenfeld e o tempo, o que indicaria uma violação dessa suposição.\n\nA ideia central é que, se os resíduos de Schoenfeld não apresentarem uma relação significativa com o tempo, isso sugere que a proporcionalidade dos riscos é razoável. Logo, a hipótese nula é que não há relação entre os resíduos e o tempo, o que indicaria proporcionalidade dos riscos. O teste estatístico avalia se é razoável rejeitar essa hipótese nula.\n\n::: callout-important\n## Importante!\n\nVamos torcer para o valor de p ser **MAIOR** que 0.05!\n:::\n\nUtilizando a função `cox.zph()` do pacote `survival` temos o seguinte código:\n\n\n::: {.cell}\n\n```{.r .cell-code}\ntest <- survival::cox.zph(cox_res)\ntest\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n       chisq df    p\ntx      0.58  1 0.45\nGLOBAL  0.58  1 0.45\n```\n:::\n:::\n\n\nOk! Temos riscos proporcionais!\n\nOutra forma de verificar a proporcionalidade dos riscos é com o gráfico dos resíduos de Schoenfeld.\n\n\n::: {.cell}\n\n```{.r .cell-code}\n# Plot the Schoenfeld residuals over time for each covariate\nsurvminer::ggcoxzph(test, point.size = 0.1)[1]\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n$`1`\n```\n:::\n\n::: {.cell-output-display}\n![](lista_6_files/figure-html/unnamed-chunk-46-1.png){width=672}\n:::\n:::\n\n\nSe os resíduos mostrarem um padrão claro ao longo do tempo, isso pode indicar uma violação da suposição de riscos proporcionais.\n\nAlgumas dicas para ajudar na interpretação:\n\n-   Sem Padrão (Resíduos Constantes): Se os resíduos aparecerem aleatoriamente espalhados em torno de zero, sem nenhuma tendência ou padrão claro, isso sugere que a suposição de riscos proporcionais é razoável.\n\n-   Tendência Linear: Uma tendência linear (aumentando ou diminuindo) nos resíduos ao longo do tempo pode sugerir uma violação da suposição de riscos proporcionais. Por exemplo, se os resíduos forem consistentemente positivos ou negativos ao longo do tempo, isso indica um efeito dependente do tempo.\n\n-   Padrão Não Linear: Se os resíduos exibirem um padrão não linear ou formatos específicos (por exemplo, formato de U, formato de V), isso pode indicar desvios dos riscos proporcionais.\n\n-   Paralelismo: Paralelismo significa que a propagação e distribuição dos resíduos são relativamente constantes ao longo do tempo. Se os resíduos aumentarem ou diminuirem ao longo do tempo, isso pode sugerir uma violação da suposição.\n\n## Conlcusões\n\nMuito bacana a análise de sobrevida e a Regressão de Cox! Na seção Extras! vamos ver mais algumas formas de plotar os gráficos e avaliar a proporcionalidade dos riscos caso a Variável Independente seja contínua!\n\nPróximo capitulo: Cox tempo-dependente!\n\n## Lista 6 resolvida no SPSS\n\n\n{{< video https://www.youtube.com/watch?v=oyhA4EiE1eM title='Análise Sobrevida I - Kaplan-Meier e Cox Regression - Aula Prática #6' >}}\n\n\n\n## Extras! {#sec-extrasVI}\n\n### Evento como fator ou como número\n\nComo mencionado na seção @sec-carrega_dados, o tipo da variável do evento (morte) afeta os resultados tanto da Kaplan-Meir quanto na Regressão de Cox.\n\nVamos criar alguns modelos utilizando o banco de dados `original` (variável óbito é um fator) e também o `db` (variável óbito é binária, 1 e 0).\n\nVamos começar observando a diferença do tipo da variável nos bancos utilizando a função `glimpse()`:\n\n\n::: {.cell}\n\n```{.r .cell-code}\nglimpse(original$obito)\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n Factor w/ 2 levels \"não\",\"sim\": 1 1 1 1 1 1 1 1 2 1 ...\n```\n:::\n:::\n\n::: {.cell}\n\n```{.r .cell-code}\nglimpse(db$obito)\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n int [1:124] 0 0 0 0 0 0 0 0 1 0 ...\n```\n:::\n:::\n\n\nE tem mais! Temos que lembrar que quando deixamos as variáveis como fatores elas sempre possuem um nível de referência. Já verificamos isso em outros exercícios utilizando a função `levels()`.\n\n\n::: {.cell}\n\n```{.r .cell-code}\nlevels(original$obito)\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n[1] \"não\" \"sim\"\n```\n:::\n:::\n\n\nVeja só! A referência para a variável óbito é o \"não\". Para fins didáditcos vamos criar três modelos:\n\nÓbito como variável binária (banco `db`) Óbito como fator com nível de referência \"não\" (banco `original`) Óbito como fator com nível de referência \"sim\" (banco `original_sim`)\n\n\n::: {.cell}\n\n```{.r .cell-code}\noriginal_sim = original\noriginal_sim$obito = relevel(original_sim$obito, ref = \"sim\")\n```\n:::\n\n\nAgora vamos repetir todo o procedimento já demonstrado no início das análises, utilizando os três bancos de dados.\n\n\n::: {.cell}\n\n```{.r .cell-code}\nsurv_db <- Surv(time = db$t_seg, event = db$obito)\nsurv_oiriginal_não <- Surv(time = original$t_seg, event = original$obito)\nsurv_oiriginal_sim <- Surv(time = original_sim$t_seg, event = original_sim$obito)\n```\n:::\n\n::: {.cell}\n\n```{.r .cell-code}\nfit_db <- survfit(surv_db ~ 1, data = db)\nfit_original_não <- survfit(surv_oiriginal_não ~ 1, data = original)\nfit_original_sim <- survfit(surv_oiriginal_sim ~ 1, data = original_sim)\n```\n:::\n\n::: {.cell}\n\n```{.r .cell-code}\nplot(fit_db)\n```\n\n::: {.cell-output-display}\n![](lista_6_files/figure-html/unnamed-chunk-53-1.png){width=672}\n:::\n\n```{.r .cell-code}\nplot(fit_original_não)\n```\n\n::: {.cell-output-display}\n![](lista_6_files/figure-html/unnamed-chunk-53-2.png){width=672}\n:::\n\n```{.r .cell-code}\nplot(fit_original_sim)\n```\n\n::: {.cell-output-display}\n![](lista_6_files/figure-html/unnamed-chunk-53-3.png){width=672}\n:::\n:::\n\n::: {.cell}\n\n```{.r .cell-code}\nggsurvfit(fit_db, linewidth = 1) +\n  ggtitle(\"Binário\") +\n  labs(x = 'Dias', y = 'Overall survival') +\n  add_confidence_interval() +\n    add_risktable() +\n  scale_ggsurvfit() \n```\n\n::: {.cell-output-display}\n![](lista_6_files/figure-html/unnamed-chunk-54-1.png){width=672}\n:::\n\n```{.r .cell-code}\nggcuminc(fit_original_não, linewidth = 1, type = \"survival\" ) +\n  ggtitle(\"Fator - Lelvel = Não\") +\n  labs(x = 'Dias', y = 'Overall survival') +\n  add_confidence_interval() +\n  add_risktable() +\n  scale_ggsurvfit() \n```\n\n::: {.cell-output .cell-output-stderr}\n```\nPlotting outcome \"sim\".\n```\n:::\n\n::: {.cell-output .cell-output-stderr}\n```\nWarning in ggplot2::geom_step(ggplot2::aes(x = .data$time, y = .data$estimate),\n: Ignoring unknown parameters: `type`\n```\n:::\n\n::: {.cell-output-display}\n![](lista_6_files/figure-html/unnamed-chunk-54-2.png){width=672}\n:::\n\n```{.r .cell-code}\nggcuminc(fit_original_sim, linewidth = 1) +\n  ggtitle(\"Fator - Lelvel = Sim\") +\n  labs(x = 'Dias', y = 'Overall survival') +\n  add_confidence_interval() +\n  add_risktable() +\n  scale_ggsurvfit() \n```\n\n::: {.cell-output .cell-output-stderr}\n```\nPlotting outcome \"não\".\n```\n:::\n\n::: {.cell-output-display}\n![](lista_6_files/figure-html/unnamed-chunk-54-3.png){width=672}\n:::\n:::\n\n\nComo podemos observar, quando utilizamos a variável de evento como um fator, acabamos analisando o risco cumulativo e não a sobrevida.\n\n### Mais gráficos!\n\nCom o ggplot2\n\n\n::: {.cell}\n\n```{.r .cell-code}\nkm_plot = survfit2(surv_obj ~ tx, data = db) %>%\n  tidy_survfit() %>%\n  ggplot(aes(x = time, y = estimate,\n             min = conf.low, ymax = conf.low,\n             color = strata, fill = strata)) +\n  geom_step()\n\nkm_plot\n```\n\n::: {.cell-output-display}\n![](lista_6_files/figure-html/unnamed-chunk-55-1.png){width=672}\n:::\n:::\n\n\nCom a função `ggsurvplot()` do pacote `survminer`.\n\n\n::: {.cell}\n\n```{.r .cell-code}\nggsurvplot(fit2, data = db,\n           size = 1,\n           palette = c('#E7B800', '#2e9fdf'),\n           censor.shape = '|', censor.size = 4,\n           conf.int = TRUE,\n           pval = TRUE,\n           risk.table = TRUE,\n           risk.table.col = 'strata',\n           legend.labs = list('0' = 'Transplante = sim', '1' = 'Transplante = não'),\n           risk.table.height = 0.25,\n           ggtheme = theme_bw())\n```\n\n::: {.cell-output-display}\n![](lista_6_files/figure-html/unnamed-chunk-56-1.png){width=672}\n:::\n:::\n\n\nGráficos de proporcionalidade com outras funções\n\n\n::: {.cell}\n\n```{.r .cell-code}\nggcoxdiagnostics(cox_res, type = \"dfbeta\", linear.predictions = FALSE)\n```\n\n::: {.cell-output .cell-output-stderr}\n```\n`geom_smooth()` using formula = 'y ~ x'\n```\n:::\n\n::: {.cell-output-display}\n![](lista_6_files/figure-html/unnamed-chunk-57-1.png){width=672}\n:::\n:::\n\n\nE um específico para variáveis contínuas.\n\n\n::: {.cell}\n\n```{.r .cell-code}\n# Não é importante para variáveis categóricas, mas fica o código para eventual consulta.\nggcoxdiagnostics(cox_res, type = \"deviance\", linear.predictions = FALSE)\n```\n\n::: {.cell-output .cell-output-stderr}\n```\n`geom_smooth()` using formula = 'y ~ x'\n```\n:::\n\n::: {.cell-output-display}\n![](lista_6_files/figure-html/unnamed-chunk-58-1.png){width=672}\n:::\n:::\n\n\n### Pacots alternativos para comparar curvas\n\n\n::: {.cell}\n\n```{.r .cell-code}\ngehan.wilcoxon.test(surv_obj ~ tx ,data=db)\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n\n\tGehan-Wilcoxon\n\ndata:  \n= 9.1531, p-value = 0.002483\nalternative hypothesis: two-sided\n```\n:::\n:::\n\n\n`survdiff` Com rho = 0 este é o teste log-rank ou Mantel-Haenszel, e com rho = 1 é equivalente à modificação Peto & Peto do teste Gehan-Wilcoxon.\n\n\n::: {.cell}\n\n```{.r .cell-code}\nsurvdiff(surv_obj ~ tx, data=db, rho = 2)\n```\n\n::: {.cell-output .cell-output-stdout}\n```\nCall:\nsurvdiff(formula = surv_obj ~ tx, data = db, rho = 2)\n\n        N Observed Expected (O-E)^2/E (O-E)^2/V\ntx=sim 60      7.4     14.0      3.12      9.19\ntx=não 64     17.9     11.3      3.89      9.19\n\n Chisq= 9.2  on 1 degrees of freedom, p= 0.002 \n```\n:::\n:::\n\n\n### Tabela completa do modelo 2\n\n\n::: {.cell .column-page}\n\n```{.r .cell-code}\nlife_table2 = survfit2(Surv(time = t_seg, event = obito) ~ tx, data = db) %>%\n  tidy_survfit() \n\nkable(life_table2)\n```\n\n::: {.cell-output-display}\n`````{=html}\n<table>\n <thead>\n  <tr>\n   <th style=\"text-align:right;\"> time </th>\n   <th style=\"text-align:right;\"> n.risk </th>\n   <th style=\"text-align:right;\"> n.event </th>\n   <th style=\"text-align:right;\"> n.censor </th>\n   <th style=\"text-align:right;\"> cum.event </th>\n   <th style=\"text-align:right;\"> cum.censor </th>\n   <th style=\"text-align:right;\"> estimate </th>\n   <th style=\"text-align:right;\"> std.error </th>\n   <th style=\"text-align:right;\"> conf.high </th>\n   <th style=\"text-align:right;\"> conf.low </th>\n   <th style=\"text-align:left;\"> strata </th>\n   <th style=\"text-align:left;\"> estimate_type </th>\n   <th style=\"text-align:left;\"> estimate_type_label </th>\n   <th style=\"text-align:left;\"> monotonicity_type </th>\n   <th style=\"text-align:left;\"> strata_label </th>\n   <th style=\"text-align:right;\"> conf.level </th>\n  </tr>\n </thead>\n<tbody>\n  <tr>\n   <td style=\"text-align:right;\"> 0 </td>\n   <td style=\"text-align:right;\"> 60 </td>\n   <td style=\"text-align:right;\"> 0 </td>\n   <td style=\"text-align:right;\"> 1 </td>\n   <td style=\"text-align:right;\"> 0 </td>\n   <td style=\"text-align:right;\"> 1 </td>\n   <td style=\"text-align:right;\"> 1.0000000 </td>\n   <td style=\"text-align:right;\"> 0.0000000 </td>\n   <td style=\"text-align:right;\"> 1.0000000 </td>\n   <td style=\"text-align:right;\"> 1.0000000 </td>\n   <td style=\"text-align:left;\"> sim </td>\n   <td style=\"text-align:left;\"> survival </td>\n   <td style=\"text-align:left;\"> Survival Probability </td>\n   <td style=\"text-align:left;\"> decreasing </td>\n   <td style=\"text-align:left;\"> tx </td>\n   <td style=\"text-align:right;\"> 0.95 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:right;\"> 3 </td>\n   <td style=\"text-align:right;\"> 59 </td>\n   <td style=\"text-align:right;\"> 1 </td>\n   <td style=\"text-align:right;\"> 0 </td>\n   <td style=\"text-align:right;\"> 1 </td>\n   <td style=\"text-align:right;\"> 1 </td>\n   <td style=\"text-align:right;\"> 0.9830508 </td>\n   <td style=\"text-align:right;\"> 0.0170946 </td>\n   <td style=\"text-align:right;\"> 1.0000000 </td>\n   <td style=\"text-align:right;\"> 0.9506595 </td>\n   <td style=\"text-align:left;\"> sim </td>\n   <td style=\"text-align:left;\"> survival </td>\n   <td style=\"text-align:left;\"> Survival Probability </td>\n   <td style=\"text-align:left;\"> decreasing </td>\n   <td style=\"text-align:left;\"> tx </td>\n   <td style=\"text-align:right;\"> 0.95 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:right;\"> 4 </td>\n   <td style=\"text-align:right;\"> 58 </td>\n   <td style=\"text-align:right;\"> 1 </td>\n   <td style=\"text-align:right;\"> 0 </td>\n   <td style=\"text-align:right;\"> 2 </td>\n   <td style=\"text-align:right;\"> 1 </td>\n   <td style=\"text-align:right;\"> 0.9661017 </td>\n   <td style=\"text-align:right;\"> 0.0243866 </td>\n   <td style=\"text-align:right;\"> 1.0000000 </td>\n   <td style=\"text-align:right;\"> 0.9210112 </td>\n   <td style=\"text-align:left;\"> sim </td>\n   <td style=\"text-align:left;\"> survival </td>\n   <td style=\"text-align:left;\"> Survival Probability </td>\n   <td style=\"text-align:left;\"> decreasing </td>\n   <td style=\"text-align:left;\"> tx </td>\n   <td style=\"text-align:right;\"> 0.95 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:right;\"> 24 </td>\n   <td style=\"text-align:right;\"> 57 </td>\n   <td style=\"text-align:right;\"> 1 </td>\n   <td style=\"text-align:right;\"> 0 </td>\n   <td style=\"text-align:right;\"> 3 </td>\n   <td style=\"text-align:right;\"> 1 </td>\n   <td style=\"text-align:right;\"> 0.9491525 </td>\n   <td style=\"text-align:right;\"> 0.0301329 </td>\n   <td style=\"text-align:right;\"> 1.0000000 </td>\n   <td style=\"text-align:right;\"> 0.8947194 </td>\n   <td style=\"text-align:left;\"> sim </td>\n   <td style=\"text-align:left;\"> survival </td>\n   <td style=\"text-align:left;\"> Survival Probability </td>\n   <td style=\"text-align:left;\"> decreasing </td>\n   <td style=\"text-align:left;\"> tx </td>\n   <td style=\"text-align:right;\"> 0.95 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:right;\"> 26 </td>\n   <td style=\"text-align:right;\"> 56 </td>\n   <td style=\"text-align:right;\"> 1 </td>\n   <td style=\"text-align:right;\"> 0 </td>\n   <td style=\"text-align:right;\"> 4 </td>\n   <td style=\"text-align:right;\"> 1 </td>\n   <td style=\"text-align:right;\"> 0.9322034 </td>\n   <td style=\"text-align:right;\"> 0.0351093 </td>\n   <td style=\"text-align:right;\"> 0.9986097 </td>\n   <td style=\"text-align:right;\"> 0.8702130 </td>\n   <td style=\"text-align:left;\"> sim </td>\n   <td style=\"text-align:left;\"> survival </td>\n   <td style=\"text-align:left;\"> Survival Probability </td>\n   <td style=\"text-align:left;\"> decreasing </td>\n   <td style=\"text-align:left;\"> tx </td>\n   <td style=\"text-align:right;\"> 0.95 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:right;\"> 29 </td>\n   <td style=\"text-align:right;\"> 55 </td>\n   <td style=\"text-align:right;\"> 1 </td>\n   <td style=\"text-align:right;\"> 0 </td>\n   <td style=\"text-align:right;\"> 5 </td>\n   <td style=\"text-align:right;\"> 1 </td>\n   <td style=\"text-align:right;\"> 0.9152542 </td>\n   <td style=\"text-align:right;\"> 0.0396152 </td>\n   <td style=\"text-align:right;\"> 0.9891503 </td>\n   <td style=\"text-align:right;\"> 0.8468787 </td>\n   <td style=\"text-align:left;\"> sim </td>\n   <td style=\"text-align:left;\"> survival </td>\n   <td style=\"text-align:left;\"> Survival Probability </td>\n   <td style=\"text-align:left;\"> decreasing </td>\n   <td style=\"text-align:left;\"> tx </td>\n   <td style=\"text-align:right;\"> 0.95 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:right;\"> 32 </td>\n   <td style=\"text-align:right;\"> 54 </td>\n   <td style=\"text-align:right;\"> 0 </td>\n   <td style=\"text-align:right;\"> 3 </td>\n   <td style=\"text-align:right;\"> 5 </td>\n   <td style=\"text-align:right;\"> 4 </td>\n   <td style=\"text-align:right;\"> 0.9152542 </td>\n   <td style=\"text-align:right;\"> 0.0396152 </td>\n   <td style=\"text-align:right;\"> 0.9891503 </td>\n   <td style=\"text-align:right;\"> 0.8468787 </td>\n   <td style=\"text-align:left;\"> sim </td>\n   <td style=\"text-align:left;\"> survival </td>\n   <td style=\"text-align:left;\"> Survival Probability </td>\n   <td style=\"text-align:left;\"> decreasing </td>\n   <td style=\"text-align:left;\"> tx </td>\n   <td style=\"text-align:right;\"> 0.95 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:right;\"> 34 </td>\n   <td style=\"text-align:right;\"> 51 </td>\n   <td style=\"text-align:right;\"> 0 </td>\n   <td style=\"text-align:right;\"> 1 </td>\n   <td style=\"text-align:right;\"> 5 </td>\n   <td style=\"text-align:right;\"> 5 </td>\n   <td style=\"text-align:right;\"> 0.9152542 </td>\n   <td style=\"text-align:right;\"> 0.0396152 </td>\n   <td style=\"text-align:right;\"> 0.9891503 </td>\n   <td style=\"text-align:right;\"> 0.8468787 </td>\n   <td style=\"text-align:left;\"> sim </td>\n   <td style=\"text-align:left;\"> survival </td>\n   <td style=\"text-align:left;\"> Survival Probability </td>\n   <td style=\"text-align:left;\"> decreasing </td>\n   <td style=\"text-align:left;\"> tx </td>\n   <td style=\"text-align:right;\"> 0.95 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:right;\"> 35 </td>\n   <td style=\"text-align:right;\"> 50 </td>\n   <td style=\"text-align:right;\"> 0 </td>\n   <td style=\"text-align:right;\"> 3 </td>\n   <td style=\"text-align:right;\"> 5 </td>\n   <td style=\"text-align:right;\"> 8 </td>\n   <td style=\"text-align:right;\"> 0.9152542 </td>\n   <td style=\"text-align:right;\"> 0.0396152 </td>\n   <td style=\"text-align:right;\"> 0.9891503 </td>\n   <td style=\"text-align:right;\"> 0.8468787 </td>\n   <td style=\"text-align:left;\"> sim </td>\n   <td style=\"text-align:left;\"> survival </td>\n   <td style=\"text-align:left;\"> Survival Probability </td>\n   <td style=\"text-align:left;\"> decreasing </td>\n   <td style=\"text-align:left;\"> tx </td>\n   <td style=\"text-align:right;\"> 0.95 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:right;\"> 36 </td>\n   <td style=\"text-align:right;\"> 47 </td>\n   <td style=\"text-align:right;\"> 0 </td>\n   <td style=\"text-align:right;\"> 1 </td>\n   <td style=\"text-align:right;\"> 5 </td>\n   <td style=\"text-align:right;\"> 9 </td>\n   <td style=\"text-align:right;\"> 0.9152542 </td>\n   <td style=\"text-align:right;\"> 0.0396152 </td>\n   <td style=\"text-align:right;\"> 0.9891503 </td>\n   <td style=\"text-align:right;\"> 0.8468787 </td>\n   <td style=\"text-align:left;\"> sim </td>\n   <td style=\"text-align:left;\"> survival </td>\n   <td style=\"text-align:left;\"> Survival Probability </td>\n   <td style=\"text-align:left;\"> decreasing </td>\n   <td style=\"text-align:left;\"> tx </td>\n   <td style=\"text-align:right;\"> 0.95 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:right;\"> 37 </td>\n   <td style=\"text-align:right;\"> 46 </td>\n   <td style=\"text-align:right;\"> 0 </td>\n   <td style=\"text-align:right;\"> 2 </td>\n   <td style=\"text-align:right;\"> 5 </td>\n   <td style=\"text-align:right;\"> 11 </td>\n   <td style=\"text-align:right;\"> 0.9152542 </td>\n   <td style=\"text-align:right;\"> 0.0396152 </td>\n   <td style=\"text-align:right;\"> 0.9891503 </td>\n   <td style=\"text-align:right;\"> 0.8468787 </td>\n   <td style=\"text-align:left;\"> sim </td>\n   <td style=\"text-align:left;\"> survival </td>\n   <td style=\"text-align:left;\"> Survival Probability </td>\n   <td style=\"text-align:left;\"> decreasing </td>\n   <td style=\"text-align:left;\"> tx </td>\n   <td style=\"text-align:right;\"> 0.95 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:right;\"> 38 </td>\n   <td style=\"text-align:right;\"> 44 </td>\n   <td style=\"text-align:right;\"> 1 </td>\n   <td style=\"text-align:right;\"> 0 </td>\n   <td style=\"text-align:right;\"> 6 </td>\n   <td style=\"text-align:right;\"> 11 </td>\n   <td style=\"text-align:right;\"> 0.8944530 </td>\n   <td style=\"text-align:right;\"> 0.0458029 </td>\n   <td style=\"text-align:right;\"> 0.9784644 </td>\n   <td style=\"text-align:right;\"> 0.8176548 </td>\n   <td style=\"text-align:left;\"> sim </td>\n   <td style=\"text-align:left;\"> survival </td>\n   <td style=\"text-align:left;\"> Survival Probability </td>\n   <td style=\"text-align:left;\"> decreasing </td>\n   <td style=\"text-align:left;\"> tx </td>\n   <td style=\"text-align:right;\"> 0.95 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:right;\"> 39 </td>\n   <td style=\"text-align:right;\"> 43 </td>\n   <td style=\"text-align:right;\"> 0 </td>\n   <td style=\"text-align:right;\"> 1 </td>\n   <td style=\"text-align:right;\"> 6 </td>\n   <td style=\"text-align:right;\"> 12 </td>\n   <td style=\"text-align:right;\"> 0.8944530 </td>\n   <td style=\"text-align:right;\"> 0.0458029 </td>\n   <td style=\"text-align:right;\"> 0.9784644 </td>\n   <td style=\"text-align:right;\"> 0.8176548 </td>\n   <td style=\"text-align:left;\"> sim </td>\n   <td style=\"text-align:left;\"> survival </td>\n   <td style=\"text-align:left;\"> Survival Probability </td>\n   <td style=\"text-align:left;\"> decreasing </td>\n   <td style=\"text-align:left;\"> tx </td>\n   <td style=\"text-align:right;\"> 0.95 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:right;\"> 40 </td>\n   <td style=\"text-align:right;\"> 42 </td>\n   <td style=\"text-align:right;\"> 0 </td>\n   <td style=\"text-align:right;\"> 1 </td>\n   <td style=\"text-align:right;\"> 6 </td>\n   <td style=\"text-align:right;\"> 13 </td>\n   <td style=\"text-align:right;\"> 0.8944530 </td>\n   <td style=\"text-align:right;\"> 0.0458029 </td>\n   <td style=\"text-align:right;\"> 0.9784644 </td>\n   <td style=\"text-align:right;\"> 0.8176548 </td>\n   <td style=\"text-align:left;\"> sim </td>\n   <td style=\"text-align:left;\"> survival </td>\n   <td style=\"text-align:left;\"> Survival Probability </td>\n   <td style=\"text-align:left;\"> decreasing </td>\n   <td style=\"text-align:left;\"> tx </td>\n   <td style=\"text-align:right;\"> 0.95 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:right;\"> 41 </td>\n   <td style=\"text-align:right;\"> 41 </td>\n   <td style=\"text-align:right;\"> 1 </td>\n   <td style=\"text-align:right;\"> 0 </td>\n   <td style=\"text-align:right;\"> 7 </td>\n   <td style=\"text-align:right;\"> 13 </td>\n   <td style=\"text-align:right;\"> 0.8726371 </td>\n   <td style=\"text-align:right;\"> 0.0520352 </td>\n   <td style=\"text-align:right;\"> 0.9663315 </td>\n   <td style=\"text-align:right;\"> 0.7880272 </td>\n   <td style=\"text-align:left;\"> sim </td>\n   <td style=\"text-align:left;\"> survival </td>\n   <td style=\"text-align:left;\"> Survival Probability </td>\n   <td style=\"text-align:left;\"> decreasing </td>\n   <td style=\"text-align:left;\"> tx </td>\n   <td style=\"text-align:right;\"> 0.95 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:right;\"> 42 </td>\n   <td style=\"text-align:right;\"> 40 </td>\n   <td style=\"text-align:right;\"> 0 </td>\n   <td style=\"text-align:right;\"> 2 </td>\n   <td style=\"text-align:right;\"> 7 </td>\n   <td style=\"text-align:right;\"> 15 </td>\n   <td style=\"text-align:right;\"> 0.8726371 </td>\n   <td style=\"text-align:right;\"> 0.0520352 </td>\n   <td style=\"text-align:right;\"> 0.9663315 </td>\n   <td style=\"text-align:right;\"> 0.7880272 </td>\n   <td style=\"text-align:left;\"> sim </td>\n   <td style=\"text-align:left;\"> survival </td>\n   <td style=\"text-align:left;\"> Survival Probability </td>\n   <td style=\"text-align:left;\"> decreasing </td>\n   <td style=\"text-align:left;\"> tx </td>\n   <td style=\"text-align:right;\"> 0.95 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:right;\"> 44 </td>\n   <td style=\"text-align:right;\"> 38 </td>\n   <td style=\"text-align:right;\"> 0 </td>\n   <td style=\"text-align:right;\"> 1 </td>\n   <td style=\"text-align:right;\"> 7 </td>\n   <td style=\"text-align:right;\"> 16 </td>\n   <td style=\"text-align:right;\"> 0.8726371 </td>\n   <td style=\"text-align:right;\"> 0.0520352 </td>\n   <td style=\"text-align:right;\"> 0.9663315 </td>\n   <td style=\"text-align:right;\"> 0.7880272 </td>\n   <td style=\"text-align:left;\"> sim </td>\n   <td style=\"text-align:left;\"> survival </td>\n   <td style=\"text-align:left;\"> Survival Probability </td>\n   <td style=\"text-align:left;\"> decreasing </td>\n   <td style=\"text-align:left;\"> tx </td>\n   <td style=\"text-align:right;\"> 0.95 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:right;\"> 45 </td>\n   <td style=\"text-align:right;\"> 37 </td>\n   <td style=\"text-align:right;\"> 1 </td>\n   <td style=\"text-align:right;\"> 1 </td>\n   <td style=\"text-align:right;\"> 8 </td>\n   <td style=\"text-align:right;\"> 17 </td>\n   <td style=\"text-align:right;\"> 0.8490523 </td>\n   <td style=\"text-align:right;\"> 0.0588083 </td>\n   <td style=\"text-align:right;\"> 0.9527789 </td>\n   <td style=\"text-align:right;\"> 0.7566181 </td>\n   <td style=\"text-align:left;\"> sim </td>\n   <td style=\"text-align:left;\"> survival </td>\n   <td style=\"text-align:left;\"> Survival Probability </td>\n   <td style=\"text-align:left;\"> decreasing </td>\n   <td style=\"text-align:left;\"> tx </td>\n   <td style=\"text-align:right;\"> 0.95 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:right;\"> 46 </td>\n   <td style=\"text-align:right;\"> 35 </td>\n   <td style=\"text-align:right;\"> 0 </td>\n   <td style=\"text-align:right;\"> 1 </td>\n   <td style=\"text-align:right;\"> 8 </td>\n   <td style=\"text-align:right;\"> 18 </td>\n   <td style=\"text-align:right;\"> 0.8490523 </td>\n   <td style=\"text-align:right;\"> 0.0588083 </td>\n   <td style=\"text-align:right;\"> 0.9527789 </td>\n   <td style=\"text-align:right;\"> 0.7566181 </td>\n   <td style=\"text-align:left;\"> sim </td>\n   <td style=\"text-align:left;\"> survival </td>\n   <td style=\"text-align:left;\"> Survival Probability </td>\n   <td style=\"text-align:left;\"> decreasing </td>\n   <td style=\"text-align:left;\"> tx </td>\n   <td style=\"text-align:right;\"> 0.95 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:right;\"> 48 </td>\n   <td style=\"text-align:right;\"> 34 </td>\n   <td style=\"text-align:right;\"> 0 </td>\n   <td style=\"text-align:right;\"> 2 </td>\n   <td style=\"text-align:right;\"> 8 </td>\n   <td style=\"text-align:right;\"> 20 </td>\n   <td style=\"text-align:right;\"> 0.8490523 </td>\n   <td style=\"text-align:right;\"> 0.0588083 </td>\n   <td style=\"text-align:right;\"> 0.9527789 </td>\n   <td style=\"text-align:right;\"> 0.7566181 </td>\n   <td style=\"text-align:left;\"> sim </td>\n   <td style=\"text-align:left;\"> survival </td>\n   <td style=\"text-align:left;\"> Survival Probability </td>\n   <td style=\"text-align:left;\"> decreasing </td>\n   <td style=\"text-align:left;\"> tx </td>\n   <td style=\"text-align:right;\"> 0.95 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:right;\"> 49 </td>\n   <td style=\"text-align:right;\"> 32 </td>\n   <td style=\"text-align:right;\"> 1 </td>\n   <td style=\"text-align:right;\"> 2 </td>\n   <td style=\"text-align:right;\"> 9 </td>\n   <td style=\"text-align:right;\"> 22 </td>\n   <td style=\"text-align:right;\"> 0.8225194 </td>\n   <td style=\"text-align:right;\"> 0.0668317 </td>\n   <td style=\"text-align:right;\"> 0.9376341 </td>\n   <td style=\"text-align:right;\"> 0.7215375 </td>\n   <td style=\"text-align:left;\"> sim </td>\n   <td style=\"text-align:left;\"> survival </td>\n   <td style=\"text-align:left;\"> Survival Probability </td>\n   <td style=\"text-align:left;\"> decreasing </td>\n   <td style=\"text-align:left;\"> tx </td>\n   <td style=\"text-align:right;\"> 0.95 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:right;\"> 51 </td>\n   <td style=\"text-align:right;\"> 29 </td>\n   <td style=\"text-align:right;\"> 0 </td>\n   <td style=\"text-align:right;\"> 1 </td>\n   <td style=\"text-align:right;\"> 9 </td>\n   <td style=\"text-align:right;\"> 23 </td>\n   <td style=\"text-align:right;\"> 0.8225194 </td>\n   <td style=\"text-align:right;\"> 0.0668317 </td>\n   <td style=\"text-align:right;\"> 0.9376341 </td>\n   <td style=\"text-align:right;\"> 0.7215375 </td>\n   <td style=\"text-align:left;\"> sim </td>\n   <td style=\"text-align:left;\"> survival </td>\n   <td style=\"text-align:left;\"> Survival Probability </td>\n   <td style=\"text-align:left;\"> decreasing </td>\n   <td style=\"text-align:left;\"> tx </td>\n   <td style=\"text-align:right;\"> 0.95 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:right;\"> 52 </td>\n   <td style=\"text-align:right;\"> 28 </td>\n   <td style=\"text-align:right;\"> 0 </td>\n   <td style=\"text-align:right;\"> 1 </td>\n   <td style=\"text-align:right;\"> 9 </td>\n   <td style=\"text-align:right;\"> 24 </td>\n   <td style=\"text-align:right;\"> 0.8225194 </td>\n   <td style=\"text-align:right;\"> 0.0668317 </td>\n   <td style=\"text-align:right;\"> 0.9376341 </td>\n   <td style=\"text-align:right;\"> 0.7215375 </td>\n   <td style=\"text-align:left;\"> sim </td>\n   <td style=\"text-align:left;\"> survival </td>\n   <td style=\"text-align:left;\"> Survival Probability </td>\n   <td style=\"text-align:left;\"> decreasing </td>\n   <td style=\"text-align:left;\"> tx </td>\n   <td style=\"text-align:right;\"> 0.95 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:right;\"> 54 </td>\n   <td style=\"text-align:right;\"> 27 </td>\n   <td style=\"text-align:right;\"> 0 </td>\n   <td style=\"text-align:right;\"> 1 </td>\n   <td style=\"text-align:right;\"> 9 </td>\n   <td style=\"text-align:right;\"> 25 </td>\n   <td style=\"text-align:right;\"> 0.8225194 </td>\n   <td style=\"text-align:right;\"> 0.0668317 </td>\n   <td style=\"text-align:right;\"> 0.9376341 </td>\n   <td style=\"text-align:right;\"> 0.7215375 </td>\n   <td style=\"text-align:left;\"> sim </td>\n   <td style=\"text-align:left;\"> survival </td>\n   <td style=\"text-align:left;\"> Survival Probability </td>\n   <td style=\"text-align:left;\"> decreasing </td>\n   <td style=\"text-align:left;\"> tx </td>\n   <td style=\"text-align:right;\"> 0.95 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:right;\"> 55 </td>\n   <td style=\"text-align:right;\"> 26 </td>\n   <td style=\"text-align:right;\"> 0 </td>\n   <td style=\"text-align:right;\"> 4 </td>\n   <td style=\"text-align:right;\"> 9 </td>\n   <td style=\"text-align:right;\"> 29 </td>\n   <td style=\"text-align:right;\"> 0.8225194 </td>\n   <td style=\"text-align:right;\"> 0.0668317 </td>\n   <td style=\"text-align:right;\"> 0.9376341 </td>\n   <td style=\"text-align:right;\"> 0.7215375 </td>\n   <td style=\"text-align:left;\"> sim </td>\n   <td style=\"text-align:left;\"> survival </td>\n   <td style=\"text-align:left;\"> Survival Probability </td>\n   <td style=\"text-align:left;\"> decreasing </td>\n   <td style=\"text-align:left;\"> tx </td>\n   <td style=\"text-align:right;\"> 0.95 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:right;\"> 57 </td>\n   <td style=\"text-align:right;\"> 22 </td>\n   <td style=\"text-align:right;\"> 0 </td>\n   <td style=\"text-align:right;\"> 1 </td>\n   <td style=\"text-align:right;\"> 9 </td>\n   <td style=\"text-align:right;\"> 30 </td>\n   <td style=\"text-align:right;\"> 0.8225194 </td>\n   <td style=\"text-align:right;\"> 0.0668317 </td>\n   <td style=\"text-align:right;\"> 0.9376341 </td>\n   <td style=\"text-align:right;\"> 0.7215375 </td>\n   <td style=\"text-align:left;\"> sim </td>\n   <td style=\"text-align:left;\"> survival </td>\n   <td style=\"text-align:left;\"> Survival Probability </td>\n   <td style=\"text-align:left;\"> decreasing </td>\n   <td style=\"text-align:left;\"> tx </td>\n   <td style=\"text-align:right;\"> 0.95 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:right;\"> 65 </td>\n   <td style=\"text-align:right;\"> 21 </td>\n   <td style=\"text-align:right;\"> 0 </td>\n   <td style=\"text-align:right;\"> 2 </td>\n   <td style=\"text-align:right;\"> 9 </td>\n   <td style=\"text-align:right;\"> 32 </td>\n   <td style=\"text-align:right;\"> 0.8225194 </td>\n   <td style=\"text-align:right;\"> 0.0668317 </td>\n   <td style=\"text-align:right;\"> 0.9376341 </td>\n   <td style=\"text-align:right;\"> 0.7215375 </td>\n   <td style=\"text-align:left;\"> sim </td>\n   <td style=\"text-align:left;\"> survival </td>\n   <td style=\"text-align:left;\"> Survival Probability </td>\n   <td style=\"text-align:left;\"> decreasing </td>\n   <td style=\"text-align:left;\"> tx </td>\n   <td style=\"text-align:right;\"> 0.95 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:right;\"> 66 </td>\n   <td style=\"text-align:right;\"> 19 </td>\n   <td style=\"text-align:right;\"> 1 </td>\n   <td style=\"text-align:right;\"> 1 </td>\n   <td style=\"text-align:right;\"> 10 </td>\n   <td style=\"text-align:right;\"> 33 </td>\n   <td style=\"text-align:right;\"> 0.7792289 </td>\n   <td style=\"text-align:right;\"> 0.0859678 </td>\n   <td style=\"text-align:right;\"> 0.9222336 </td>\n   <td style=\"text-align:right;\"> 0.6583990 </td>\n   <td style=\"text-align:left;\"> sim </td>\n   <td style=\"text-align:left;\"> survival </td>\n   <td style=\"text-align:left;\"> Survival Probability </td>\n   <td style=\"text-align:left;\"> decreasing </td>\n   <td style=\"text-align:left;\"> tx </td>\n   <td style=\"text-align:right;\"> 0.95 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:right;\"> 67 </td>\n   <td style=\"text-align:right;\"> 17 </td>\n   <td style=\"text-align:right;\"> 0 </td>\n   <td style=\"text-align:right;\"> 1 </td>\n   <td style=\"text-align:right;\"> 10 </td>\n   <td style=\"text-align:right;\"> 34 </td>\n   <td style=\"text-align:right;\"> 0.7792289 </td>\n   <td style=\"text-align:right;\"> 0.0859678 </td>\n   <td style=\"text-align:right;\"> 0.9222336 </td>\n   <td style=\"text-align:right;\"> 0.6583990 </td>\n   <td style=\"text-align:left;\"> sim </td>\n   <td style=\"text-align:left;\"> survival </td>\n   <td style=\"text-align:left;\"> Survival Probability </td>\n   <td style=\"text-align:left;\"> decreasing </td>\n   <td style=\"text-align:left;\"> tx </td>\n   <td style=\"text-align:right;\"> 0.95 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:right;\"> 73 </td>\n   <td style=\"text-align:right;\"> 16 </td>\n   <td style=\"text-align:right;\"> 0 </td>\n   <td style=\"text-align:right;\"> 1 </td>\n   <td style=\"text-align:right;\"> 10 </td>\n   <td style=\"text-align:right;\"> 35 </td>\n   <td style=\"text-align:right;\"> 0.7792289 </td>\n   <td style=\"text-align:right;\"> 0.0859678 </td>\n   <td style=\"text-align:right;\"> 0.9222336 </td>\n   <td style=\"text-align:right;\"> 0.6583990 </td>\n   <td style=\"text-align:left;\"> sim </td>\n   <td style=\"text-align:left;\"> survival </td>\n   <td style=\"text-align:left;\"> Survival Probability </td>\n   <td style=\"text-align:left;\"> decreasing </td>\n   <td style=\"text-align:left;\"> tx </td>\n   <td style=\"text-align:right;\"> 0.95 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:right;\"> 74 </td>\n   <td style=\"text-align:right;\"> 15 </td>\n   <td style=\"text-align:right;\"> 0 </td>\n   <td style=\"text-align:right;\"> 1 </td>\n   <td style=\"text-align:right;\"> 10 </td>\n   <td style=\"text-align:right;\"> 36 </td>\n   <td style=\"text-align:right;\"> 0.7792289 </td>\n   <td style=\"text-align:right;\"> 0.0859678 </td>\n   <td style=\"text-align:right;\"> 0.9222336 </td>\n   <td style=\"text-align:right;\"> 0.6583990 </td>\n   <td style=\"text-align:left;\"> sim </td>\n   <td style=\"text-align:left;\"> survival </td>\n   <td style=\"text-align:left;\"> Survival Probability </td>\n   <td style=\"text-align:left;\"> decreasing </td>\n   <td style=\"text-align:left;\"> tx </td>\n   <td style=\"text-align:right;\"> 0.95 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:right;\"> 75 </td>\n   <td style=\"text-align:right;\"> 14 </td>\n   <td style=\"text-align:right;\"> 0 </td>\n   <td style=\"text-align:right;\"> 1 </td>\n   <td style=\"text-align:right;\"> 10 </td>\n   <td style=\"text-align:right;\"> 37 </td>\n   <td style=\"text-align:right;\"> 0.7792289 </td>\n   <td style=\"text-align:right;\"> 0.0859678 </td>\n   <td style=\"text-align:right;\"> 0.9222336 </td>\n   <td style=\"text-align:right;\"> 0.6583990 </td>\n   <td style=\"text-align:left;\"> sim </td>\n   <td style=\"text-align:left;\"> survival </td>\n   <td style=\"text-align:left;\"> Survival Probability </td>\n   <td style=\"text-align:left;\"> decreasing </td>\n   <td style=\"text-align:left;\"> tx </td>\n   <td style=\"text-align:right;\"> 0.95 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:right;\"> 77 </td>\n   <td style=\"text-align:right;\"> 13 </td>\n   <td style=\"text-align:right;\"> 0 </td>\n   <td style=\"text-align:right;\"> 1 </td>\n   <td style=\"text-align:right;\"> 10 </td>\n   <td style=\"text-align:right;\"> 38 </td>\n   <td style=\"text-align:right;\"> 0.7792289 </td>\n   <td style=\"text-align:right;\"> 0.0859678 </td>\n   <td style=\"text-align:right;\"> 0.9222336 </td>\n   <td style=\"text-align:right;\"> 0.6583990 </td>\n   <td style=\"text-align:left;\"> sim </td>\n   <td style=\"text-align:left;\"> survival </td>\n   <td style=\"text-align:left;\"> Survival Probability </td>\n   <td style=\"text-align:left;\"> decreasing </td>\n   <td style=\"text-align:left;\"> tx </td>\n   <td style=\"text-align:right;\"> 0.95 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:right;\"> 82 </td>\n   <td style=\"text-align:right;\"> 12 </td>\n   <td style=\"text-align:right;\"> 0 </td>\n   <td style=\"text-align:right;\"> 1 </td>\n   <td style=\"text-align:right;\"> 10 </td>\n   <td style=\"text-align:right;\"> 39 </td>\n   <td style=\"text-align:right;\"> 0.7792289 </td>\n   <td style=\"text-align:right;\"> 0.0859678 </td>\n   <td style=\"text-align:right;\"> 0.9222336 </td>\n   <td style=\"text-align:right;\"> 0.6583990 </td>\n   <td style=\"text-align:left;\"> sim </td>\n   <td style=\"text-align:left;\"> survival </td>\n   <td style=\"text-align:left;\"> Survival Probability </td>\n   <td style=\"text-align:left;\"> decreasing </td>\n   <td style=\"text-align:left;\"> tx </td>\n   <td style=\"text-align:right;\"> 0.95 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:right;\"> 83 </td>\n   <td style=\"text-align:right;\"> 11 </td>\n   <td style=\"text-align:right;\"> 0 </td>\n   <td style=\"text-align:right;\"> 2 </td>\n   <td style=\"text-align:right;\"> 10 </td>\n   <td style=\"text-align:right;\"> 41 </td>\n   <td style=\"text-align:right;\"> 0.7792289 </td>\n   <td style=\"text-align:right;\"> 0.0859678 </td>\n   <td style=\"text-align:right;\"> 0.9222336 </td>\n   <td style=\"text-align:right;\"> 0.6583990 </td>\n   <td style=\"text-align:left;\"> sim </td>\n   <td style=\"text-align:left;\"> survival </td>\n   <td style=\"text-align:left;\"> Survival Probability </td>\n   <td style=\"text-align:left;\"> decreasing </td>\n   <td style=\"text-align:left;\"> tx </td>\n   <td style=\"text-align:right;\"> 0.95 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:right;\"> 87 </td>\n   <td style=\"text-align:right;\"> 9 </td>\n   <td style=\"text-align:right;\"> 0 </td>\n   <td style=\"text-align:right;\"> 1 </td>\n   <td style=\"text-align:right;\"> 10 </td>\n   <td style=\"text-align:right;\"> 42 </td>\n   <td style=\"text-align:right;\"> 0.7792289 </td>\n   <td style=\"text-align:right;\"> 0.0859678 </td>\n   <td style=\"text-align:right;\"> 0.9222336 </td>\n   <td style=\"text-align:right;\"> 0.6583990 </td>\n   <td style=\"text-align:left;\"> sim </td>\n   <td style=\"text-align:left;\"> survival </td>\n   <td style=\"text-align:left;\"> Survival Probability </td>\n   <td style=\"text-align:left;\"> decreasing </td>\n   <td style=\"text-align:left;\"> tx </td>\n   <td style=\"text-align:right;\"> 0.95 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:right;\"> 89 </td>\n   <td style=\"text-align:right;\"> 8 </td>\n   <td style=\"text-align:right;\"> 1 </td>\n   <td style=\"text-align:right;\"> 0 </td>\n   <td style=\"text-align:right;\"> 11 </td>\n   <td style=\"text-align:right;\"> 42 </td>\n   <td style=\"text-align:right;\"> 0.6818253 </td>\n   <td style=\"text-align:right;\"> 0.1588949 </td>\n   <td style=\"text-align:right;\"> 0.9309465 </td>\n   <td style=\"text-align:right;\"> 0.4993689 </td>\n   <td style=\"text-align:left;\"> sim </td>\n   <td style=\"text-align:left;\"> survival </td>\n   <td style=\"text-align:left;\"> Survival Probability </td>\n   <td style=\"text-align:left;\"> decreasing </td>\n   <td style=\"text-align:left;\"> tx </td>\n   <td style=\"text-align:right;\"> 0.95 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:right;\"> 90 </td>\n   <td style=\"text-align:right;\"> 7 </td>\n   <td style=\"text-align:right;\"> 0 </td>\n   <td style=\"text-align:right;\"> 1 </td>\n   <td style=\"text-align:right;\"> 11 </td>\n   <td style=\"text-align:right;\"> 43 </td>\n   <td style=\"text-align:right;\"> 0.6818253 </td>\n   <td style=\"text-align:right;\"> 0.1588949 </td>\n   <td style=\"text-align:right;\"> 0.9309465 </td>\n   <td style=\"text-align:right;\"> 0.4993689 </td>\n   <td style=\"text-align:left;\"> sim </td>\n   <td style=\"text-align:left;\"> survival </td>\n   <td style=\"text-align:left;\"> Survival Probability </td>\n   <td style=\"text-align:left;\"> decreasing </td>\n   <td style=\"text-align:left;\"> tx </td>\n   <td style=\"text-align:right;\"> 0.95 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:right;\"> 92 </td>\n   <td style=\"text-align:right;\"> 6 </td>\n   <td style=\"text-align:right;\"> 0 </td>\n   <td style=\"text-align:right;\"> 1 </td>\n   <td style=\"text-align:right;\"> 11 </td>\n   <td style=\"text-align:right;\"> 44 </td>\n   <td style=\"text-align:right;\"> 0.6818253 </td>\n   <td style=\"text-align:right;\"> 0.1588949 </td>\n   <td style=\"text-align:right;\"> 0.9309465 </td>\n   <td style=\"text-align:right;\"> 0.4993689 </td>\n   <td style=\"text-align:left;\"> sim </td>\n   <td style=\"text-align:left;\"> survival </td>\n   <td style=\"text-align:left;\"> Survival Probability </td>\n   <td style=\"text-align:left;\"> decreasing </td>\n   <td style=\"text-align:left;\"> tx </td>\n   <td style=\"text-align:right;\"> 0.95 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:right;\"> 96 </td>\n   <td style=\"text-align:right;\"> 5 </td>\n   <td style=\"text-align:right;\"> 0 </td>\n   <td style=\"text-align:right;\"> 1 </td>\n   <td style=\"text-align:right;\"> 11 </td>\n   <td style=\"text-align:right;\"> 45 </td>\n   <td style=\"text-align:right;\"> 0.6818253 </td>\n   <td style=\"text-align:right;\"> 0.1588949 </td>\n   <td style=\"text-align:right;\"> 0.9309465 </td>\n   <td style=\"text-align:right;\"> 0.4993689 </td>\n   <td style=\"text-align:left;\"> sim </td>\n   <td style=\"text-align:left;\"> survival </td>\n   <td style=\"text-align:left;\"> Survival Probability </td>\n   <td style=\"text-align:left;\"> decreasing </td>\n   <td style=\"text-align:left;\"> tx </td>\n   <td style=\"text-align:right;\"> 0.95 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:right;\"> 97 </td>\n   <td style=\"text-align:right;\"> 4 </td>\n   <td style=\"text-align:right;\"> 0 </td>\n   <td style=\"text-align:right;\"> 2 </td>\n   <td style=\"text-align:right;\"> 11 </td>\n   <td style=\"text-align:right;\"> 47 </td>\n   <td style=\"text-align:right;\"> 0.6818253 </td>\n   <td style=\"text-align:right;\"> 0.1588949 </td>\n   <td style=\"text-align:right;\"> 0.9309465 </td>\n   <td style=\"text-align:right;\"> 0.4993689 </td>\n   <td style=\"text-align:left;\"> sim </td>\n   <td style=\"text-align:left;\"> survival </td>\n   <td style=\"text-align:left;\"> Survival Probability </td>\n   <td style=\"text-align:left;\"> decreasing </td>\n   <td style=\"text-align:left;\"> tx </td>\n   <td style=\"text-align:right;\"> 0.95 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:right;\"> 98 </td>\n   <td style=\"text-align:right;\"> 2 </td>\n   <td style=\"text-align:right;\"> 0 </td>\n   <td style=\"text-align:right;\"> 1 </td>\n   <td style=\"text-align:right;\"> 11 </td>\n   <td style=\"text-align:right;\"> 48 </td>\n   <td style=\"text-align:right;\"> 0.6818253 </td>\n   <td style=\"text-align:right;\"> 0.1588949 </td>\n   <td style=\"text-align:right;\"> 0.9309465 </td>\n   <td style=\"text-align:right;\"> 0.4993689 </td>\n   <td style=\"text-align:left;\"> sim </td>\n   <td style=\"text-align:left;\"> survival </td>\n   <td style=\"text-align:left;\"> Survival Probability </td>\n   <td style=\"text-align:left;\"> decreasing </td>\n   <td style=\"text-align:left;\"> tx </td>\n   <td style=\"text-align:right;\"> 0.95 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:right;\"> 99 </td>\n   <td style=\"text-align:right;\"> 1 </td>\n   <td style=\"text-align:right;\"> 0 </td>\n   <td style=\"text-align:right;\"> 1 </td>\n   <td style=\"text-align:right;\"> 11 </td>\n   <td style=\"text-align:right;\"> 49 </td>\n   <td style=\"text-align:right;\"> 0.6818253 </td>\n   <td style=\"text-align:right;\"> 0.1588949 </td>\n   <td style=\"text-align:right;\"> 0.9309465 </td>\n   <td style=\"text-align:right;\"> 0.4993689 </td>\n   <td style=\"text-align:left;\"> sim </td>\n   <td style=\"text-align:left;\"> survival </td>\n   <td style=\"text-align:left;\"> Survival Probability </td>\n   <td style=\"text-align:left;\"> decreasing </td>\n   <td style=\"text-align:left;\"> tx </td>\n   <td style=\"text-align:right;\"> 0.95 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:right;\"> 0 </td>\n   <td style=\"text-align:right;\"> 64 </td>\n   <td style=\"text-align:right;\"> 2 </td>\n   <td style=\"text-align:right;\"> 0 </td>\n   <td style=\"text-align:right;\"> 2 </td>\n   <td style=\"text-align:right;\"> 0 </td>\n   <td style=\"text-align:right;\"> 0.9687500 </td>\n   <td style=\"text-align:right;\"> 0.0224507 </td>\n   <td style=\"text-align:right;\"> 1.0000000 </td>\n   <td style=\"text-align:right;\"> 0.9270468 </td>\n   <td style=\"text-align:left;\"> não </td>\n   <td style=\"text-align:left;\"> survival </td>\n   <td style=\"text-align:left;\"> Survival Probability </td>\n   <td style=\"text-align:left;\"> decreasing </td>\n   <td style=\"text-align:left;\"> tx </td>\n   <td style=\"text-align:right;\"> 0.95 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:right;\"> 3 </td>\n   <td style=\"text-align:right;\"> 62 </td>\n   <td style=\"text-align:right;\"> 1 </td>\n   <td style=\"text-align:right;\"> 0 </td>\n   <td style=\"text-align:right;\"> 3 </td>\n   <td style=\"text-align:right;\"> 0 </td>\n   <td style=\"text-align:right;\"> 0.9531250 </td>\n   <td style=\"text-align:right;\"> 0.0277208 </td>\n   <td style=\"text-align:right;\"> 1.0000000 </td>\n   <td style=\"text-align:right;\"> 0.9027217 </td>\n   <td style=\"text-align:left;\"> não </td>\n   <td style=\"text-align:left;\"> survival </td>\n   <td style=\"text-align:left;\"> Survival Probability </td>\n   <td style=\"text-align:left;\"> decreasing </td>\n   <td style=\"text-align:left;\"> tx </td>\n   <td style=\"text-align:right;\"> 0.95 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:right;\"> 4 </td>\n   <td style=\"text-align:right;\"> 61 </td>\n   <td style=\"text-align:right;\"> 1 </td>\n   <td style=\"text-align:right;\"> 0 </td>\n   <td style=\"text-align:right;\"> 4 </td>\n   <td style=\"text-align:right;\"> 0 </td>\n   <td style=\"text-align:right;\"> 0.9375000 </td>\n   <td style=\"text-align:right;\"> 0.0322749 </td>\n   <td style=\"text-align:right;\"> 0.9987199 </td>\n   <td style=\"text-align:right;\"> 0.8800328 </td>\n   <td style=\"text-align:left;\"> não </td>\n   <td style=\"text-align:left;\"> survival </td>\n   <td style=\"text-align:left;\"> Survival Probability </td>\n   <td style=\"text-align:left;\"> decreasing </td>\n   <td style=\"text-align:left;\"> tx </td>\n   <td style=\"text-align:right;\"> 0.95 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:right;\"> 6 </td>\n   <td style=\"text-align:right;\"> 60 </td>\n   <td style=\"text-align:right;\"> 1 </td>\n   <td style=\"text-align:right;\"> 0 </td>\n   <td style=\"text-align:right;\"> 5 </td>\n   <td style=\"text-align:right;\"> 0 </td>\n   <td style=\"text-align:right;\"> 0.9218750 </td>\n   <td style=\"text-align:right;\"> 0.0363889 </td>\n   <td style=\"text-align:right;\"> 0.9900254 </td>\n   <td style=\"text-align:right;\"> 0.8584159 </td>\n   <td style=\"text-align:left;\"> não </td>\n   <td style=\"text-align:left;\"> survival </td>\n   <td style=\"text-align:left;\"> Survival Probability </td>\n   <td style=\"text-align:left;\"> decreasing </td>\n   <td style=\"text-align:left;\"> tx </td>\n   <td style=\"text-align:right;\"> 0.95 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:right;\"> 8 </td>\n   <td style=\"text-align:right;\"> 59 </td>\n   <td style=\"text-align:right;\"> 2 </td>\n   <td style=\"text-align:right;\"> 0 </td>\n   <td style=\"text-align:right;\"> 7 </td>\n   <td style=\"text-align:right;\"> 0 </td>\n   <td style=\"text-align:right;\"> 0.8906250 </td>\n   <td style=\"text-align:right;\"> 0.0438048 </td>\n   <td style=\"text-align:right;\"> 0.9704688 </td>\n   <td style=\"text-align:right;\"> 0.8173502 </td>\n   <td style=\"text-align:left;\"> não </td>\n   <td style=\"text-align:left;\"> survival </td>\n   <td style=\"text-align:left;\"> Survival Probability </td>\n   <td style=\"text-align:left;\"> decreasing </td>\n   <td style=\"text-align:left;\"> tx </td>\n   <td style=\"text-align:right;\"> 0.95 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:right;\"> 11 </td>\n   <td style=\"text-align:right;\"> 57 </td>\n   <td style=\"text-align:right;\"> 1 </td>\n   <td style=\"text-align:right;\"> 0 </td>\n   <td style=\"text-align:right;\"> 8 </td>\n   <td style=\"text-align:right;\"> 0 </td>\n   <td style=\"text-align:right;\"> 0.8750000 </td>\n   <td style=\"text-align:right;\"> 0.0472456 </td>\n   <td style=\"text-align:right;\"> 0.9598946 </td>\n   <td style=\"text-align:right;\"> 0.7976136 </td>\n   <td style=\"text-align:left;\"> não </td>\n   <td style=\"text-align:left;\"> survival </td>\n   <td style=\"text-align:left;\"> Survival Probability </td>\n   <td style=\"text-align:left;\"> decreasing </td>\n   <td style=\"text-align:left;\"> tx </td>\n   <td style=\"text-align:right;\"> 0.95 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:right;\"> 13 </td>\n   <td style=\"text-align:right;\"> 56 </td>\n   <td style=\"text-align:right;\"> 1 </td>\n   <td style=\"text-align:right;\"> 0 </td>\n   <td style=\"text-align:right;\"> 9 </td>\n   <td style=\"text-align:right;\"> 0 </td>\n   <td style=\"text-align:right;\"> 0.8593750 </td>\n   <td style=\"text-align:right;\"> 0.0505650 </td>\n   <td style=\"text-align:right;\"> 0.9489071 </td>\n   <td style=\"text-align:right;\"> 0.7782905 </td>\n   <td style=\"text-align:left;\"> não </td>\n   <td style=\"text-align:left;\"> survival </td>\n   <td style=\"text-align:left;\"> Survival Probability </td>\n   <td style=\"text-align:left;\"> decreasing </td>\n   <td style=\"text-align:left;\"> tx </td>\n   <td style=\"text-align:right;\"> 0.95 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:right;\"> 14 </td>\n   <td style=\"text-align:right;\"> 55 </td>\n   <td style=\"text-align:right;\"> 0 </td>\n   <td style=\"text-align:right;\"> 1 </td>\n   <td style=\"text-align:right;\"> 9 </td>\n   <td style=\"text-align:right;\"> 1 </td>\n   <td style=\"text-align:right;\"> 0.8593750 </td>\n   <td style=\"text-align:right;\"> 0.0505650 </td>\n   <td style=\"text-align:right;\"> 0.9489071 </td>\n   <td style=\"text-align:right;\"> 0.7782905 </td>\n   <td style=\"text-align:left;\"> não </td>\n   <td style=\"text-align:left;\"> survival </td>\n   <td style=\"text-align:left;\"> Survival Probability </td>\n   <td style=\"text-align:left;\"> decreasing </td>\n   <td style=\"text-align:left;\"> tx </td>\n   <td style=\"text-align:right;\"> 0.95 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:right;\"> 15 </td>\n   <td style=\"text-align:right;\"> 54 </td>\n   <td style=\"text-align:right;\"> 0 </td>\n   <td style=\"text-align:right;\"> 1 </td>\n   <td style=\"text-align:right;\"> 9 </td>\n   <td style=\"text-align:right;\"> 2 </td>\n   <td style=\"text-align:right;\"> 0.8593750 </td>\n   <td style=\"text-align:right;\"> 0.0505650 </td>\n   <td style=\"text-align:right;\"> 0.9489071 </td>\n   <td style=\"text-align:right;\"> 0.7782905 </td>\n   <td style=\"text-align:left;\"> não </td>\n   <td style=\"text-align:left;\"> survival </td>\n   <td style=\"text-align:left;\"> Survival Probability </td>\n   <td style=\"text-align:left;\"> decreasing </td>\n   <td style=\"text-align:left;\"> tx </td>\n   <td style=\"text-align:right;\"> 0.95 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:right;\"> 16 </td>\n   <td style=\"text-align:right;\"> 53 </td>\n   <td style=\"text-align:right;\"> 1 </td>\n   <td style=\"text-align:right;\"> 0 </td>\n   <td style=\"text-align:right;\"> 10 </td>\n   <td style=\"text-align:right;\"> 2 </td>\n   <td style=\"text-align:right;\"> 0.8431604 </td>\n   <td style=\"text-align:right;\"> 0.0540339 </td>\n   <td style=\"text-align:right;\"> 0.9373546 </td>\n   <td style=\"text-align:right;\"> 0.7584316 </td>\n   <td style=\"text-align:left;\"> não </td>\n   <td style=\"text-align:left;\"> survival </td>\n   <td style=\"text-align:left;\"> Survival Probability </td>\n   <td style=\"text-align:left;\"> decreasing </td>\n   <td style=\"text-align:left;\"> tx </td>\n   <td style=\"text-align:right;\"> 0.95 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:right;\"> 18 </td>\n   <td style=\"text-align:right;\"> 52 </td>\n   <td style=\"text-align:right;\"> 0 </td>\n   <td style=\"text-align:right;\"> 1 </td>\n   <td style=\"text-align:right;\"> 10 </td>\n   <td style=\"text-align:right;\"> 3 </td>\n   <td style=\"text-align:right;\"> 0.8431604 </td>\n   <td style=\"text-align:right;\"> 0.0540339 </td>\n   <td style=\"text-align:right;\"> 0.9373546 </td>\n   <td style=\"text-align:right;\"> 0.7584316 </td>\n   <td style=\"text-align:left;\"> não </td>\n   <td style=\"text-align:left;\"> survival </td>\n   <td style=\"text-align:left;\"> Survival Probability </td>\n   <td style=\"text-align:left;\"> decreasing </td>\n   <td style=\"text-align:left;\"> tx </td>\n   <td style=\"text-align:right;\"> 0.95 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:right;\"> 19 </td>\n   <td style=\"text-align:right;\"> 51 </td>\n   <td style=\"text-align:right;\"> 1 </td>\n   <td style=\"text-align:right;\"> 0 </td>\n   <td style=\"text-align:right;\"> 11 </td>\n   <td style=\"text-align:right;\"> 3 </td>\n   <td style=\"text-align:right;\"> 0.8266278 </td>\n   <td style=\"text-align:right;\"> 0.0575484 </td>\n   <td style=\"text-align:right;\"> 0.9253272 </td>\n   <td style=\"text-align:right;\"> 0.7384562 </td>\n   <td style=\"text-align:left;\"> não </td>\n   <td style=\"text-align:left;\"> survival </td>\n   <td style=\"text-align:left;\"> Survival Probability </td>\n   <td style=\"text-align:left;\"> decreasing </td>\n   <td style=\"text-align:left;\"> tx </td>\n   <td style=\"text-align:right;\"> 0.95 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:right;\"> 22 </td>\n   <td style=\"text-align:right;\"> 50 </td>\n   <td style=\"text-align:right;\"> 0 </td>\n   <td style=\"text-align:right;\"> 1 </td>\n   <td style=\"text-align:right;\"> 11 </td>\n   <td style=\"text-align:right;\"> 4 </td>\n   <td style=\"text-align:right;\"> 0.8266278 </td>\n   <td style=\"text-align:right;\"> 0.0575484 </td>\n   <td style=\"text-align:right;\"> 0.9253272 </td>\n   <td style=\"text-align:right;\"> 0.7384562 </td>\n   <td style=\"text-align:left;\"> não </td>\n   <td style=\"text-align:left;\"> survival </td>\n   <td style=\"text-align:left;\"> Survival Probability </td>\n   <td style=\"text-align:left;\"> decreasing </td>\n   <td style=\"text-align:left;\"> tx </td>\n   <td style=\"text-align:right;\"> 0.95 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:right;\"> 24 </td>\n   <td style=\"text-align:right;\"> 49 </td>\n   <td style=\"text-align:right;\"> 1 </td>\n   <td style=\"text-align:right;\"> 0 </td>\n   <td style=\"text-align:right;\"> 12 </td>\n   <td style=\"text-align:right;\"> 4 </td>\n   <td style=\"text-align:right;\"> 0.8097579 </td>\n   <td style=\"text-align:right;\"> 0.0611309 </td>\n   <td style=\"text-align:right;\"> 0.9128300 </td>\n   <td style=\"text-align:right;\"> 0.7183241 </td>\n   <td style=\"text-align:left;\"> não </td>\n   <td style=\"text-align:left;\"> survival </td>\n   <td style=\"text-align:left;\"> Survival Probability </td>\n   <td style=\"text-align:left;\"> decreasing </td>\n   <td style=\"text-align:left;\"> tx </td>\n   <td style=\"text-align:right;\"> 0.95 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:right;\"> 25 </td>\n   <td style=\"text-align:right;\"> 48 </td>\n   <td style=\"text-align:right;\"> 1 </td>\n   <td style=\"text-align:right;\"> 0 </td>\n   <td style=\"text-align:right;\"> 13 </td>\n   <td style=\"text-align:right;\"> 4 </td>\n   <td style=\"text-align:right;\"> 0.7928879 </td>\n   <td style=\"text-align:right;\"> 0.0646549 </td>\n   <td style=\"text-align:right;\"> 0.9000075 </td>\n   <td style=\"text-align:right;\"> 0.6985178 </td>\n   <td style=\"text-align:left;\"> não </td>\n   <td style=\"text-align:left;\"> survival </td>\n   <td style=\"text-align:left;\"> Survival Probability </td>\n   <td style=\"text-align:left;\"> decreasing </td>\n   <td style=\"text-align:left;\"> tx </td>\n   <td style=\"text-align:right;\"> 0.95 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:right;\"> 27 </td>\n   <td style=\"text-align:right;\"> 47 </td>\n   <td style=\"text-align:right;\"> 1 </td>\n   <td style=\"text-align:right;\"> 0 </td>\n   <td style=\"text-align:right;\"> 14 </td>\n   <td style=\"text-align:right;\"> 4 </td>\n   <td style=\"text-align:right;\"> 0.7760180 </td>\n   <td style=\"text-align:right;\"> 0.0681380 </td>\n   <td style=\"text-align:right;\"> 0.8868924 </td>\n   <td style=\"text-align:right;\"> 0.6790044 </td>\n   <td style=\"text-align:left;\"> não </td>\n   <td style=\"text-align:left;\"> survival </td>\n   <td style=\"text-align:left;\"> Survival Probability </td>\n   <td style=\"text-align:left;\"> decreasing </td>\n   <td style=\"text-align:left;\"> tx </td>\n   <td style=\"text-align:right;\"> 0.95 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:right;\"> 29 </td>\n   <td style=\"text-align:right;\"> 46 </td>\n   <td style=\"text-align:right;\"> 0 </td>\n   <td style=\"text-align:right;\"> 1 </td>\n   <td style=\"text-align:right;\"> 14 </td>\n   <td style=\"text-align:right;\"> 5 </td>\n   <td style=\"text-align:right;\"> 0.7760180 </td>\n   <td style=\"text-align:right;\"> 0.0681380 </td>\n   <td style=\"text-align:right;\"> 0.8868924 </td>\n   <td style=\"text-align:right;\"> 0.6790044 </td>\n   <td style=\"text-align:left;\"> não </td>\n   <td style=\"text-align:left;\"> survival </td>\n   <td style=\"text-align:left;\"> Survival Probability </td>\n   <td style=\"text-align:left;\"> decreasing </td>\n   <td style=\"text-align:left;\"> tx </td>\n   <td style=\"text-align:right;\"> 0.95 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:right;\"> 30 </td>\n   <td style=\"text-align:right;\"> 45 </td>\n   <td style=\"text-align:right;\"> 0 </td>\n   <td style=\"text-align:right;\"> 4 </td>\n   <td style=\"text-align:right;\"> 14 </td>\n   <td style=\"text-align:right;\"> 9 </td>\n   <td style=\"text-align:right;\"> 0.7760180 </td>\n   <td style=\"text-align:right;\"> 0.0681380 </td>\n   <td style=\"text-align:right;\"> 0.8868924 </td>\n   <td style=\"text-align:right;\"> 0.6790044 </td>\n   <td style=\"text-align:left;\"> não </td>\n   <td style=\"text-align:left;\"> survival </td>\n   <td style=\"text-align:left;\"> Survival Probability </td>\n   <td style=\"text-align:left;\"> decreasing </td>\n   <td style=\"text-align:left;\"> tx </td>\n   <td style=\"text-align:right;\"> 0.95 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:right;\"> 31 </td>\n   <td style=\"text-align:right;\"> 41 </td>\n   <td style=\"text-align:right;\"> 0 </td>\n   <td style=\"text-align:right;\"> 1 </td>\n   <td style=\"text-align:right;\"> 14 </td>\n   <td style=\"text-align:right;\"> 10 </td>\n   <td style=\"text-align:right;\"> 0.7760180 </td>\n   <td style=\"text-align:right;\"> 0.0681380 </td>\n   <td style=\"text-align:right;\"> 0.8868924 </td>\n   <td style=\"text-align:right;\"> 0.6790044 </td>\n   <td style=\"text-align:left;\"> não </td>\n   <td style=\"text-align:left;\"> survival </td>\n   <td style=\"text-align:left;\"> Survival Probability </td>\n   <td style=\"text-align:left;\"> decreasing </td>\n   <td style=\"text-align:left;\"> tx </td>\n   <td style=\"text-align:right;\"> 0.95 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:right;\"> 32 </td>\n   <td style=\"text-align:right;\"> 40 </td>\n   <td style=\"text-align:right;\"> 0 </td>\n   <td style=\"text-align:right;\"> 2 </td>\n   <td style=\"text-align:right;\"> 14 </td>\n   <td style=\"text-align:right;\"> 12 </td>\n   <td style=\"text-align:right;\"> 0.7760180 </td>\n   <td style=\"text-align:right;\"> 0.0681380 </td>\n   <td style=\"text-align:right;\"> 0.8868924 </td>\n   <td style=\"text-align:right;\"> 0.6790044 </td>\n   <td style=\"text-align:left;\"> não </td>\n   <td style=\"text-align:left;\"> survival </td>\n   <td style=\"text-align:left;\"> Survival Probability </td>\n   <td style=\"text-align:left;\"> decreasing </td>\n   <td style=\"text-align:left;\"> tx </td>\n   <td style=\"text-align:right;\"> 0.95 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:right;\"> 34 </td>\n   <td style=\"text-align:right;\"> 38 </td>\n   <td style=\"text-align:right;\"> 3 </td>\n   <td style=\"text-align:right;\"> 0 </td>\n   <td style=\"text-align:right;\"> 17 </td>\n   <td style=\"text-align:right;\"> 12 </td>\n   <td style=\"text-align:right;\"> 0.7147534 </td>\n   <td style=\"text-align:right;\"> 0.0830568 </td>\n   <td style=\"text-align:right;\"> 0.8411128 </td>\n   <td style=\"text-align:right;\"> 0.6073768 </td>\n   <td style=\"text-align:left;\"> não </td>\n   <td style=\"text-align:left;\"> survival </td>\n   <td style=\"text-align:left;\"> Survival Probability </td>\n   <td style=\"text-align:left;\"> decreasing </td>\n   <td style=\"text-align:left;\"> tx </td>\n   <td style=\"text-align:right;\"> 0.95 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:right;\"> 36 </td>\n   <td style=\"text-align:right;\"> 35 </td>\n   <td style=\"text-align:right;\"> 1 </td>\n   <td style=\"text-align:right;\"> 5 </td>\n   <td style=\"text-align:right;\"> 18 </td>\n   <td style=\"text-align:right;\"> 17 </td>\n   <td style=\"text-align:right;\"> 0.6943319 </td>\n   <td style=\"text-align:right;\"> 0.0879702 </td>\n   <td style=\"text-align:right;\"> 0.8249877 </td>\n   <td style=\"text-align:right;\"> 0.5843684 </td>\n   <td style=\"text-align:left;\"> não </td>\n   <td style=\"text-align:left;\"> survival </td>\n   <td style=\"text-align:left;\"> Survival Probability </td>\n   <td style=\"text-align:left;\"> decreasing </td>\n   <td style=\"text-align:left;\"> tx </td>\n   <td style=\"text-align:right;\"> 0.95 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:right;\"> 37 </td>\n   <td style=\"text-align:right;\"> 29 </td>\n   <td style=\"text-align:right;\"> 0 </td>\n   <td style=\"text-align:right;\"> 3 </td>\n   <td style=\"text-align:right;\"> 18 </td>\n   <td style=\"text-align:right;\"> 20 </td>\n   <td style=\"text-align:right;\"> 0.6943319 </td>\n   <td style=\"text-align:right;\"> 0.0879702 </td>\n   <td style=\"text-align:right;\"> 0.8249877 </td>\n   <td style=\"text-align:right;\"> 0.5843684 </td>\n   <td style=\"text-align:left;\"> não </td>\n   <td style=\"text-align:left;\"> survival </td>\n   <td style=\"text-align:left;\"> Survival Probability </td>\n   <td style=\"text-align:left;\"> decreasing </td>\n   <td style=\"text-align:left;\"> tx </td>\n   <td style=\"text-align:right;\"> 0.95 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:right;\"> 40 </td>\n   <td style=\"text-align:right;\"> 26 </td>\n   <td style=\"text-align:right;\"> 1 </td>\n   <td style=\"text-align:right;\"> 1 </td>\n   <td style=\"text-align:right;\"> 19 </td>\n   <td style=\"text-align:right;\"> 21 </td>\n   <td style=\"text-align:right;\"> 0.6676268 </td>\n   <td style=\"text-align:right;\"> 0.0963183 </td>\n   <td style=\"text-align:right;\"> 0.8063435 </td>\n   <td style=\"text-align:right;\"> 0.5527738 </td>\n   <td style=\"text-align:left;\"> não </td>\n   <td style=\"text-align:left;\"> survival </td>\n   <td style=\"text-align:left;\"> Survival Probability </td>\n   <td style=\"text-align:left;\"> decreasing </td>\n   <td style=\"text-align:left;\"> tx </td>\n   <td style=\"text-align:right;\"> 0.95 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:right;\"> 41 </td>\n   <td style=\"text-align:right;\"> 24 </td>\n   <td style=\"text-align:right;\"> 1 </td>\n   <td style=\"text-align:right;\"> 0 </td>\n   <td style=\"text-align:right;\"> 20 </td>\n   <td style=\"text-align:right;\"> 21 </td>\n   <td style=\"text-align:right;\"> 0.6398090 </td>\n   <td style=\"text-align:right;\"> 0.1053035 </td>\n   <td style=\"text-align:right;\"> 0.7864748 </td>\n   <td style=\"text-align:right;\"> 0.5204942 </td>\n   <td style=\"text-align:left;\"> não </td>\n   <td style=\"text-align:left;\"> survival </td>\n   <td style=\"text-align:left;\"> Survival Probability </td>\n   <td style=\"text-align:left;\"> decreasing </td>\n   <td style=\"text-align:left;\"> tx </td>\n   <td style=\"text-align:right;\"> 0.95 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:right;\"> 42 </td>\n   <td style=\"text-align:right;\"> 23 </td>\n   <td style=\"text-align:right;\"> 0 </td>\n   <td style=\"text-align:right;\"> 2 </td>\n   <td style=\"text-align:right;\"> 20 </td>\n   <td style=\"text-align:right;\"> 23 </td>\n   <td style=\"text-align:right;\"> 0.6398090 </td>\n   <td style=\"text-align:right;\"> 0.1053035 </td>\n   <td style=\"text-align:right;\"> 0.7864748 </td>\n   <td style=\"text-align:right;\"> 0.5204942 </td>\n   <td style=\"text-align:left;\"> não </td>\n   <td style=\"text-align:left;\"> survival </td>\n   <td style=\"text-align:left;\"> Survival Probability </td>\n   <td style=\"text-align:left;\"> decreasing </td>\n   <td style=\"text-align:left;\"> tx </td>\n   <td style=\"text-align:right;\"> 0.95 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:right;\"> 44 </td>\n   <td style=\"text-align:right;\"> 21 </td>\n   <td style=\"text-align:right;\"> 1 </td>\n   <td style=\"text-align:right;\"> 2 </td>\n   <td style=\"text-align:right;\"> 21 </td>\n   <td style=\"text-align:right;\"> 25 </td>\n   <td style=\"text-align:right;\"> 0.6093419 </td>\n   <td style=\"text-align:right;\"> 0.1160593 </td>\n   <td style=\"text-align:right;\"> 0.7649815 </td>\n   <td style=\"text-align:right;\"> 0.4853680 </td>\n   <td style=\"text-align:left;\"> não </td>\n   <td style=\"text-align:left;\"> survival </td>\n   <td style=\"text-align:left;\"> Survival Probability </td>\n   <td style=\"text-align:left;\"> decreasing </td>\n   <td style=\"text-align:left;\"> tx </td>\n   <td style=\"text-align:right;\"> 0.95 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:right;\"> 46 </td>\n   <td style=\"text-align:right;\"> 18 </td>\n   <td style=\"text-align:right;\"> 1 </td>\n   <td style=\"text-align:right;\"> 2 </td>\n   <td style=\"text-align:right;\"> 22 </td>\n   <td style=\"text-align:right;\"> 27 </td>\n   <td style=\"text-align:right;\"> 0.5754896 </td>\n   <td style=\"text-align:right;\"> 0.1293744 </td>\n   <td style=\"text-align:right;\"> 0.7415854 </td>\n   <td style=\"text-align:right;\"> 0.4465949 </td>\n   <td style=\"text-align:left;\"> não </td>\n   <td style=\"text-align:left;\"> survival </td>\n   <td style=\"text-align:left;\"> Survival Probability </td>\n   <td style=\"text-align:left;\"> decreasing </td>\n   <td style=\"text-align:left;\"> tx </td>\n   <td style=\"text-align:right;\"> 0.95 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:right;\"> 50 </td>\n   <td style=\"text-align:right;\"> 15 </td>\n   <td style=\"text-align:right;\"> 0 </td>\n   <td style=\"text-align:right;\"> 1 </td>\n   <td style=\"text-align:right;\"> 22 </td>\n   <td style=\"text-align:right;\"> 28 </td>\n   <td style=\"text-align:right;\"> 0.5754896 </td>\n   <td style=\"text-align:right;\"> 0.1293744 </td>\n   <td style=\"text-align:right;\"> 0.7415854 </td>\n   <td style=\"text-align:right;\"> 0.4465949 </td>\n   <td style=\"text-align:left;\"> não </td>\n   <td style=\"text-align:left;\"> survival </td>\n   <td style=\"text-align:left;\"> Survival Probability </td>\n   <td style=\"text-align:left;\"> decreasing </td>\n   <td style=\"text-align:left;\"> tx </td>\n   <td style=\"text-align:right;\"> 0.95 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:right;\"> 51 </td>\n   <td style=\"text-align:right;\"> 14 </td>\n   <td style=\"text-align:right;\"> 0 </td>\n   <td style=\"text-align:right;\"> 1 </td>\n   <td style=\"text-align:right;\"> 22 </td>\n   <td style=\"text-align:right;\"> 29 </td>\n   <td style=\"text-align:right;\"> 0.5754896 </td>\n   <td style=\"text-align:right;\"> 0.1293744 </td>\n   <td style=\"text-align:right;\"> 0.7415854 </td>\n   <td style=\"text-align:right;\"> 0.4465949 </td>\n   <td style=\"text-align:left;\"> não </td>\n   <td style=\"text-align:left;\"> survival </td>\n   <td style=\"text-align:left;\"> Survival Probability </td>\n   <td style=\"text-align:left;\"> decreasing </td>\n   <td style=\"text-align:left;\"> tx </td>\n   <td style=\"text-align:right;\"> 0.95 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:right;\"> 54 </td>\n   <td style=\"text-align:right;\"> 13 </td>\n   <td style=\"text-align:right;\"> 0 </td>\n   <td style=\"text-align:right;\"> 1 </td>\n   <td style=\"text-align:right;\"> 22 </td>\n   <td style=\"text-align:right;\"> 30 </td>\n   <td style=\"text-align:right;\"> 0.5754896 </td>\n   <td style=\"text-align:right;\"> 0.1293744 </td>\n   <td style=\"text-align:right;\"> 0.7415854 </td>\n   <td style=\"text-align:right;\"> 0.4465949 </td>\n   <td style=\"text-align:left;\"> não </td>\n   <td style=\"text-align:left;\"> survival </td>\n   <td style=\"text-align:left;\"> Survival Probability </td>\n   <td style=\"text-align:left;\"> decreasing </td>\n   <td style=\"text-align:left;\"> tx </td>\n   <td style=\"text-align:right;\"> 0.95 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:right;\"> 56 </td>\n   <td style=\"text-align:right;\"> 12 </td>\n   <td style=\"text-align:right;\"> 0 </td>\n   <td style=\"text-align:right;\"> 1 </td>\n   <td style=\"text-align:right;\"> 22 </td>\n   <td style=\"text-align:right;\"> 31 </td>\n   <td style=\"text-align:right;\"> 0.5754896 </td>\n   <td style=\"text-align:right;\"> 0.1293744 </td>\n   <td style=\"text-align:right;\"> 0.7415854 </td>\n   <td style=\"text-align:right;\"> 0.4465949 </td>\n   <td style=\"text-align:left;\"> não </td>\n   <td style=\"text-align:left;\"> survival </td>\n   <td style=\"text-align:left;\"> Survival Probability </td>\n   <td style=\"text-align:left;\"> decreasing </td>\n   <td style=\"text-align:left;\"> tx </td>\n   <td style=\"text-align:right;\"> 0.95 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:right;\"> 58 </td>\n   <td style=\"text-align:right;\"> 11 </td>\n   <td style=\"text-align:right;\"> 1 </td>\n   <td style=\"text-align:right;\"> 3 </td>\n   <td style=\"text-align:right;\"> 23 </td>\n   <td style=\"text-align:right;\"> 34 </td>\n   <td style=\"text-align:right;\"> 0.5231723 </td>\n   <td style=\"text-align:right;\"> 0.1607130 </td>\n   <td style=\"text-align:right;\"> 0.7168758 </td>\n   <td style=\"text-align:right;\"> 0.3818086 </td>\n   <td style=\"text-align:left;\"> não </td>\n   <td style=\"text-align:left;\"> survival </td>\n   <td style=\"text-align:left;\"> Survival Probability </td>\n   <td style=\"text-align:left;\"> decreasing </td>\n   <td style=\"text-align:left;\"> tx </td>\n   <td style=\"text-align:right;\"> 0.95 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:right;\"> 60 </td>\n   <td style=\"text-align:right;\"> 7 </td>\n   <td style=\"text-align:right;\"> 0 </td>\n   <td style=\"text-align:right;\"> 1 </td>\n   <td style=\"text-align:right;\"> 23 </td>\n   <td style=\"text-align:right;\"> 35 </td>\n   <td style=\"text-align:right;\"> 0.5231723 </td>\n   <td style=\"text-align:right;\"> 0.1607130 </td>\n   <td style=\"text-align:right;\"> 0.7168758 </td>\n   <td style=\"text-align:right;\"> 0.3818086 </td>\n   <td style=\"text-align:left;\"> não </td>\n   <td style=\"text-align:left;\"> survival </td>\n   <td style=\"text-align:left;\"> Survival Probability </td>\n   <td style=\"text-align:left;\"> decreasing </td>\n   <td style=\"text-align:left;\"> tx </td>\n   <td style=\"text-align:right;\"> 0.95 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:right;\"> 65 </td>\n   <td style=\"text-align:right;\"> 6 </td>\n   <td style=\"text-align:right;\"> 0 </td>\n   <td style=\"text-align:right;\"> 1 </td>\n   <td style=\"text-align:right;\"> 23 </td>\n   <td style=\"text-align:right;\"> 36 </td>\n   <td style=\"text-align:right;\"> 0.5231723 </td>\n   <td style=\"text-align:right;\"> 0.1607130 </td>\n   <td style=\"text-align:right;\"> 0.7168758 </td>\n   <td style=\"text-align:right;\"> 0.3818086 </td>\n   <td style=\"text-align:left;\"> não </td>\n   <td style=\"text-align:left;\"> survival </td>\n   <td style=\"text-align:left;\"> Survival Probability </td>\n   <td style=\"text-align:left;\"> decreasing </td>\n   <td style=\"text-align:left;\"> tx </td>\n   <td style=\"text-align:right;\"> 0.95 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:right;\"> 71 </td>\n   <td style=\"text-align:right;\"> 5 </td>\n   <td style=\"text-align:right;\"> 0 </td>\n   <td style=\"text-align:right;\"> 1 </td>\n   <td style=\"text-align:right;\"> 23 </td>\n   <td style=\"text-align:right;\"> 37 </td>\n   <td style=\"text-align:right;\"> 0.5231723 </td>\n   <td style=\"text-align:right;\"> 0.1607130 </td>\n   <td style=\"text-align:right;\"> 0.7168758 </td>\n   <td style=\"text-align:right;\"> 0.3818086 </td>\n   <td style=\"text-align:left;\"> não </td>\n   <td style=\"text-align:left;\"> survival </td>\n   <td style=\"text-align:left;\"> Survival Probability </td>\n   <td style=\"text-align:left;\"> decreasing </td>\n   <td style=\"text-align:left;\"> tx </td>\n   <td style=\"text-align:right;\"> 0.95 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:right;\"> 77 </td>\n   <td style=\"text-align:right;\"> 4 </td>\n   <td style=\"text-align:right;\"> 0 </td>\n   <td style=\"text-align:right;\"> 1 </td>\n   <td style=\"text-align:right;\"> 23 </td>\n   <td style=\"text-align:right;\"> 38 </td>\n   <td style=\"text-align:right;\"> 0.5231723 </td>\n   <td style=\"text-align:right;\"> 0.1607130 </td>\n   <td style=\"text-align:right;\"> 0.7168758 </td>\n   <td style=\"text-align:right;\"> 0.3818086 </td>\n   <td style=\"text-align:left;\"> não </td>\n   <td style=\"text-align:left;\"> survival </td>\n   <td style=\"text-align:left;\"> Survival Probability </td>\n   <td style=\"text-align:left;\"> decreasing </td>\n   <td style=\"text-align:left;\"> tx </td>\n   <td style=\"text-align:right;\"> 0.95 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:right;\"> 80 </td>\n   <td style=\"text-align:right;\"> 3 </td>\n   <td style=\"text-align:right;\"> 0 </td>\n   <td style=\"text-align:right;\"> 1 </td>\n   <td style=\"text-align:right;\"> 23 </td>\n   <td style=\"text-align:right;\"> 39 </td>\n   <td style=\"text-align:right;\"> 0.5231723 </td>\n   <td style=\"text-align:right;\"> 0.1607130 </td>\n   <td style=\"text-align:right;\"> 0.7168758 </td>\n   <td style=\"text-align:right;\"> 0.3818086 </td>\n   <td style=\"text-align:left;\"> não </td>\n   <td style=\"text-align:left;\"> survival </td>\n   <td style=\"text-align:left;\"> Survival Probability </td>\n   <td style=\"text-align:left;\"> decreasing </td>\n   <td style=\"text-align:left;\"> tx </td>\n   <td style=\"text-align:right;\"> 0.95 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:right;\"> 82 </td>\n   <td style=\"text-align:right;\"> 2 </td>\n   <td style=\"text-align:right;\"> 0 </td>\n   <td style=\"text-align:right;\"> 1 </td>\n   <td style=\"text-align:right;\"> 23 </td>\n   <td style=\"text-align:right;\"> 40 </td>\n   <td style=\"text-align:right;\"> 0.5231723 </td>\n   <td style=\"text-align:right;\"> 0.1607130 </td>\n   <td style=\"text-align:right;\"> 0.7168758 </td>\n   <td style=\"text-align:right;\"> 0.3818086 </td>\n   <td style=\"text-align:left;\"> não </td>\n   <td style=\"text-align:left;\"> survival </td>\n   <td style=\"text-align:left;\"> Survival Probability </td>\n   <td style=\"text-align:left;\"> decreasing </td>\n   <td style=\"text-align:left;\"> tx </td>\n   <td style=\"text-align:right;\"> 0.95 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:right;\"> 97 </td>\n   <td style=\"text-align:right;\"> 1 </td>\n   <td style=\"text-align:right;\"> 0 </td>\n   <td style=\"text-align:right;\"> 1 </td>\n   <td style=\"text-align:right;\"> 23 </td>\n   <td style=\"text-align:right;\"> 41 </td>\n   <td style=\"text-align:right;\"> 0.5231723 </td>\n   <td style=\"text-align:right;\"> 0.1607130 </td>\n   <td style=\"text-align:right;\"> 0.7168758 </td>\n   <td style=\"text-align:right;\"> 0.3818086 </td>\n   <td style=\"text-align:left;\"> não </td>\n   <td style=\"text-align:left;\"> survival </td>\n   <td style=\"text-align:left;\"> Survival Probability </td>\n   <td style=\"text-align:left;\"> decreasing </td>\n   <td style=\"text-align:left;\"> tx </td>\n   <td style=\"text-align:right;\"> 0.95 </td>\n  </tr>\n</tbody>\n</table>\n\n`````\n:::\n\n```{.r .cell-code}\nsummary(life_table2)\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n      time           n.risk        n.event          n.censor    \n Min.   : 0.00   Min.   : 1.0   Min.   :0.0000   Min.   :0.000  \n 1st Qu.:28.00   1st Qu.:13.5   1st Qu.:0.0000   1st Qu.:0.000  \n Median :42.00   Median :34.0   Median :0.0000   Median :1.000  \n Mean   :46.25   Mean   :31.9   Mean   :0.4096   Mean   :1.084  \n 3rd Qu.:65.50   3rd Qu.:50.0   3rd Qu.:1.0000   3rd Qu.:1.000  \n Max.   :99.00   Max.   :64.0   Max.   :3.0000   Max.   :5.000  \n   cum.event       cum.censor       estimate        std.error      \n Min.   : 0.00   Min.   : 0.00   Min.   :0.5232   Min.   :0.00000  \n 1st Qu.: 7.00   1st Qu.: 4.00   1st Qu.:0.6818   1st Qu.:0.05056  \n Median :10.00   Median :20.00   Median :0.7929   Median :0.06683  \n Mean   :11.48   Mean   :20.04   Mean   :0.7757   Mean   :0.08234  \n 3rd Qu.:14.00   3rd Qu.:34.50   3rd Qu.:0.8726   3rd Qu.:0.11068  \n Max.   :23.00   Max.   :49.00   Max.   :1.0000   Max.   :0.16071  \n   conf.high         conf.low      strata   estimate_type     \n Min.   :0.7169   Min.   :0.3818   sim:43   Length:83         \n 1st Qu.:0.8869   1st Qu.:0.5099   não:40   Class :character  \n Median :0.9309   Median :0.6985            Mode  :character  \n Mean   :0.9015   Mean   :0.6716                              \n 3rd Qu.:0.9663   3rd Qu.:0.7880                              \n Max.   :1.0000   Max.   :1.0000                              \n estimate_type_label monotonicity_type  strata_label         conf.level  \n Length:83           Length:83          Length:83          Min.   :0.95  \n Class :character    Class :character   Class :character   1st Qu.:0.95  \n Mode  :character    Mode  :character   Mode  :character   Median :0.95  \n                                                           Mean   :0.95  \n                                                           3rd Qu.:0.95  \n                                                           Max.   :0.95  \n```\n:::\n\n```{.r .cell-code}\nsummary(life_table2, times = tempos_específicos)\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n      time           n.risk        n.event          n.censor    \n Min.   : 0.00   Min.   : 1.0   Min.   :0.0000   Min.   :0.000  \n 1st Qu.:28.00   1st Qu.:13.5   1st Qu.:0.0000   1st Qu.:0.000  \n Median :42.00   Median :34.0   Median :0.0000   Median :1.000  \n Mean   :46.25   Mean   :31.9   Mean   :0.4096   Mean   :1.084  \n 3rd Qu.:65.50   3rd Qu.:50.0   3rd Qu.:1.0000   3rd Qu.:1.000  \n Max.   :99.00   Max.   :64.0   Max.   :3.0000   Max.   :5.000  \n   cum.event       cum.censor       estimate        std.error      \n Min.   : 0.00   Min.   : 0.00   Min.   :0.5232   Min.   :0.00000  \n 1st Qu.: 7.00   1st Qu.: 4.00   1st Qu.:0.6818   1st Qu.:0.05056  \n Median :10.00   Median :20.00   Median :0.7929   Median :0.06683  \n Mean   :11.48   Mean   :20.04   Mean   :0.7757   Mean   :0.08234  \n 3rd Qu.:14.00   3rd Qu.:34.50   3rd Qu.:0.8726   3rd Qu.:0.11068  \n Max.   :23.00   Max.   :49.00   Max.   :1.0000   Max.   :0.16071  \n   conf.high         conf.low      strata   estimate_type     \n Min.   :0.7169   Min.   :0.3818   sim:43   Length:83         \n 1st Qu.:0.8869   1st Qu.:0.5099   não:40   Class :character  \n Median :0.9309   Median :0.6985            Mode  :character  \n Mean   :0.9015   Mean   :0.6716                              \n 3rd Qu.:0.9663   3rd Qu.:0.7880                              \n Max.   :1.0000   Max.   :1.0000                              \n estimate_type_label monotonicity_type  strata_label         conf.level  \n Length:83           Length:83          Length:83          Min.   :0.95  \n Class :character    Class :character   Class :character   1st Qu.:0.95  \n Mode  :character    Mode  :character   Mode  :character   Median :0.95  \n                                                           Mean   :0.95  \n                                                           3rd Qu.:0.95  \n                                                           Max.   :0.95  \n```\n:::\n\n```{.r .cell-code}\nhead(life_table2)\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n# A tibble: 6 × 16\n   time n.risk n.event n.censor cum.event cum.censor estimate std.error\n  <dbl>  <dbl>   <dbl>    <dbl>     <dbl>      <dbl>    <dbl>     <dbl>\n1     0     60       0        1         0          1    1        0     \n2     3     59       1        0         1          1    0.983    0.0171\n3     4     58       1        0         2          1    0.966    0.0244\n4    24     57       1        0         3          1    0.949    0.0301\n5    26     56       1        0         4          1    0.932    0.0351\n6    29     55       1        0         5          1    0.915    0.0396\n# ℹ 8 more variables: conf.high <dbl>, conf.low <dbl>, strata <fct>,\n#   estimate_type <chr>, estimate_type_label <chr>, monotonicity_type <chr>,\n#   strata_label <chr>, conf.level <dbl>\n```\n:::\n:::\n\n\n### Código não usado\n\n\n::: {.cell}\n\n```{.r .cell-code}\n# Create the new data  \nnew_df <- with(db,\n               data.frame(tx = c(\"sim\", \"não\")\n               )\n)\nglimpse(new_df)\n```\n\n::: {.cell-output .cell-output-stdout}\n```\nRows: 2\nColumns: 1\n$ tx <chr> \"sim\", \"não\"\n```\n:::\n\n```{.r .cell-code}\nnew_df$tx = as.factor(new_df$tx)\n\n\n# Survival curves with new data\n#%%%%%%%%%%%%%%%%%%%%%%%%%%%\nfit_cox <- survfit(cox_res, newdata = new_df)\n\n\nggsurvplot(fit_cox, data = db,\n           size = 1,\n           palette = c('#E7B800', '#2e9fdf'),\n           censor.shape = '|', censor.size = 4,\n           conf.int = TRUE,\n           pval = TRUE,\n          # risk.table = TRUE,\n         #  risk.table.col = 'strata',\n           legend.labs = list('0' = 'Transplante = sim', '1' = 'Transplante = não'),\n           risk.table.height = 0.25,\n           ggtheme = theme_bw())\n```\n\n::: {.cell-output .cell-output-stderr}\n```\nWarning in .pvalue(fit, data = data, method = method, pval = pval, pval.coord = pval.coord, : There are no survival curves to be compared. \n This is a null model.\n```\n:::\n\n::: {.cell-output-display}\n![](lista_6_files/figure-html/unnamed-chunk-62-1.png){width=672}\n:::\n:::\n\n\n### Para salvar os valores de sobrevida\n\n\n::: {.cell}\n\n```{.r .cell-code}\nsurv_fit_cox = survfit(cox_res)\n\n# Extrai os tempos de sobrevida e as estimativas de sobrevida\nsurv_df_cox <- data.frame(time = surv_fit_cox$time, surv = surv_fit_cox$surv)\nsurv_df_cox\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n   time      surv\n1     0 0.9919270\n2     3 0.9837071\n3     4 0.9754200\n4     6 0.9712508\n5     8 0.9628064\n6    11 0.9585298\n7    13 0.9542158\n8    14 0.9542158\n9    15 0.9542158\n10   16 0.9497436\n11   18 0.9497436\n12   19 0.9451662\n13   22 0.9451662\n14   24 0.9357670\n15   25 0.9310329\n16   26 0.9262516\n17   27 0.9214703\n18   29 0.9166403\n19   30 0.9166403\n20   31 0.9166403\n21   32 0.9166403\n22   34 0.8995899\n23   35 0.8995899\n24   36 0.8936099\n25   37 0.8936099\n26   38 0.8862225\n27   39 0.8862225\n28   40 0.8787730\n29   41 0.8630231\n30   42 0.8630231\n31   44 0.8544152\n32   45 0.8449676\n33   46 0.8354131\n34   48 0.8354131\n35   49 0.8245091\n36   50 0.8245091\n37   51 0.8245091\n38   52 0.8245091\n39   54 0.8245091\n40   55 0.8245091\n41   56 0.8245091\n42   57 0.8245091\n43   58 0.8091983\n44   60 0.8091983\n45   65 0.8091983\n46   66 0.7855423\n47   67 0.7855423\n48   71 0.7855423\n49   73 0.7855423\n50   74 0.7855423\n51   75 0.7855423\n52   77 0.7855423\n53   80 0.7855423\n54   82 0.7855423\n55   83 0.7855423\n56   87 0.7855423\n57   89 0.7169271\n58   90 0.7169271\n59   92 0.7169271\n60   96 0.7169271\n61   97 0.7169271\n62   98 0.7169271\n63   99 0.7169271\n```\n:::\n:::\n\n\n## Referências\n\n<https://bookdown.org/mpfoley1973/survival/semiparametric.html#fitting-the-model-1>\n\n<https://biostatsquid.com/easy-survival-analysis-r-tutorial/>\n\n<https://www.youtube.com/watch?v=XrvCCFQRCZE>\n\n<https://www.youtube.com/watch?v=vX3l36ptrTU&list=PLqzoL9-eJTNDdnKvep_YHIwk2AMqHhuJ0>\n\n<http://www.sthda.com/english/wiki/cox-proportional-hazards-model>\n\n## Versões dos pacotes\n\n\n::: {.cell}\n\n```{.r .cell-code}\nreport(sessionInfo())\n```\n\n::: {.cell-output .cell-output-stdout}\n```\nAnalyses were conducted using the R Statistical language (version 4.3.1; R Core\nTeam, 2023) on Windows 11 x64 (build 22621), using the packages effectsize\n(version 0.8.6; Ben-Shachar MS et al., 2020), lpSolve (version 5.6.19;\nBerkelaar M, others, 2023), survMisc (version 0.5.6; Dardis C, 2022), tm\n(version 0.7.11; Feinerer I, Hornik K, 2023), flexplot (version 0.20.5; Fife D,\n2024), lubridate (version 1.9.3; Grolemund G, Wickham H, 2011), coxphf (version\n1.13.4; Heinze G et al., 2023), NLP (version 0.2.1; Hornik K, 2020), coin\n(version 1.4.3; Hothorn T et al., 2006), ggpubr (version 0.6.0; Kassambara A,\n2023), survminer (version 0.4.9; Kassambara A et al., 2021),\nPHInfiniteEstimates (version 2.9.5; Kolassa JE, Zhang J, 2023), parameters\n(version 0.21.3; Lüdecke D et al., 2020), performance (version 0.10.8; Lüdecke\nD et al., 2021), easystats (version 0.6.0; Lüdecke D et al., 2022), see\n(version 0.8.1; Lüdecke D et al., 2021), insight (version 0.19.6; Lüdecke D et\nal., 2019), bayestestR (version 0.13.1; Makowski D et al., 2019), modelbased\n(version 0.8.6; Makowski D et al., 2020), report (version 0.5.7; Makowski D et\nal., 2023), correlation (version 0.8.4; Makowski D et al., 2022), condSURV\n(version 2.0.4; Meira-Machado L, Sestelo M, 2023), tibble (version 3.2.1;\nMüller K, Wickham H, 2023), datawizard (version 0.9.0; Patil I et al., 2022),\nforeign (version 0.8.85; R Core Team, 2023), nph (version 2.1; Ristl R et al.,\n2021), broom (version 1.0.5; Robinson D et al., 2023), ggsurvfit (version\n1.0.0; Sjoberg D et al., 2023), gtsummary (version 1.7.2; Sjoberg D et al.,\n2021), rempsyc (version 0.1.6; Thériault R, 2023), survival (version 3.5.7;\nTherneau T, 2023), ggplot2 (version 3.4.4; Wickham H, 2016), forcats (version\n1.0.0; Wickham H, 2023), stringr (version 1.5.1; Wickham H, 2023), tidyverse\n(version 2.0.0; Wickham H et al., 2019), dplyr (version 1.1.3; Wickham H et\nal., 2023), purrr (version 1.0.2; Wickham H, Henry L, 2023), readr (version\n2.1.4; Wickham H et al., 2023), tidyr (version 1.3.0; Wickham H et al., 2023)\nand kableExtra (version 1.3.4; Zhu H, 2021).\n\nReferences\n----------\n  - Ben-Shachar MS, Lüdecke D, Makowski D (2020). \"effectsize: Estimation of\nEffect Size Indices and Standardized Parameters.\" _Journal of Open Source\nSoftware_, *5*(56), 2815. doi:10.21105/joss.02815\n<https://doi.org/10.21105/joss.02815>, <https://doi.org/10.21105/joss.02815>.\n  - Berkelaar M, others (2023). _lpSolve: Interface to 'Lp_solve' v. 5.5 to Solve\nLinear/Integer Programs_. R package version 5.6.19,\n<https://CRAN.R-project.org/package=lpSolve>.\n  - Dardis C (2022). _survMisc: Miscellaneous Functions for Survival Data_. R\npackage version 0.5.6, <https://CRAN.R-project.org/package=survMisc>.\n  - Feinerer I, Hornik K (2023). _tm: Text Mining Package_. R package version\n0.7-11, <https://CRAN.R-project.org/package=tm>. Feinerer I, Hornik K, Meyer D\n(2008). \"Text Mining Infrastructure in R.\" _Journal of Statistical Software_,\n*25*(5), 1-54. doi:10.18637/jss.v025.i05\n<https://doi.org/10.18637/jss.v025.i05>.\n  - Fife D (2024). _flexplot: Graphically Based Data Analysis Using 'flexplot'_.\nR package version 0.20.5.\n  - Grolemund G, Wickham H (2011). \"Dates and Times Made Easy with lubridate.\"\n_Journal of Statistical Software_, *40*(3), 1-25.\n<https://www.jstatsoft.org/v40/i03/>.\n  - Heinze G, Ploner M, Jiricka L, Steiner G (2023). _coxphf: Cox Regression with\nFirth's Penalized Likelihood_. R package version 1.13.4,\n<https://CRAN.R-project.org/package=coxphf>.\n  - Hornik K (2020). _NLP: Natural Language Processing Infrastructure_. R package\nversion 0.2-1, <https://CRAN.R-project.org/package=NLP>.\n  - Hothorn T, Hornik K, van de Wiel MA, Zeileis A (2006). \"A Lego system for\nconditional inference.\" _The American Statistician_, *60*(3), 257-263.\ndoi:10.1198/000313006X118430 <https://doi.org/10.1198/000313006X118430>.\nHothorn T, Hornik K, van de Wiel MA, Zeileis A (2008). \"Implementing a class of\npermutation tests: The coin package.\" _Journal of Statistical Software_,\n*28*(8), 1-23. doi:10.18637/jss.v028.i08\n<https://doi.org/10.18637/jss.v028.i08>.\n  - Kassambara A (2023). _ggpubr: 'ggplot2' Based Publication Ready Plots_. R\npackage version 0.6.0, <https://CRAN.R-project.org/package=ggpubr>.\n  - Kassambara A, Kosinski M, Biecek P (2021). _survminer: Drawing Survival\nCurves using 'ggplot2'_. R package version 0.4.9,\n<https://CRAN.R-project.org/package=survminer>.\n  - Kolassa JE, Zhang J (2023). _PHInfiniteEstimates: Tools for Inference in the\nPresence of a Monotone Likelihood_. R package version 2.9.5,\n<https://CRAN.R-project.org/package=PHInfiniteEstimates>.\n  - Lüdecke D, Ben-Shachar M, Patil I, Makowski D (2020). \"Extracting, Computing\nand Exploring the Parameters of Statistical Models using R.\" _Journal of Open\nSource Software_, *5*(53), 2445. doi:10.21105/joss.02445\n<https://doi.org/10.21105/joss.02445>.\n  - Lüdecke D, Ben-Shachar M, Patil I, Waggoner P, Makowski D (2021).\n\"performance: An R Package for Assessment, Comparison and Testing of\nStatistical Models.\" _Journal of Open Source Software_, *6*(60), 3139.\ndoi:10.21105/joss.03139 <https://doi.org/10.21105/joss.03139>.\n  - Lüdecke D, Ben-Shachar M, Patil I, Wiernik B, Makowski D (2022). \"easystats:\nFramework for Easy Statistical Modeling, Visualization, and Reporting.\" _CRAN_.\nR package, <https://easystats.github.io/easystats/>.\n  - Lüdecke D, Patil I, Ben-Shachar M, Wiernik B, Waggoner P, Makowski D (2021).\n\"see: An R Package for Visualizing Statistical Models.\" _Journal of Open Source\nSoftware_, *6*(64), 3393. doi:10.21105/joss.03393\n<https://doi.org/10.21105/joss.03393>.\n  - Lüdecke D, Waggoner P, Makowski D (2019). \"insight: A Unified Interface to\nAccess Information from Model Objects in R.\" _Journal of Open Source Software_,\n*4*(38), 1412. doi:10.21105/joss.01412 <https://doi.org/10.21105/joss.01412>.\n  - Makowski D, Ben-Shachar M, Lüdecke D (2019). \"bayestestR: Describing Effects\nand their Uncertainty, Existence and Significance within the Bayesian\nFramework.\" _Journal of Open Source Software_, *4*(40), 1541.\ndoi:10.21105/joss.01541 <https://doi.org/10.21105/joss.01541>,\n<https://joss.theoj.org/papers/10.21105/joss.01541>.\n  - Makowski D, Ben-Shachar M, Patil I, Lüdecke D (2020). \"Estimation of\nModel-Based Predictions, Contrasts and Means.\" _CRAN_.\n<https://github.com/easystats/modelbased>.\n  - Makowski D, Lüdecke D, Patil I, Thériault R, Ben-Shachar M, Wiernik B (2023).\n\"Automated Results Reporting as a Practical Tool to Improve Reproducibility and\nMethodological Best Practices Adoption.\" _CRAN_.\n<https://easystats.github.io/report/>.\n  - Makowski D, Wiernik B, Patil I, Lüdecke D, Ben-Shachar M (2022).\n\"correlation: Methods for Correlation Analysis.\" Version 0.8.3,\n<https://CRAN.R-project.org/package=correlation>. Makowski D, Ben-Shachar M,\nPatil I, Lüdecke D (2020). \"Methods and Algorithms for Correlation Analysis in\nR.\" _Journal of Open Source Software_, *5*(51), 2306. doi:10.21105/joss.02306\n<https://doi.org/10.21105/joss.02306>,\n<https://joss.theoj.org/papers/10.21105/joss.02306>.\n  - Meira-Machado L, Sestelo M (2023). _condSURV: Estimation of the Conditional\nSurvival Function for Ordered Multivariate Failure Time Data_. R package\nversion 2.0.4, <https://CRAN.R-project.org/package=condSURV>.\n  - Müller K, Wickham H (2023). _tibble: Simple Data Frames_. R package version\n3.2.1, <https://CRAN.R-project.org/package=tibble>.\n  - Patil I, Makowski D, Ben-Shachar M, Wiernik B, Bacher E, Lüdecke D (2022).\n\"datawizard: An R Package for Easy Data Preparation and Statistical\nTransformations.\" _Journal of Open Source Software_, *7*(78), 4684.\ndoi:10.21105/joss.04684 <https://doi.org/10.21105/joss.04684>.\n  - R Core Team (2023). _foreign: Read Data Stored by 'Minitab', 'S', 'SAS',\n'SPSS', 'Stata', 'Systat', 'Weka', 'dBase', ..._. R package version 0.8-85,\n<https://CRAN.R-project.org/package=foreign>.\n  - R Core Team (2023). _R: A Language and Environment for Statistical\nComputing_. R Foundation for Statistical Computing, Vienna, Austria.\n<https://www.R-project.org/>.\n  - Ristl R, Ballarini N, Götte H, Schüler A, Posch M, König F (2021). \"Delayed\ntreatment effects, treatment switching and heterogeneous patient populations:\nHow to design and analyze RCTs in oncology.\" _Pharmaceutical statistics_,\n*20*(1), 129-145.\n  - Robinson D, Hayes A, Couch S (2023). _broom: Convert Statistical Objects into\nTidy Tibbles_. R package version 1.0.5,\n<https://CRAN.R-project.org/package=broom>.\n  - Sjoberg D, Baillie M, Fruechtenicht C, Haesendonckx S, Treis T (2023).\n_ggsurvfit: Flexible Time-to-Event Figures_. R package version 1.0.0,\n<https://CRAN.R-project.org/package=ggsurvfit>.\n  - Sjoberg D, Whiting K, Curry M, Lavery J, Larmarange J (2021). \"Reproducible\nSummary Tables with the gtsummary Package.\" _The R Journal_, *13*, 570-580.\ndoi:10.32614/RJ-2021-053 <https://doi.org/10.32614/RJ-2021-053>,\n<https://doi.org/10.32614/RJ-2021-053>.\n  - Thériault R (2023). \"rempsyc: Convenience functions for psychology.\" _Journal\nof Open Source Software_, *8*(87), 5466. doi:10.21105/joss.05466\n<https://doi.org/10.21105/joss.05466>, <https://doi.org/10.21105/joss.05466>.\n  - Therneau T (2023). _A Package for Survival Analysis in R_. R package version\n3.5-7, <https://CRAN.R-project.org/package=survival>. Terry M. Therneau,\nPatricia M. Grambsch (2000). _Modeling Survival Data: Extending the Cox Model_.\nSpringer, New York. ISBN 0-387-98784-3.\n  - Wickham H (2016). _ggplot2: Elegant Graphics for Data Analysis_.\nSpringer-Verlag New York. ISBN 978-3-319-24277-4,\n<https://ggplot2.tidyverse.org>.\n  - Wickham H (2023). _forcats: Tools for Working with Categorical Variables\n(Factors)_. R package version 1.0.0,\n<https://CRAN.R-project.org/package=forcats>.\n  - Wickham H (2023). _stringr: Simple, Consistent Wrappers for Common String\nOperations_. R package version 1.5.1,\n<https://CRAN.R-project.org/package=stringr>.\n  - Wickham H, Averick M, Bryan J, Chang W, McGowan LD, François R, Grolemund G,\nHayes A, Henry L, Hester J, Kuhn M, Pedersen TL, Miller E, Bache SM, Müller K,\nOoms J, Robinson D, Seidel DP, Spinu V, Takahashi K, Vaughan D, Wilke C, Woo K,\nYutani H (2019). \"Welcome to the tidyverse.\" _Journal of Open Source Software_,\n*4*(43), 1686. doi:10.21105/joss.01686 <https://doi.org/10.21105/joss.01686>.\n  - Wickham H, François R, Henry L, Müller K, Vaughan D (2023). _dplyr: A Grammar\nof Data Manipulation_. R package version 1.1.3,\n<https://CRAN.R-project.org/package=dplyr>.\n  - Wickham H, Henry L (2023). _purrr: Functional Programming Tools_. R package\nversion 1.0.2, <https://CRAN.R-project.org/package=purrr>.\n  - Wickham H, Hester J, Bryan J (2023). _readr: Read Rectangular Text Data_. R\npackage version 2.1.4, <https://CRAN.R-project.org/package=readr>.\n  - Wickham H, Vaughan D, Girlich M (2023). _tidyr: Tidy Messy Data_. R package\nversion 1.3.0, <https://CRAN.R-project.org/package=tidyr>.\n  - Zhu H (2021). _kableExtra: Construct Complex Table with 'kable' and Pipe\nSyntax_. R package version 1.3.4,\n<https://CRAN.R-project.org/package=kableExtra>.\n```\n:::\n:::\n",
    "supporting": [
      "lista_6_files"
    ],
    "filters": [
      "rmarkdown/pagebreak.lua"
    ],
    "includes": {},
    "engineDependencies": {},
    "preserve": {},
    "postProcess": true
  }
}